<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>æ–°çŸ¥ on è¡Œè¡Œé‡è¡Œè¡Œ</title>
    <link>http://youngspring1.github.io/categories/%E6%96%B0%E7%9F%A5/</link>
    <description>Recent content in æ–°çŸ¥ on è¡Œè¡Œé‡è¡Œè¡Œ</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <copyright>Copyright (c) 2016. All rights reserved.</copyright>
    <lastBuildDate>Tue, 22 Mar 2016 23:58:42 +0800</lastBuildDate>
    <atom:link href="http://youngspring1.github.io/categories/%E6%96%B0%E7%9F%A5/feed/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>data.table æ•™ç¨‹3ï¼ˆç¿»è¯‘ä¸­ï¼‰</title>
      <link>http://youngspring1.github.io/post/2016-03-22-datatable3/</link>
      <pubDate>Tue, 22 Mar 2016 23:58:42 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016-03-22-datatable3/</guid>
      <description>

&lt;p&gt;ç›®å½•ï¼š&lt;br /&gt;
1) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-13-datatable1/&#34;&gt;data.table ä»‹ç»&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-21-datatable2/&#34;&gt;è¯­ä¹‰å¼•ç”¨&lt;/a&gt;&lt;br /&gt;
3) Keys and fast binary search based subsets&lt;br /&gt;
4) Efficient reshaping using data.tables&lt;/p&gt;

&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;br /&gt;
1) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html&#34;&gt;Introduction to data.table&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html&#34;&gt;Reference semantics&lt;/a&gt;&lt;br /&gt;
3) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html&#34;&gt;Keys and fast binary search based subsets&lt;/a&gt;&lt;br /&gt;
4) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html&#34;&gt;Efficient reshaping using data.tables&lt;/a&gt;&lt;br /&gt;
5) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-faq.html&#34;&gt;Frequently asked questions&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;1-keys:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;1. Keys&lt;/h2&gt;

&lt;h4 id=&#34;a-what-is-a-key:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;a) What is a key?&lt;/h4&gt;

&lt;h4 id=&#34;b-set-get-and-use-keys-on-a-data-table:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;b) Set, get and use keys on a data.table&lt;/h4&gt;

&lt;h4 id=&#34;c-keys-and-multiple-columns:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;c) Keys and multiple columns&lt;/h4&gt;

&lt;h2 id=&#34;2-combining-keys-with-j-and-by:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;2. Combining keys with j and by&lt;/h2&gt;

&lt;h4 id=&#34;a-select-in-j:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;a) Select in j&lt;/h4&gt;

&lt;h4 id=&#34;b-chaining:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;b) Chaining&lt;/h4&gt;

&lt;h4 id=&#34;c-compute-or-do-in-j:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;c) Compute or do in j&lt;/h4&gt;

&lt;h4 id=&#34;d-sub-assign-by-reference-using-in-j:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;d) sub-assign by reference using := in j&lt;/h4&gt;

&lt;h4 id=&#34;e-aggregation-using-by:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;e) Aggregation using by&lt;/h4&gt;

&lt;h2 id=&#34;3-additional-arguments-mult-and-nomatch:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;3. Additional arguments - mult and nomatch&lt;/h2&gt;

&lt;h4 id=&#34;a-the-mult-argument:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;a) The mult argument&lt;/h4&gt;

&lt;h2 id=&#34;4-binary-search-vs-vector-scans:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;4. binary search vs vector scans&lt;/h2&gt;

&lt;h4 id=&#34;a-performance-of-binary-search-approach:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;a) Performance of binary search approach&lt;/h4&gt;

&lt;h4 id=&#34;b-why-does-keying-a-data-table-result-in-blazing-fast-susbets:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;b) Why does keying a data.table result in blazing fast susbets?&lt;/h4&gt;

&lt;h2 id=&#34;æ€»ç»“:e288dbec01fe10fa9bd0f8ade4810458&#34;&gt;æ€»ç»“&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>Rè¯­è¨€å…¥é—¨æ•™ç¨‹1ï¼ˆç¼–å†™ä¸­ï¼‰</title>
      <link>http://youngspring1.github.io/post/2016-03-22-R1/</link>
      <pubDate>Tue, 22 Mar 2016 23:20:42 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016-03-22-R1/</guid>
      <description>

&lt;p&gt;æœ€è¿‘ç”¨Rè¯­è¨€æ”¹å†™ä¸€ä¸ªç°æœ‰çš„å°å·¥å…·ï¼ŒæŠŠå­¦åˆ°çš„ä¸œè¥¿ç®€å•æ€»ç»“ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å½•ï¼š&lt;br /&gt;
1) æ•°æ®ç»“æ„&lt;br /&gt;
2) è¾“å…¥è¾“å‡º&lt;br /&gt;
3) å›¾å½¢åˆæ­¥&lt;br /&gt;
4) åŸºæœ¬æ•°æ®ç®¡ç†&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æ•™ç¨‹1ä»‹ç»Rè¯­è¨€ä¸­å¸¸ç”¨çš„å‡ ç§æ•°æ®ç»“æ„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;1-å‘é‡:42c22e7d6c4eed432ecfe282fd334b8f&#34;&gt;1.å‘é‡&lt;/h2&gt;

&lt;h2 id=&#34;2-çŸ©é˜µ:42c22e7d6c4eed432ecfe282fd334b8f&#34;&gt;2.çŸ©é˜µ&lt;/h2&gt;

&lt;h2 id=&#34;3-æ•°ç»„:42c22e7d6c4eed432ecfe282fd334b8f&#34;&gt;3.æ•°ç»„&lt;/h2&gt;

&lt;h2 id=&#34;4-æ•°æ®æ¡†:42c22e7d6c4eed432ecfe282fd334b8f&#34;&gt;4.æ•°æ®æ¡†&lt;/h2&gt;

&lt;h2 id=&#34;5-åˆ—è¡¨:42c22e7d6c4eed432ecfe282fd334b8f&#34;&gt;5.åˆ—è¡¨&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>data.table æ•™ç¨‹2ï¼ˆç¿»è¯‘ä¸­ï¼‰</title>
      <link>http://youngspring1.github.io/post/2016-03-21-datatable2/</link>
      <pubDate>Mon, 21 Mar 2016 19:56:45 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016-03-21-datatable2/</guid>
      <description>

&lt;p&gt;ç›®å½•ï¼š&lt;br /&gt;
1) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-13-datatable1/&#34;&gt;data.table ä»‹ç»&lt;/a&gt;&lt;br /&gt;
2) è¯­ä¹‰å¼•ç”¨&lt;br /&gt;
3) Keys and fast binary search based subsets&lt;br /&gt;
4) Efficient reshaping using data.tables&lt;/p&gt;

&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;br /&gt;
1) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html&#34;&gt;Introduction to data.table&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html&#34;&gt;Reference semantics&lt;/a&gt;&lt;br /&gt;
3) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html&#34;&gt;Keys and fast binary search based subsets&lt;/a&gt;&lt;br /&gt;
4) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html&#34;&gt;Efficient reshaping using data.tables&lt;/a&gt;&lt;br /&gt;
5) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-faq.html&#34;&gt;Frequently asked questions&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æœ¬æ•™ç¨‹è®¨è®ºdata.tableçš„è¯­ä¹‰å¼•ç”¨ï¼Œå®ƒå…è®¸é€šè¿‡å¼•ç”¨æ¥add/update/deleteåˆ—ï¼Œç„¶åé€šè¿‡å‚æ•°iå’Œbyç»“åˆã€‚å®ƒä¸»è¦ç»™é‚£äº›ç†Ÿæ‚‰data.tableè¯­æ³•ã€çŸ¥é“å¦‚ä½•subsetè¡Œï¼selectåˆ—ï¼åˆ†ç»„çš„äººä½¿ç”¨ã€‚å¦‚æœä½ å¯¹è¿™äº›ä¸ç†Ÿæ‚‰ï¼Œè¯·å­¦ä¹ ä¸Šä¸€è®² &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-13-datatable1/&#34;&gt;data.table ä»‹ç»&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;æ•°æ®:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;æ•°æ®&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬ç»§ç»­ä½¿ç”¨ä¸Šä¸€è®²ä¸­ä½¿ç”¨çš„èˆªç­ä¿¡æ¯flightsã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights &amp;lt;- fread(&amp;quot;https://raw.githubusercontent.com/wiki/arunsrinivasan/    flights/NYCflights14/flights14.csv&amp;quot;)
flights
#         year month day dep_time dep_delay arr_time arr_delay cancelled carrier tailnum flight
#      1: 2014     1   1      914        14     1238        13         0      AA  N338AA      1
#      2: 2014     1   1     1157        -3     1523        13         0      AA  N335AA      3
#      3: 2014     1   1     1902         2     2224         9         0      AA  N327AA     21
#      4: 2014     1   1      722        -8     1014       -26         0      AA  N3EHAA     29
#      5: 2014     1   1     1347         2     1706         1         0      AA  N319AA    117
#     ---                                                                                      
# 253312: 2014    10  31     1459         1     1747       -30         0      UA  N23708   1744
# 253313: 2014    10  31      854        -5     1147       -14         0      UA  N33132   1758
# 253314: 2014    10  31     1102        -8     1311        16         0      MQ  N827MQ   3591
# 253315: 2014    10  31     1106        -4     1325        15         0      MQ  N511MQ   3592
# 253316: 2014    10  31      824        -5     1045         1         0      MQ  N813MQ   3599
#         origin dest air_time distance hour min
#      1:    JFK  LAX      359     2475    9  14
#      2:    JFK  LAX      363     2475   11  57
#      3:    JFK  LAX      351     2475   19   2
#      4:    LGA  PBI      157     1035    7  22
#      5:    JFK  LAX      350     2475   13  47
#     ---                                       
# 253312:    LGA  IAH      201     1416   14  59
# 253313:    EWR  IAH      189     1400    8  54
# 253314:    LGA  RDU       83      431   11   2
# 253315:    LGA  DTW       75      502   11   6
# 253316:    LGA  SDF      110      659    8  24
dim(flights)
# [1] 253316     17
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä»‹ç»:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;ä»‹ç»&lt;/h2&gt;

&lt;p&gt;åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä¼šï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* ç®€è¦è®¨è®ºâ€œè¯­ä¹‰å¼•ç”¨â€ï¼Œç„¶åæ¯”è¾ƒæ“ä½œç¬¦â€œ:=â€çš„ä¸¤ç§ä¸åŒçš„å½¢å¼ã€‚
* å­¦ä¹ å¦‚ä½•åœ¨å‚æ•°jé‡Œé¢ä½¿ç”¨æ“ä½œç¬¦â€œ:=â€æ¥add/update/deleteåˆ—ï¼Œå¦‚ä½•ä¸å‚æ•°iå’Œbyç›¸ç»“åˆã€‚
* äº†è§£æ“ä½œç¬¦â€œ:=â€çš„å‰¯ä½œç”¨ï¼Œå¹¶å­¦ä¹ å¦‚ä½•ç”¨ copy() æ¥é¿å…è¿™äº›å‰¯ä½œç”¨ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;1-è¯­ä¹‰å¼•ç”¨:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;1. è¯­ä¹‰å¼•ç”¨&lt;/h2&gt;

&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å­¦ä¹ åˆ°çš„æ‰€æœ‰çš„æ“ä½œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®é›†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¼šå­¦ä¹ å¦‚ä½•åœ¨åŸæ¥æ•°æ®é›†çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ ï¼æ›´æ–°ï¼åˆ é™¤é‚£äº›å·²ç»å­˜åœ¨çš„åˆ—ã€‚&lt;/p&gt;

&lt;h4 id=&#34;a-èƒŒæ™¯:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;a) èƒŒæ™¯&lt;/h4&gt;

&lt;p&gt;åœ¨å­¦ä¹ è¯­ä¹‰å¼•ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢è¿™ä¸ªdata.frameï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DF = data.frame(ID = c(&amp;quot;b&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;a&amp;quot;,&amp;quot;a&amp;quot;,&amp;quot;c&amp;quot;), a = 1:6, b = 7:12, c=13:18)
DF
#   ID a  b  c
# 1  b 1  7 13
# 2  b 2  8 14
# 3  b 3  9 15
# 4  a 4 10 16
# 5  a 5 11 17
# 6  c 6 12 18
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å½“æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DF$c &amp;lt;- 18:13               # (1) -- replace entire column
# or
DF$c[DF$ID == &amp;quot;b&amp;quot;] &amp;lt;- 15:13 # (2) -- subassign in column &#39;c&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨Rè¯­è¨€V3.1ä¹‹å‰çš„ç‰ˆæœ¬é‡Œï¼Œä¸Šé¢è¿™ä¸¤ç§æ–¹æ³•éƒ½ä¼šå¯¼è‡´å¯¹æ•´ä¸ªdata.frameçš„æ·±åº¦æ‹·è´&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:e5b9ad2772afb60de67bb09a99ffa4e1:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:e5b9ad2772afb60de67bb09a99ffa4e1:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚è€Œä¸”è¿˜ä¼šæ‹·è´å¤šæ¬¡&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:e5b9ad2772afb60de67bb09a99ffa4e1:2&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:e5b9ad2772afb60de67bb09a99ffa4e1:2&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;ã€‚ä¸ºäº†æé«˜æ•ˆç‡é¿å…å†—ä½™æ“ä½œï¼Œdata.tabelä½¿ç”¨äº†æ“ä½œç¬¦&amp;rdquo;:=&amp;ldquo;ã€‚Ré‡Œé¢æœ¬æ¥å°±æœ‰å®šä¹‰äº†è¿™ä¸ªæ“ä½œç¬¦ï¼Œä½†å´æ²¡æœ‰ä½¿ç”¨&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:e5b9ad2772afb60de67bb09a99ffa4e1:3&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:e5b9ad2772afb60de67bb09a99ffa4e1:3&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;br /&gt;
åœ¨Rè¯­è¨€V3.1ä¹‹å‰çš„ç‰ˆæœ¬é‡Œï¼Œæ–¹æ³•(1)åªåšå½±å­æ‹·è´ï¼Œå¤„ç†æ€§èƒ½æœ‰äº†å¾ˆå¤§æå‡ã€‚ç„¶è€Œï¼Œæ–¹æ³•(2)è¿˜æ˜¯ä¼šåšæ·±åº¦æ‹·è´ã€‚è¿™å°±æ„å‘³ç€ï¼Œå¯¹äºåŒæ ·çš„æŸ¥è¯¢è¯­å¥ï¼Œæƒ³è¦é€‰å–çš„åˆ—è¶Šå¤šï¼Œéœ€è¦åšçš„æ·±åº¦æ‹·è´å°±è¶Šå¤šã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;å½±å­æ‹·è´ vs æ·±åº¦æ‹·è´
å½±å­æ‹·è´ï¼Œåªæ˜¯ä¸€ä»½æŒ‡å‘åˆ—çš„æŒ‡é’ˆå‘é‡çš„æ‹·è´ï¼Œå®ƒä¼šéšç€data.frameæˆ–è€…data.tableçš„å˜åŒ–è€Œå˜åŒ–ã€‚ä½†åœ¨å†…å­˜é‡Œï¼Œæ•°æ®ä¸æ˜¯çœŸçš„è¢«å¤åˆ¶äº†ã€‚   
æ·±åº¦æ‹·è´ï¼Œæ­£ç›¸åï¼Œå®ƒä¼šå¤åˆ¶æ•´ä¸ªæ•°æ®ï¼Œå¹¶ä¸”ä¿å­˜åœ¨å†…å­˜é‡Œã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä½¿ç”¨æ“ä½œç¬¦&amp;rdquo;:=&amp;ldquo;ï¼Œä¸ç®¡åœ¨Rè¯­è¨€çš„ä»€ä¹ˆç‰ˆæœ¬é‡Œï¼Œä¸ç®¡æ˜¯æ–¹æ³•(1)è¿˜æ˜¯æ–¹æ³•(2)ï¼Œéƒ½ä¸ä¼šå†æ‹·è´ã€‚è¿™æ˜¯å› ä¸ºï¼Œæ“ä½œç¬¦&amp;rdquo;:=&amp;ldquo;é€šè¿‡å¼•ç”¨æ›´æ–°åˆ—ã€‚&lt;/p&gt;

&lt;h4 id=&#34;b-æ“ä½œç¬¦:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;b) æ“ä½œç¬¦â€œ:=â€&lt;/h4&gt;

&lt;p&gt;åœ¨å‚æ•°jä¸­ï¼Œæ“ä½œç¬¦â€œ:=â€æœ‰ä¸¤ç§ä½¿ç”¨æ–¹æ³•ï¼š&lt;br /&gt;
a.å·¦å³ç­‰å¼çš„å½¢å¼&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT[, c(&amp;quot;colA&amp;quot;, &amp;quot;colB&amp;quot;, ...) := list(valA, valB, ...)]

# when you have only one column to assign to you 
# can drop the quotes and list(), for convenience
DT[, colA := valA]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;b.å‡½æ•°å½¢å¼&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT[, `:=`(colA = valA, # valA is assigned to colA
      colB = valB, # valB is assigned to colB
      ...
)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ä¸Šé¢çš„ä¸¤ä¸ªä¾‹å­åªæ˜¯ç”¨æ¥è¯´æ˜ä½¿ç”¨çš„å½¢å¼ï¼Œå¹¶ä¸æ˜¯å®é™…å¯ä»¥è¿è¡Œçš„ä»£ç ç¤ºä¾‹ã€‚æˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œç”¨èˆªç­ä¿¡æ¯flightçš„data.tableæ¥ä¸¾ä¾‹è¯´æ˜ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* å½¢å¼(a)æ¯”è¾ƒå®¹æ˜“ç¼–ç ï¼Œç‰¹åˆ«æ˜¯ï¼Œäº‹å…ˆä¸çŸ¥é“éœ€è¦è¢«èµ‹å€¼çš„åˆ—çš„æ—¶å€™ã€‚
* ç›¸å¯¹è€Œè¨€ï¼Œå½¢å¼(b)æ›´åŠ è¶æ‰‹ï¼Œå¦‚æœä½ æ„¿æ„è¿½åŠ ç‚¹æ³¨é‡ŠğŸ˜„ã€‚
* æ“ä½œç¬¦â€œ:=â€æ²¡æœ‰è¿”å›å€¼ã€‚
* æ—¢ç„¶å‚æ•°jé‡Œé¢å¯ä»¥ä½¿ç”¨æ“ä½œç¬¦â€œ:=â€ï¼Œé‚£ä¹ˆï¼Œå°±åƒä¸Šä¸€è®²ä¸­å­¦ä¹ åˆ°çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å’Œå‚æ•°iå’Œå‚æ•°byä¸€èµ·ï¼Œåšäº›èšåˆçš„è¿ç®—ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ä¸Šé¢ä¸¤ç§å½¢å¼é‡Œï¼Œæ³¨æ„æˆ‘ä»¬æ²¡æœ‰æŠŠè¿ç®—çš„ç»“æœèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚å› ä¸ºå®Œå…¨æ²¡å¿…è¦ã€‚æˆ‘ä»¬ç›´æ¥æ›´æ–°data.tableã€‚è®©æˆ‘ä»¬é€šè¿‡ä¸€äº›ä¾‹å­æ¥è¯´æ˜ã€‚&lt;br /&gt;
åœ¨æ¥ä¸‹æ¥çš„æ•™ç¨‹é‡Œï¼Œæˆ‘ä»¬å¯¹èˆªç­ä¿¡æ¯flightï¼Œè¿™ä¸ªdata.tableæ¥ç¤ºä¾‹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;2-é€šè¿‡å¼•ç”¨æ·»åŠ -æ›´æ–°-åˆ é™¤åˆ—:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;2. é€šè¿‡å¼•ç”¨æ·»åŠ ï¼æ›´æ–°ï¼åˆ é™¤åˆ—&lt;/h2&gt;

&lt;h4 id=&#34;a-æ·»åŠ åˆ—:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;a) æ·»åŠ åˆ—&lt;/h4&gt;

&lt;h4 id=&#34;b-æ›´æ–°åˆ—-sub-assign:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;b) æ›´æ–°åˆ—ï¼ˆsub-assignï¼‰&lt;/h4&gt;

&lt;h4 id=&#34;c-åˆ é™¤åˆ—:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;c) åˆ é™¤åˆ—&lt;/h4&gt;

&lt;h4 id=&#34;d-å’Œåˆ†ç»„:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;d) â€œ:=â€å’Œåˆ†ç»„&lt;/h4&gt;

&lt;h4 id=&#34;e-å’Œå¤æ•°åˆ—:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;e) â€œ:=â€å’Œå¤æ•°åˆ—&lt;/h4&gt;

&lt;h2 id=&#34;3-å’Œcopy:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;3. â€œ:=â€å’Œcopy()&lt;/h2&gt;

&lt;h4 id=&#34;a-çš„å‰¯ä½œç”¨:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;a) â€œ:=â€çš„å‰¯ä½œç”¨&lt;/h4&gt;

&lt;h4 id=&#34;b-å‡½æ•°copy:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;b) å‡½æ•°copy()&lt;/h4&gt;

&lt;h2 id=&#34;æ€»ç»“:e5b9ad2772afb60de67bb09a99ffa4e1&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:e5b9ad2772afb60de67bb09a99ffa4e1:1&#34;&gt;&lt;a href=&#34;http://r.789695.n4.nabble.com/speeding-up-perception-td3640920.html#a3646694&#34;&gt;TODO&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:e5b9ad2772afb60de67bb09a99ffa4e1:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:e5b9ad2772afb60de67bb09a99ffa4e1:2&#34;&gt;&lt;a href=&#34;http://stackoverflow.com/questions/23898969/is-data-really-copied-four-times-in-rs-replacement-functions&#34;&gt;Is data really copied four times in R&amp;rsquo;s replacement functions?&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:e5b9ad2772afb60de67bb09a99ffa4e1:2&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:e5b9ad2772afb60de67bb09a99ffa4e1:3&#34;&gt;&lt;a href=&#34;http://stackoverflow.com/questions/7033106/why-has-data-table-defined-rather-than-overloading&#34;&gt;Why has data.table defined := rather than overloading &amp;lt;-?&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:e5b9ad2772afb60de67bb09a99ffa4e1:3&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>data.table æ•™ç¨‹1ï¼ˆæ ¡å¯¹ä¸­ï¼‰</title>
      <link>http://youngspring1.github.io/post/2016-03-13-datatable1/</link>
      <pubDate>Sun, 13 Mar 2016 18:57:40 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016-03-13-datatable1/</guid>
      <description>

&lt;p&gt;æœ€è¿‘ä½¿ç”¨data.tableè¿™ä¸ªå¢å¼ºåŒ…ï¼Œæ¥è®¡ç®—æ•°æ®çš„èšåˆä¿¡æ¯ï¼Œæ¯”sqlè¯­å¥ç®€å•æ˜äº†ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ï¼Œäºæ˜¯æƒ³æŠŠdata.tableçš„èµ„æ–™ç¿»è¯‘å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å½•ï¼š&lt;br /&gt;
1) data.table ä»‹ç»&lt;br /&gt;
2) Reference semantics&lt;br /&gt;
3) Keys and fast binary search based subsets&lt;br /&gt;
4) Efficient reshaping using data.tables&lt;/p&gt;

&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;br /&gt;
1) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html&#34;&gt;Introduction to data.table&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html&#34;&gt;Reference semantics&lt;/a&gt;&lt;br /&gt;
3) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html&#34;&gt;Keys and fast binary search based subsets&lt;/a&gt;&lt;br /&gt;
4) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html&#34;&gt;Efficient reshaping using data.tables&lt;/a&gt;&lt;br /&gt;
5) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-faq.html&#34;&gt;Frequently asked questions&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æœ¬æ•™ç¨‹ä»‹ç»data.tableçš„è¯­æ³•ï¼Œå¤§æ¦‚çš„å½¢å¼ï¼Œå¦‚ä½•subsetè¡Œï¼Œå¦‚ä½•æŒ‰åˆ—selectï¼computeï¼Œå¦‚ä½•åˆ†ç»„èšåˆã€‚ç†Ÿæ‚‰data.frameçš„æ•°æ®ç»“æ„æ˜¯æœ‰å¸®åŠ©çš„ï¼Œä¸è¿‡ä¸ç†Ÿæ‚‰ä¹Ÿæ²¡å…³ç³»ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;ä½¿ç”¨data-tableåˆ†ææ•°æ®:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;ä½¿ç”¨data.tableåˆ†ææ•°æ®&lt;/h2&gt;

&lt;p&gt;æ”¯æŒæ“ä½œæ•°æ®çš„åŠŸèƒ½ï¼Œä¾‹å¦‚subsetã€groupã€updateã€joinç­‰ã€‚&lt;br /&gt;
è¿™äº›åŠŸèƒ½å¯ä»¥è®©æˆ‘ä»¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* é€šè¿‡ç®€æ´ä¸€è‡´çš„è¯­æ³•ï¼Œå®è¡Œæƒ³è¦çš„æ“ä½œï¼Œè¾¾åˆ°ç›®çš„ã€‚
* ä»ä¸€ç³»åˆ—å‡½æ•°åˆ°æœ€ç»ˆçš„åˆ†æï¼Œéƒ½æ²¡æœ‰å°†æ‰€æœ‰çš„æ“ä½œéƒ½å¯¹åº”åˆ°å‡½æ•°çš„è´Ÿæ‹…ã€‚èƒ½å¤Ÿæµç•…åœ°æ‰§è¡Œåˆ†æã€‚
* ç²¾ç¡®åœ°çŸ¥é“æ¯æ­¥æ“ä½œæ‰€éœ€è¦çš„æ•°æ®ï¼Œå†…éƒ¨è‡ªåŠ¨ä¼˜åŒ–æ“ä½œï¼Œåœ¨è¿è¡Œé€Ÿåº¦å’Œå†…å­˜å¼€é”€ä¸¤æ–¹é¢éƒ½å¾ˆæœ‰æ•ˆæœã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç®€è¦çš„è®²ï¼Œå¦‚æœä½ å¯¹å‡å°è®¡ç®—å¤æ‚åº¦å’Œè®¡ç®—æ—¶é—´æœ‰ç€è¿«åˆ‡çš„éœ€æ±‚ï¼Œé‚£ä¹ˆè¿™ä¸ªpackageå°±æ˜¯ä¸ºä½ é‡èº«æ‰“é€ çš„ã€‚data.tableå°±æ˜¯å¹²è¿™äº‹å„¿çš„ã€‚æˆ‘ä»¬é€šè¿‡è¿™ä¸€ç³»åˆ—æ•™ç¨‹ï¼Œè¯´æ˜è¿™äº›åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ•°æ®:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;æ•°æ®&lt;/h2&gt;

&lt;p&gt;åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨&lt;a href=&#34;https://github.com/arunsrinivasan/flights/wiki/NYC-Flights-2014-data&#34;&gt;NYC-flights14&lt;/a&gt;çš„æ•°æ®ã€‚å®ƒåŒ…å«äº†2014å¹´çº½çº¦æœºåœºå‘å‡ºçš„æ‰€æœ‰èˆªç­ä¿¡æ¯ã€‚è¿™ä»½æ•°æ®åªæœ‰2014å¹´1æœˆåˆ°10æœˆæ˜¯å…¬å¼€çš„ã€‚&lt;br /&gt;
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨data.tableçš„fread()å‡½æ•°ï¼Œç”¨ä¸‹é¢çš„æ–¹å¼ï¼Œå¿«é€Ÿç›´æ¥è¯»å–èˆªç­æ•°æ®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights &amp;lt;- fread(&amp;quot;https://raw.githubusercontent.com/wiki/arunsrinivasan/    flights/NYCflights14/flights14.csv&amp;quot;)
flights
#         year month day dep_time dep_delay arr_time arr_delay cancelled carrier tailnum flight
#      1: 2014     1   1      914        14     1238        13         0      AA  N338AA      1
#      2: 2014     1   1     1157        -3     1523        13         0      AA  N335AA      3
#      3: 2014     1   1     1902         2     2224         9         0      AA  N327AA     21
#      4: 2014     1   1      722        -8     1014       -26         0      AA  N3EHAA     29
#      5: 2014     1   1     1347         2     1706         1         0      AA  N319AA    117
#     ---                                                                                      
# 253312: 2014    10  31     1459         1     1747       -30         0      UA  N23708   1744
# 253313: 2014    10  31      854        -5     1147       -14         0      UA  N33132   1758
# 253314: 2014    10  31     1102        -8     1311        16         0      MQ  N827MQ   3591
# 253315: 2014    10  31     1106        -4     1325        15         0      MQ  N511MQ   3592
# 253316: 2014    10  31      824        -5     1045         1         0      MQ  N813MQ   3599
#         origin dest air_time distance hour min
#      1:    JFK  LAX      359     2475    9  14
#      2:    JFK  LAX      363     2475   11  57
#      3:    JFK  LAX      351     2475   19   2
#      4:    LGA  PBI      157     1035    7  22
#      5:    JFK  LAX      350     2475   13  47
#     ---                                       
# 253312:    LGA  IAH      201     1416   14  59
# 253313:    EWR  IAH      189     1400    8  54
# 253314:    LGA  RDU       83      431   11   2
# 253315:    LGA  DTW       75      502   11   6
# 253316:    LGA  SDF      110      659    8  24
dim(flights)
# [1] 253316     17
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ—¢ç„¶æ•´ä¸ªæ•™ç¨‹æˆ‘ä»¬éƒ½ä¼šä½¿ç”¨è¿™ä»½æ•°æ®ï¼Œé‚£ä½ ä¸å¦¨å…ˆä¸‹è½½åˆ°ä½ çš„ç”µè„‘ä¸Šï¼Œç„¶åæ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™å†è¯»å–ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä»‹ç»:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;ä»‹ç»&lt;/h2&gt;

&lt;p&gt;åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šå­¦ä¹ ä¸‹é¢ä¸¤ç‚¹ï¼š&lt;br /&gt;
1. åŸºç¡€ ï¼ ä»€ä¹ˆæ˜¯data.tableï¼Œå®ƒçš„å½¢å¼ï¼Œå¦‚ä½•subsetè¡Œï¼Œå¦‚ä½•selectåˆ—ï¼Œå¦‚ä½•æŒ‰åˆ—è¿›è¡Œè¿ç®—ã€‚&lt;br /&gt;
2. èšåˆ ï¼ æŒ‰ç»„èšåˆçš„æ•ˆæœã€‚&lt;/p&gt;

&lt;h2 id=&#34;1-åŸºç¡€:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;1.åŸºç¡€&lt;/h2&gt;

&lt;h4 id=&#34;a-ä»€ä¹ˆæ˜¯data-table:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;a) ä»€ä¹ˆæ˜¯data.table&lt;/h4&gt;

&lt;p&gt;data.tableæ˜¯Rè¯­è¨€çš„ä¸€ä¸ªåŒ…ï¼Œå®ƒæ˜¯å¯¹data.framesçš„å¢å¼ºã€‚åœ¨ä¸Šæ–‡ï¼ˆè¯»å–èˆªç­ï¼‰â€œæ•°æ®â€çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬é€šè¿‡å‡½æ•°fread()åˆ›å»ºäº†ä¸€ä¸ªdata.tableã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°data.table()åˆ›å»ºä¸€ä¸ªdata.tableï¼Œæ¯”å¦‚è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT = data.table(ID = c(&amp;quot;b&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;a&amp;quot;,&amp;quot;a&amp;quot;,&amp;quot;c&amp;quot;), a = 1:6, b = 7:12, c=13:18)
DT
#    ID a  b  c
# 1:  b 1  7 13
# 2:  b 2  8 14
# 3:  b 3  9 15
# 4:  a 4 10 16
# 5:  a 5 11 17
# 6:  c 6 12 18
class(DT$ID)
# [1] &amp;quot;character&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡as.data.table()å°†å·²ç»å­˜åœ¨çš„å¯¹è±¡è½¬åŒ–æˆdata.tableã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;æ³¨æ„ï¼š
* ä¸åŒäºdata.framesï¼Œå­—ç¬¦å‹çš„åˆ—ï¼Œä¸ä¼šè¢«è‡ªåŠ¨è½¬åŒ–æˆå› å­ã€‚
* è¡Œå·åé¢æœ‰ä¸ªå†’å·ï¼Œç”¨äºéš”å¼€ç¬¬ä¸€åˆ—çš„å†…å®¹ã€‚
* å¦‚æœæ•°æ®çš„æ¡ç›®è¶…è¿‡äº†å…¨å±€é€‰é¡¹datatable.print.nrowsæ‰€å®šä¹‰çš„æ•°å€¼ï¼ˆé»˜è®¤æ˜¯100æ¡ï¼‰ï¼Œé‚£ä¹ˆåªä¼šè¾“å‡ºæ•°æ®æœ€å¼€å¤´å’Œæœ€æœ«å°¾çš„5è¡Œã€‚å°±å¦‚åŒä¸Šæ–‡ï¼ˆè¯»å–èˆªç­ï¼‰â€œæ•°æ®â€çš„éƒ¨åˆ†ã€‚

getOption(&amp;quot;datatable.print.nrows&amp;quot;)
# [1] 100

* data.tableä¸èƒ½è®¾ç½®è¡Œçš„åç§°ã€‚æˆ‘ä»¬ä¼šåœ¨ç¬¬ä¸‰è®²ä¸­è¯´æ˜åŸå› ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;b-å½¢å¼-data-tableå¢å¼ºäº†ä»€ä¹ˆ:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;b) å½¢å¼ï¼data.tableå¢å¼ºäº†ä»€ä¹ˆ&lt;/h4&gt;

&lt;p&gt;å’Œdata.frameç›¸åï¼Œæˆ‘ä»¬èƒ½åšçš„å¯ä¸ä»…ä»…å±€é™äºsubsetè¡Œæˆ–è€…selectåˆ—ã€‚é¦–å…ˆä»‹ç»ä¸‹data.tableçš„è¯­æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT[i, j, by]

##   R:      i                 j        by
## SQL:  where   select | update  group by
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä½ æœ‰SQLè¯­å¥çš„åŸºç¡€ï¼Œé‚£ä¹ˆä½ åº”è¯¥èƒ½é©¬ä¸Šæ˜ç™½data.tableçš„è¯­æ³•ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;è¯­æ³•æ˜¯ï¼š
å¯¹äºDTè¿™ä¸ªdata.tableï¼Œä½¿ç”¨ i æ¥subsetè¡Œï¼Œç„¶åè®¡ç®— j ï¼Œæœ€åç”¨ by åˆ†ç»„ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;c-subsetè¡Œ:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;c) subsetè¡Œ&lt;/h4&gt;

&lt;p&gt;ï¼ è·å–å…­æœˆä»½æ‰€æœ‰ä»&amp;rdquo;JFK&amp;rdquo;æœºåœºèµ·é£çš„èˆªç­&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[origin == &amp;quot;JFK&amp;quot; &amp;amp; month == 6L]
head(ans)
#    year month day dep_time dep_delay arr_time arr_delay cancelled carrier tailnum flight origin
# 1: 2014     6   1      851        -9     1205        -5         0      AA  N787AA      1    JFK
# 2: 2014     6   1     1220       -10     1522       -13         0      AA  N795AA      3    JFK
# 3: 2014     6   1      718        18     1014        -1         0      AA  N784AA      9    JFK
# 4: 2014     6   1     1024        -6     1314       -16         0      AA  N791AA     19    JFK
# 5: 2014     6   1     1841        -4     2125       -45         0      AA  N790AA     21    JFK
# 6: 2014     6   1     1454        -6     1757       -23         0      AA  N785AA    117    JFK
#    dest air_time distance hour min
# 1:  LAX      324     2475    8  51
# 2:  LAX      329     2475   12  20
# 3:  LAX      326     2475    7  18
# 4:  LAX      320     2475   10  24
# 5:  LAX      326     2475   18  41
# 6:  LAX      329     2475   14  54
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* é€šè¿‡data.frameçš„frameï¼Ÿï¼Œåˆ—å¯ä»¥åƒå˜é‡ä¸€æ ·è¢«å¼•ç”¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸éœ€è¦åŠ ä¸Š flights$ å‰ç¼€ï¼Œæ¯”å¦‚ flights$dest å’Œ flights$monthï¼Œè€Œæ˜¯ç›´æ¥ç®€å•åœ°å¼•ç”¨ dest å’Œ monthè¿™ä¸¤åˆ—ã€‚
* æ»¡è¶³ origin == &amp;quot;JFK&amp;quot; &amp;amp; month == 6L è¿™ä¸¤ä¸ªæ¡ä»¶çš„è¡Œä¼šè¢«æŠ½å‡ºå‡ºæ¥ã€‚æ—¢ç„¶æˆ‘ä»¬æ²¡æœ‰æŒ‡å®šå…¶ä»–çš„æ¡ä»¶ï¼Œä¸€ä¸ªåŒ…å«åŸæ•°æ®é‡Œé¢æ‰€æœ‰åˆ—çš„data.tableä¼šè¢«è¿”å›ã€‚
* è¯­æ³•é‡Œé¢[i,j,k]çš„é€—å·ä¸æ˜¯å¿…é¡»çš„ï¼Œå½“ç„¶å¦‚æœæŒ‡å®šäº†é€—å·ï¼Œæ¯”å¦‚ flights[dest == &amp;quot;JFK&amp;quot; &amp;amp; month == 6L, ] ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†åœ¨data.frameé‡Œé¢ï¼Œé€—å·å´æ˜¯å¿…é¡»çš„ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ è·å– flights å¼€å¤´çš„ä¸¤è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[1:2]
ans
#    year month day dep_time dep_delay arr_time arr_delay cancelled carrier tailnum flight origin
# 1: 2014     1   1      914        14     1238        13         0      AA  N338AA      1    JFK
# 2: 2014     1   1     1157        -3     1523        13         0      AA  N335AA      3    JFK
#    dest air_time distance hour min
# 1:  LAX      359     2475    9  14
# 2:  LAX      363     2475   11  57
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬æ²¡æœ‰æŒ‡å®šä»»ä½•æ¡ä»¶ã€‚è¡Œçš„ç´¢å¼•å·²ç»è‡ªåŠ¨æä¾›ç»™å‚æ•° i äº†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªåŒ…å«åŸæ•°æ® flight é‡Œæ‰€æœ‰åˆ—çš„data.tableï¼ˆfor è¿™äº›è¡Œçš„ç´¢å¼•ï¼Ÿï¼‰ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ æ’åºï¼ˆå…ˆæŒ‰ originåˆ— çš„å‡åºï¼Œå†æŒ‰ dest çš„é™åºæ’åˆ—ï¼‰
æˆ‘ä»¬å¯ä»¥é€šè¿‡Rè¯­è¨€çš„åŸºç¡€å‡½æ•° order() æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[order(origin, -dest)]
head(ans)
#    year month day dep_time dep_delay arr_time arr_delay cancelled carrier tailnum flight origin
# 1: 2014     1   5      836         6     1151        49         0      EV  N12175   4419    EWR
# 2: 2014     1   6      833         7     1111        13         0      EV  N24128   4419    EWR
# 3: 2014     1   7      811        -6     1035       -13         0      EV  N12142   4419    EWR
# 4: 2014     1   8      810        -7     1036       -12         0      EV  N11193   4419    EWR
# 5: 2014     1   9      833        16     1055         7         0      EV  N14198   4419    EWR
# 6: 2014     1  13      923        66     1154        66         0      EV  N12157   4419    EWR
#    dest air_time distance hour min
# 1:  XNA      195     1131    8  36
# 2:  XNA      190     1131    8  33
# 3:  XNA      179     1131    8  11
# 4:  XNA      184     1131    8  10
# 5:  XNA      181     1131    8  33
# 6:  XNA      188     1131    9  23
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;å†…ç½®çš„ order() å‡½æ•°
* æˆ‘ä»¬å¯ä»¥å¯¹ä¸€ä¸ªå­—ç¬¦å‹çš„åˆ—ï¼Œä½¿ç”¨å‡å·â€œ-â€ï¼Œæ¥å®ç°é™åºæ’åˆ—ã€‚
* å¦å¤–ï¼Œå‡½æ•° order() å…¶å®è°ƒç”¨äº†data.tableçš„å¿«é€ŸåŸºæ•°æ’åºå‡½æ•° forder()ï¼Œå®ƒæ¯” base::order å¿«å¾ˆå¤šã€‚è¿™æ˜¯ä¸€ä¸ªè¯´æ˜å®ƒä»¬åŸºæœ¬åŒºåˆ«çš„ä¾‹å­ï¼š

odt = data.table(col=sample(1e7))
(t1 &amp;lt;- system.time(ans1 &amp;lt;- odt[base::order(col)]))  ## uses order from base R
#    user  system elapsed 
#   8.610   0.056   8.708
(t2 &amp;lt;- system.time(ans2 &amp;lt;- odt[order(col)]))        ## uses data.table&#39;s forder
#    user  system elapsed 
#   0.526   0.024   0.553
(identical(ans1, ans2))
# [1] TRUE

order() æ¯” base::order å¤§çº¦å¿«äº†16å€ã€‚æˆ‘ä»¬ä¼šåœ¨data.tableçš„å†…éƒ¨æ•™ç¨‹ä¸­è®¨è®ºdata.tableå¿«é€Ÿæ’åºçš„æ›´å¤šç»†èŠ‚ã€‚
* å› æ­¤ï¼Œä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„å‡½æ•°ï¼Œå°±å¯ä»¥æ˜¾è‘—åœ°æé«˜åˆ†ææ•ˆç‡ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;d-selectåˆ—:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;d) selectåˆ—&lt;/h4&gt;

&lt;p&gt;ï¼ é€‰å– arr_delay åˆ—ï¼Œè¿”å›å€¼æ˜¯å‘é‡&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, arr_delay]
head(ans)
# [1]  13  13   9 -26   1   0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æ—¢ç„¶åˆ—å¯ä»¥ä½œä¸ºå˜é‡è¢«å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¼•ç”¨æˆ‘ä»¬æƒ³é€‰å–çš„åˆ—ã€‚
* æ—¢ç„¶æˆ‘ä»¬æƒ³é€‰å–æ‰€æœ‰çš„è¡Œï¼Œæˆ‘ä»¬æ¯‹éœ€æŒ‡å®šå‚æ•° iã€‚
* è¿”å›äº†æ‰€æœ‰è¡Œçš„ arr_delay åˆ—ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ é€‰å– arr_delay åˆ—ï¼Œè¿”å›å€¼æ˜¯data.table&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, list(arr_delay)]
head(ans)
#    arr_delay
# 1:        13
# 2:        13
# 3:         9
# 4:       -26
# 5:         1
# 6:         0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬ç”¨ list() æŠŠåˆ—å arr_delay åŒ…å›´èµ·æ¥ï¼Œå®ƒå¯ä»¥ç¡®ä¿è¿”å›å€¼æ˜¯data.tableã€‚æ­£å¦‚å‰é¢ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœä¸è¿™æ ·åšï¼Œè¿”å›å€¼å°±æ˜¯ä¸€ä¸ªå‘é‡ã€‚
* data.tableä¹Ÿå…è®¸ç”¨ .() æ¥åŒ…å›´åˆ—åï¼Œå®ƒæ˜¯ list() çš„åˆ«åï¼Œå®ƒä»¬çš„æ•ˆæœæ˜¯åŒæ ·çš„ã€‚æ•™ç¨‹åé¢ä¼šä½¿ç”¨ .() æ¥è¯´æ˜ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;åªè¦å‚æ•° j è¿”å›ä¸€ä¸ªlistï¼Œè¿™ä¸ªlistçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¼šè¢«è½¬æ¢æˆç»“æœdata.tableçš„ä¸€åˆ—ã€‚ä½ é©¬ä¸Šå°±ä¼šå‘ç°ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯å¤šä¹ˆå¼ºå¤§ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ é€‰å– arr_delay åˆ—å’Œ dep_delay åˆ—&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, .(arr_delay, dep_delay)]
head(ans)
#    arr_delay dep_delay
# 1:        13        14
# 2:        13        -3
# 3:         9         2
# 4:       -26        -8
# 5:         1         2
# 6:         0         4

## alternatively
# ans &amp;lt;- flights[, list(arr_delay, dep_delay)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* ä½¿ç”¨ .() æˆ–è€… list() éƒ½å¯ä»¥ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ é€‰å– arr_delay åˆ—å’Œ dep_delay åˆ—ï¼Œå¹¶æŠŠåˆ—åæ”¹ä¸º delay_arr å’Œ delay_dep
æ—¢ç„¶ .() æ˜¯ list() çš„åˆ«åï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»º list çš„æ—¶å€™å¯¹åˆ—å‘½åã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, .(delay_arr = arr_delay, delay_dep = dep_delay)]
head(ans)
#    delay_arr delay_dep
# 1:        13        14
# 2:        13        -3
# 3:         9         2
# 4:       -26        -8
# 5:         1         2
# 6:         0         4
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±æ˜¯è¿™æ ·ã€‚&lt;/p&gt;

&lt;h4 id=&#34;e-åœ¨å‚æ•°jé‡Œè¿ç®—:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;e) åœ¨å‚æ•°jé‡Œè¿ç®—&lt;/h4&gt;

&lt;p&gt;ï¼ æœ‰å¤šå°‘èˆªç­å®Œå…¨æ²¡æœ‰å»¶è¯¯&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, sum((arr_delay + dep_delay) &amp;lt; 0)]
ans
# [1] 141814
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;åˆšåˆšå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
* å‚æ•° j èƒ½åšçš„ï¼Œå¯ä¸åªæ˜¯é€‰å–åˆ—è¿™ä¹ˆç®€å•ï¼Œå®ƒèƒ½å¤„ç†è¡¨è¾¾å¼ï¼Œæ¯”å¦‚å¯¹åˆ—è¿›è¡Œè®¡ç®—ã€‚è¿™æ²¡ä»€ä¹ˆå¤§æƒŠå°æ€ªçš„ï¼Œå› ä¸ºåˆ—å¯ä»¥ä½œä¸ºå˜é‡è¢«å¼•ç”¨å˜›ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™äº›å˜é‡è°ƒç”¨å‡½æ•°ã€‚æˆ‘ä»¬åˆšåˆšå°±æ˜¯å¯¹ä¸¤åˆ—æ±‚å’Œ(sum)äº†ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;f-åœ¨å‚æ•°ié‡Œé€‰å–-åœ¨å‚æ•°jé‡Œè¿ç®—:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;f) åœ¨å‚æ•°ié‡Œé€‰å–ï¼Œåœ¨å‚æ•°jé‡Œè¿ç®—&lt;/h4&gt;

&lt;p&gt;ï¼ åœ¨å…­æœˆä»½ï¼Œä»&amp;rdquo;JFK&amp;rdquo;æœºåœºèµ·é£çš„èˆªç­ä¸­ï¼Œè®¡ç®—èµ·é£å’Œåˆ°è¾¾çš„å¹³å‡å»¶è¯¯æ—¶é—´&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[origin == &amp;quot;JFK&amp;quot; &amp;amp; month == 6L, 
           .(m_arr=mean(arr_delay), m_dep=mean(dep_delay))]
ans
#       m_arr    m_dep
# 1: 5.839349 9.807884
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬é¦–å…ˆåœ¨iå‚æ•°é‡Œï¼Œæ‰¾åˆ°æ‰€æœ‰ç¬¦åˆ origin (æœºåœº)æ˜¯&amp;quot;JFK&amp;quot;ï¼Œå¹¶ä¸” month (æœˆä»½)æ˜¯ 6 è¿™æ ·æ¡ä»¶çš„è¡Œã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰subsetæ•´ä¸ªdata.tableã€‚
* ç°åœ¨ï¼Œæˆ‘ä»¬çœ‹çœ‹å‚æ•°jï¼Œå®ƒåªä½¿ç”¨äº†ä¸¤åˆ—ã€‚æˆ‘ä»¬éœ€è¦åˆ†åˆ«è®¡ç®—è¿™ä¸¤åˆ—çš„å¹³å‡å€¼ mean()ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æ‰subseté‚£äº›ç¬¦åˆiå‚æ•°é‡Œæ¡ä»¶çš„åˆ—ï¼Œç„¶åè®¡ç®—å®ƒä»¬çš„å¹³å‡å€¼ã€‚
å› ä¸ºè¿™ä¸‰ä¸ªå‚æ•°ï¼ˆiï¼Œjå’Œbyï¼‰éƒ½è¢«æŒ‡å®šåœ¨åŒä¸€ä¸ªæ–¹æ‹¬å·ä¸­ï¼Œdata.tableèƒ½åŒæ—¶æ¥å—è¿™ä¸‰ä¸ªå‚æ•°ï¼Œå¹¶åœ¨è®¡ç®—ä¹‹å‰ï¼Œé€‰å–æœ€ä¼˜çš„è®¡ç®—æ–¹æ³•ï¼Œè€Œä¸æ˜¯åˆ†æ­¥éª¤è®¡ç®—ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…å¯¹æ•´ä¸ªdata.tableè®¡ç®—ï¼ŒåŒæ—¶ï¼Œåœ¨è®¡ç®—é€Ÿåº¦å’Œå†…å­˜ä½¿ç”¨é‡è¿™ä¸¤æ–¹é¢ï¼Œå–å¾—æœ€ä¼˜çš„æ•ˆæœã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ åœ¨å…­æœˆä»½ï¼Œä»&amp;rdquo;JFK&amp;rdquo;æœºåœºèµ·é£çš„èˆªç­ä¸€å…±æœ‰å¤šå°‘&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[origin == &amp;quot;JFK&amp;quot; &amp;amp; month == 6L, length(dest)]
ans
# [1] 8422
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å‡½æ•° length() éœ€è¦ä¸€ä¸ªå‚æ•°ã€‚æˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œç»“æœé‡Œæœ‰å¤šå°‘è¡Œæ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€åˆ—ä½œä¸ºå‡½æ•° length() çš„å‚æ•°ã€‚&lt;br /&gt;
è¿™ä¸€ç±»çš„æ“ä½œç‰¹åˆ«é¢‘ç¹ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸‹ä¸€èŠ‚é‡Œï¼Œå½“æˆ‘ä»¬éœ€è¦åˆ†ç»„çš„æ—¶å€™ï¼Œä¼šè®²åˆ°è¿™ä¸ªç‰¹åˆ«çš„ç¬¦å· .Nã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ç‰¹åˆ«çš„ç¬¦å· .N 
.N æ˜¯ä¸€ä¸ªå†…å»ºçš„å˜é‡ï¼Œå®ƒè¡¨ç¤ºå½“å‰çš„åˆ†ç»„ä¸­ï¼Œå¯¹è±¡çš„æ•°ç›®ã€‚åœ¨ä¸‹ä¸€èŠ‚ï¼Œå½“å®ƒå’Œ by ä¸€èµ·ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°å®ƒç‰¹åˆ«æœ‰ç”¨ã€‚è¿˜æ²¡æœ‰æ¶‰åŠåˆ°åˆ†ç»„çš„æ—¶å€™ï¼Œå®ƒåªæ˜¯ç®€å•åœ°è¿”å›è¡Œçš„æ•°ç›®ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ .N æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[origin == &amp;quot;JFK&amp;quot; &amp;amp; month == 6L, .N]
ans
# [1] 8422
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* å†è¯´ä¸€éï¼Œé¦–å…ˆåœ¨iå‚æ•°é‡Œï¼Œæ‰¾åˆ°æ‰€æœ‰ç¬¦åˆ origin (æœºåœº)æ˜¯&amp;quot;JFK&amp;quot;ï¼Œå¹¶ä¸” month (æœˆä»½)æ˜¯ 6 è¿™æ ·æ¡ä»¶çš„è¡Œã€‚   
* åœ¨å‚æ•°jé‡Œï¼Œæˆ‘ä»¬åªæŒ‡å®šäº† .Nï¼Œå…¶ä»–ä»€ä¹ˆä¹Ÿæ²¡æŒ‡å®šã€‚æ‰€ä»¥å®é™…ä¸Šæˆ‘ä»¬ä»€ä¹ˆä¹Ÿæ²¡åšã€‚æˆ‘ä»¬åªæ˜¯è¿”å›äº†ç¬¦åˆæ¡ä»¶çš„è¡Œçš„æ•°ç›®ï¼ˆå°±æ˜¯è¡Œçš„ lengthé•¿åº¦ï¼‰ã€‚   
* æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰ç”¨ list() æˆ–è€… .() åŒ…å›´ .Nï¼Œæ‰€ä»¥è¿”å›å€¼æ˜¯ä¸ªå‘é‡ã€‚
æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·å®Œæˆè¿™ä¸ªä»»åŠ¡ nrow(flights[origin == &amp;quot;JFK&amp;quot; &amp;amp; month == 6L])ã€‚ä½†æ˜¯ï¼Œè¿™ä¼šä»æ•´ä¸ªdata.tableé‡Œé¢subsetç¬¦åˆæ¡ä»¶çš„è¡Œï¼Œç„¶åç”¨ nrow() è¿”å›è¡Œçš„æ•°ç›®ï¼Œè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œè€Œä¸”æ•ˆç‡ä½ä¸‹ã€‚æˆ‘ä»¬ä¼šåœ¨ data.tableçš„è®¾è®¡ è¿™ä¸ªæ•™ç¨‹é‡Œé¢è¯´æ˜è¿™ä¸€ç‚¹å’Œå…¶ä»–çš„ä¼˜åŒ–æ–¹æ³•ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;g-å¤ªæ£’äº†-ä½†æˆ‘åº”è¯¥å¦‚ä½•ç”¨å‚æ•°jé‡Œé¢çš„åå­—å¼•ç”¨åˆ—-å°±åƒåœ¨data-frameé‚£æ ·:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;g) å¤ªæ£’äº†ï¼ä½†æˆ‘åº”è¯¥å¦‚ä½•ç”¨å‚æ•°jé‡Œé¢çš„åå­—å¼•ç”¨åˆ—ï¼ˆå°±åƒåœ¨data.frameé‚£æ ·ï¼‰&lt;/h4&gt;

&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ with = FALSE æ¥å¼•ç”¨åˆ—åã€‚&lt;br /&gt;
ï¼ ç”¨data.frameçš„æ–¹å¼ï¼Œé€‰å– arr_delay å’Œ dep_delay ä¸¤åˆ—&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, c(&amp;quot;arr_delay&amp;quot;, &amp;quot;dep_delay&amp;quot;), with=FALSE]
head(ans)
#    arr_delay dep_delay
# 1:        13        14
# 2:        13        -3
# 3:         9         2
# 4:       -26        -8
# 5:         1         2
# 6:         0         4
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ªå‚æ•°å«åš withï¼Œæ˜¯æ ¹æ® Ré‡Œé¢çš„å‡½æ•° with() æ¼”å˜è€Œæ¥çš„ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªdata.frameå«åš DFï¼Œæƒ³è¦subsetæ‰€æœ‰ç¬¦åˆ x&amp;gt;1 çš„è¡Œã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DF = data.frame(x = c(1,1,1,2,2,3,3,3), y = 1:8)

## (1) normal way
DF[DF$x &amp;gt; 1, ] # data.frame needs that &#39;,&#39; as well
#   x y
# 4 2 4
# 5 2 5
# 6 3 6
# 7 3 7
# 8 3 8

## (2) using with
DF[with(DF, x &amp;gt; 1), ]
#   x y
# 4 2 4
# 5 2 5
# 6 3 6
# 7 3 7
# 8 3 8
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* åœ¨ä¸Šé¢çš„ (2) using withé‡Œé¢ï¼Œä½¿ç”¨ with()ï¼Œæˆ‘ä»¬åƒå˜é‡ä¸€æ ·ä½¿ç”¨DFçš„xåˆ—ã€‚
å› æ­¤ï¼Œåœ¨data.tableé‡Œï¼Œæˆ‘ä»¬è®¾ç½® with=FALSEï¼Œä½¿å¾—æˆ‘ä»¬ä¸èƒ½å†åƒå˜é‡ä¸€æ ·å¼•ç”¨åˆ—äº†ï¼Œè¿™è¢«ä¿å­˜åœ¨â€œdata.frame modeâ€ä¸­ã€‚
* æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ - æˆ–è€… ! æ¥æ’é™¤åˆ—ã€‚æ¯”å¦‚ï¼š
## not run

# returns all columns except arr_delay and dep_delay
ans &amp;lt;- flights[, !c(&amp;quot;arr_delay&amp;quot;, &amp;quot;dep_delay&amp;quot;), with=FALSE]
# or
ans &amp;lt;- flights[, -c(&amp;quot;arr_delay&amp;quot;, &amp;quot;dep_delay&amp;quot;), with=FALSE]

* Rè¯­è¨€ä»V1.9.5ç‰ˆå¼€å§‹ï¼Œå¯ä»¥æŒ‡å®šå¼€å§‹å’Œç»“æŸçš„åˆ—åï¼Œæ¯”å¦‚é€šè¿‡æŒ‡å®š year:day æ¥é€‰æ‹©å‰ä¸‰åˆ—ã€‚
## not run

# returns year,month and day
ans &amp;lt;- flights[, year:day, with=FALSE]
# returns day, month and year
ans &amp;lt;- flights[, day:year, with=FALSE]
# returns all columns except year, month and day
ans &amp;lt;- flights[, -(year:day), with=FALSE]
ans &amp;lt;- flights[, !(year:day), with=FALSE]

è¿™åœ¨äº¤äº’å¼çš„å·¥ä½œä¸­ç‰¹åˆ«æ–¹ä¾¿ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;with=FALSE æ˜¯data.tableçš„é»˜è®¤å€¼ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡å‚æ•°jè¡¨è¾¾å¼ï¼Œæ¥åšæ›´å¤šçš„äº‹ï¼Œç‰¹åˆ«æ˜¯æ¥ä¸‹æ¥ä¸€èŠ‚æˆ‘ä»¬è¦è®²åˆ°çš„ï¼Œå’Œ by çš„è”åˆã€‚&lt;/p&gt;

&lt;h2 id=&#34;2-èšåˆ:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;2.èšåˆ&lt;/h2&gt;

&lt;p&gt;åœ¨å‰é¢ä¸€èŠ‚ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†å‚æ•°iå’Œjï¼ŒçŸ¥é“äº†data.tableçš„åŸºæœ¬è¯­æ³•ã€‚åœ¨è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•è·Ÿ by ç›¸ç»“åˆï¼Œåšä¸€äº›åˆ†ç»„çš„æ“ä½œã€‚å…ˆæ¥çœ‹çœ‹å‡ ä¸ªä¾‹å­ã€‚&lt;/p&gt;

&lt;h4 id=&#34;a-ç”¨byåˆ†ç»„:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;a) ç”¨byåˆ†ç»„&lt;/h4&gt;

&lt;p&gt;ï¼ å¦‚ä½•è·å–æ¯ä¸ªæœºåœºèµ·é£çš„èˆªç­æ•°&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, .(.N), by=.(origin)]
ans
#    origin     N
# 1:    JFK 81483
# 2:    LGA 84433
# 3:    EWR 87400

## or equivalently using a character vector in &#39;by&#39;
# ans &amp;lt;- flights[, .(.N), by=&amp;quot;origin&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬çŸ¥é“ .N è¡¨ç¤ºå½“å‰çš„åˆ†ç»„ä¸­ï¼Œå¯¹è±¡çš„æ•°ç›®ã€‚å…ˆæŒ‰ç…§ origin åˆ—åˆ†ç»„ï¼Œå†ç”¨ .N è·å–æ¯ç»„çš„æ•°ç›®ã€‚
* é€šè¿‡ head(flights)ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç»“æœé‡Œé¢ï¼Œæœºåœºæ˜¯æŒ‰ç…§â€œJFKâ€, â€œLGAâ€ ç„¶å â€œEWRâ€ çš„é¡ºåºæ’åˆ—çš„ã€‚åŸå§‹æ•°æ®é‡Œï¼Œè¢«åˆ†ç»„çš„é‚£ä¸€åˆ—å˜é‡çš„é¡ºåºï¼Œä¹Ÿä½“ç°åœ¨ç»“æœé‡Œé¢ã€‚   
* æ—¢ç„¶æˆ‘ä»¬æ²¡æœ‰åœ¨å‚æ•°jé‡Œé¢æŒ‡å®šåˆ—åï¼Œé‚£è¿™ä¸€åˆ—å°±è‡ªç„¶æ˜¯ N äº†ã€‚
* by ä¹Ÿæ¥å—ä¸€ä¸ªåŒ…å«åˆ—åçš„å­—ç¬¦å‘é‡ä½œä¸ºå‚æ•°ã€‚è¿™åœ¨å†™ä»£ç çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ï¼Œæ¯”å¦‚è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„å‚æ•°æ˜¯è¦è¢«åˆ†ç»„çš„åˆ—ã€‚
* å½“å‚æ•°jå’Œbyé‡Œé¢åªæœ‰ä¸€åˆ—ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥ .()ï¼Œè¿™å®åœ¨å¾ˆæ–¹ä¾¿ã€‚åˆšåˆšçš„ä»»åŠ¡æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š
ans &amp;lt;- flights[, .N, by=origin]
ans
#    origin     N
# 1:    JFK 81483
# 2:    LGA 84433
# 3:    EWR 87400

åªè¦å…è®¸ï¼Œæˆ‘ä»¬å°±ä¼šä½¿ç”¨è¿™ç§æ–¹ä¾¿çš„å½¢å¼ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ å¦‚ä½•è·å–ç¾èˆªï¼ˆcarrier codeä»£ç æ˜¯â€œAAâ€ï¼‰åœ¨æ¯ä¸ªæœºåœºèµ·é£çš„èˆªç­æ•°
èˆªç©ºå…¬å¸ä»£ç â€œAAâ€ä»£è¡¨ç¾èˆªã€‚æ¯ä¸ªèˆªç©ºå…¬å¸çš„ä»£ç éƒ½æ˜¯å”¯ä¸€çš„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[carrier == &amp;quot;AA&amp;quot;, .N, by=origin]
ans
#    origin     N
# 1:    JFK 11923
# 2:    LGA 11730
# 3:    EWR  2649
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬é¦–å…ˆé€šè¿‡å‚æ•°iï¼ŒæŒ‡å®šè¡¨è¾¾å¼ carrier == &amp;quot;AA&amp;quot;ï¼Œé€‰å–ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚
* å¯¹äºè¿™äº›è¡Œï¼Œæˆ‘ä»¬å†æŒ‰ origin åˆ†ç»„ï¼Œè·å–æ¯ç»„çš„æ•°ç›®ã€‚å†æ¬¡å£°æ˜ï¼Œå®é™…ä¸Šæ²¡æœ‰åˆ—è¢«é‡æ–°åˆ›å»ºï¼Œå› ä¸ºå‚æ•°jè¡¨è¾¾å¼ä¸éœ€è¦è·å–åˆ—ï¼Œå› æ­¤åœ¨è®¡ç®—é€Ÿåº¦å’Œå†…å­˜ä½¿ç”¨é‡è¿™ä¸¤æ–¹é¢ï¼Œå–å¾—æœ€ä¼˜çš„æ•ˆæœã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ å¦‚ä½•è·å–ç¾èˆªåœ¨æ‰€æœ‰æœºåœºçš„èµ·ï¼é™çš„æ•°ç›®&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[carrier == &amp;quot;AA&amp;quot;, .N, by=.(origin,dest)]
head(ans)
#    origin dest    N
# 1:    JFK  LAX 3387
# 2:    LGA  PBI  245
# 3:    EWR  LAX   62
# 4:    JFK  MIA 1876
# 5:    JFK  SEA  298
# 6:    EWR  MIA  848

## or equivalently using a character vector in &#39;by&#39;
# ans &amp;lt;- flights[carrier == &amp;quot;AA&amp;quot;, .N, by=c(&amp;quot;origin&amp;quot;, &amp;quot;dest&amp;quot;)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* å‚æ•°by å¯ä»¥æ¥å—å¤šä¸ªåˆ—ã€‚æˆ‘ä»¬å¯ä»¥æŒ‡å®šæ‰€æœ‰æˆ‘ä»¬æƒ³åˆ†ç»„çš„åˆ—ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ å¦‚ä½•è·å–ç¾èˆªåœ¨æ‰€æœ‰æœºåœºçš„èµ·ï¼é™çš„å¹³å‡å»¶è¯¯æ—¶é—´&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[carrier == &amp;quot;AA&amp;quot;, 
    .(mean(arr_delay), mean(dep_delay)), 
    by=.(origin, dest, month)]
ans
#      origin dest month         V1         V2
#   1:    JFK  LAX     1   6.590361 14.2289157
#   2:    LGA  PBI     1  -7.758621  0.3103448
#   3:    EWR  LAX     1   1.366667  7.5000000
#   4:    JFK  MIA     1  15.720670 18.7430168
#   5:    JFK  SEA     1  14.357143 30.7500000
#  ---                                        
# 196:    LGA  MIA    10  -6.251799 -1.4208633
# 197:    JFK  MIA    10  -1.880184  6.6774194
# 198:    EWR  PHX    10  -3.032258 -4.2903226
# 199:    JFK  MCO    10 -10.048387 -1.6129032
# 200:    JFK  DCA    10  16.483871 15.5161290
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬æ²¡æœ‰åœ¨å‚æ•°jè¡¨è¾¾å¼ä¸­æŒ‡å®šåˆ—åï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨å‘½åä¸º(V1, V2)ã€‚    * å†æ¬¡å£°æ˜ï¼ŒåŸæ•°æ®é‡Œé¢çš„é¡ºåºï¼Œä¼šåæ˜ åœ¨ç»“æœä¸­ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®©ç»“æœæŒ‰ç…§ origin, dest å’Œ month æ’åºå‘¢ï¼Ÿ&lt;/p&gt;

&lt;h4 id=&#34;b-å‚æ•°keyby:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;b) å‚æ•°keyby&lt;/h4&gt;

&lt;p&gt;data.tableæœ¬èº«å°±è¢«è®¾è®¡æˆèƒ½ä¿æŒåŸæ•°æ®çš„é¡ºåºã€‚åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå¿…é¡»ä¿æŒåŸæ¥çš„é¡ºåºã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›è‡ªåŠ¨æ ¹æ®åˆ†ç»„çš„å˜é‡æ’åºã€‚&lt;/p&gt;

&lt;p&gt;ï¼ å¦‚ä½•æŒ‰ç…§åˆ†ç»„çš„å˜é‡æ’åº&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[carrier == &amp;quot;AA&amp;quot;, 
    .(mean(arr_delay), mean(dep_delay)), 
    keyby=.(origin, dest, month)]
ans
#      origin dest month         V1         V2
#   1:    EWR  DFW     1   6.427673 10.0125786
#   2:    EWR  DFW     2  10.536765 11.3455882
#   3:    EWR  DFW     3  12.865031  8.0797546
#   4:    EWR  DFW     4  17.792683 12.9207317
#   5:    EWR  DFW     5  18.487805 18.6829268
#  ---                                        
# 196:    LGA  PBI     1  -7.758621  0.3103448
# 197:    LGA  PBI     2  -7.865385  2.4038462
# 198:    LGA  PBI     3  -5.754098  3.0327869
# 199:    LGA  PBI     4 -13.966667 -4.7333333
# 200:    LGA  PBI     5 -10.357143 -6.8571429
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬åšçš„ï¼Œåªæ˜¯æŠŠ by æ”¹ä¸ºäº† keybyã€‚è¿™ä¼šè‡ªåŠ¨çš„å°†ç»“æœæŒ‰ç…§å‡åºæ’åˆ—ã€‚æ³¨æ„ keyby() åœ¨å®Œæˆæ“ä½œåç”Ÿæ•ˆï¼Œä¾‹å¦‚ï¼Œåœ¨è®¡ç®—ç»“æœåå†æ’åºã€‚   
keysï¼šå®é™…ä¸Š keyby åšçš„ä¸åªæ˜¯æ’åºã€‚å®ƒåœ¨æ’åºä¹‹åï¼Œè®¾ç½®ä¸€ä¸ªå«åšsortedçš„å±æ€§ã€‚æˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€æ•™ç¨‹å­¦ä¹ æ›´å¤šå…³äº keysçš„å†…å®¹ã€‚   
ç°åœ¨ï¼Œä½ éœ€è¦çŸ¥é“çš„ï¼Œå°±æ˜¯ä½¿ç”¨ keyby è‡ªåŠ¨æ’åºã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;c-chainingè¡¨è¾¾å¼:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;c) chainingè¡¨è¾¾å¼&lt;/h4&gt;

&lt;p&gt;è®©æˆ‘ä»¬å†æ¥è€ƒè™‘ä¸‹â€œè·å–ç¾èˆªåœ¨æ‰€æœ‰æœºåœºçš„èµ·ï¼é™çš„æ•°ç›®â€çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[carrier == &amp;quot;AA&amp;quot;, .N, by = .(origin, dest)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ å¦‚ä½•è®© ans æŒ‰originçš„å‡åºã€æŒ‰destçš„é™åºæ’åˆ—
æˆ‘ä»¬å¯ä»¥å°†ä¸­é—´ç»“æœä¿å­˜ä¸ºä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œå†å¯¹è¿™ä¸ªå˜é‡ä½¿ç”¨ order(origin, -dest) æ’åºã€‚è¿™çœ‹ä¸Šå»è¿˜æŒºç®€æ´æ˜äº†çš„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- ans[order(origin, -dest)]
head(ans)
#    origin dest    N
# 1:    EWR  PHX  121
# 2:    EWR  MIA  848
# 3:    EWR  LAX   62
# 4:    EWR  DFW 1618
# 5:    JFK  STT  229
# 6:    JFK  SJU  690
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* å›å¿†ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨å‡½æ•° order()ä¸­ï¼Œå¯¹ä¸€ä¸ªå­—ç¬¦å‹çš„åˆ—ä½¿ç”¨ &amp;quot;-&amp;quot; æ¥é™åºæ’åˆ—ã€‚ç”±äºdata.tableçš„å†…éƒ¨æŸ¥è¯¢ä¼˜åŒ–(internal query optimisation)ï¼Œè¿™æ ·åšæ˜¯å¯è¡Œçš„ã€‚
* å†å›å¿†ä¸€ä¸‹ order(...)å·²ç»é€šè¿‡data.tableå†…éƒ¨çš„å¿«é€ŸåŸºæ•°æ’åºå‡½æ•° forder()ä¼˜åŒ–è¿‡äº†ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­ä½¿ç”¨ç†Ÿæ‚‰çš„Rçš„åŸºç¡€å‡½æ•°ï¼Œè€Œä¸æ˜¯è€ƒè™‘ä½¿ç”¨data.tableæä¾›çš„é€Ÿåº¦å¿«å†…å­˜æ¶ˆè€—å°‘çš„æ’åºæ–¹æ³•ã€‚æˆ‘ä»¬ä¼šåœ¨data.table internalsçš„æ•™ç¨‹ä¸­è¯´æ˜æ›´å¤šç»†èŠ‚ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†æ˜¯è¿™ä¹ˆåšä¼šç”Ÿæˆä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œç„¶åå†ä¿®æ”¹è¿™ä¸ªä¸´æ—¶å˜é‡ã€‚å…¶å®æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ chainingè¡¨è¾¾å¼ï¼Œé¿å…ç”Ÿæˆä¸´æ—¶å˜é‡ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[carrier == &amp;quot;AA&amp;quot;, .N, by=.(origin, dest)][order(origin, -dest)]
head(ans, 10)
#     origin dest    N
#  1:    EWR  PHX  121
#  2:    EWR  MIA  848
#  3:    EWR  LAX   62
#  4:    EWR  DFW 1618
#  5:    JFK  STT  229
#  6:    JFK  SJU  690
#  7:    JFK  SFO 1312
#  8:    JFK  SEA  298
#  9:    JFK  SAN  299
# 10:    JFK  ORD  432
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬å¯ä»¥ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ·»åŠ è¡¨è¾¾å¼ï¼Œåšä¸€ç³»åˆ—æ“ä½œï¼Œå°±åƒè¿™æ ·ï¼šDT[...][...][...]ã€‚
* æˆ–è€…ä½ å¯ä»¥æ¢è¡Œå†™ï¼š
DT[...
 ][...
 ][...
 ]
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;d-byè¡¨è¾¾å¼:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;d) byè¡¨è¾¾å¼&lt;/h4&gt;

&lt;p&gt;ï¼ å‚æ•°byä¹Ÿå¯ä»¥æ¥å—è¡¨è¾¾å¼å—ï¼Ÿè¿˜æ˜¯åªèƒ½æŒ‡å®šåˆ—&lt;br /&gt;
å½“ç„¶å¯ä»¥æ¥å—è¡¨è¾¾å¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦çŸ¥é“ï¼Œæœ‰å¤šå°‘èˆªç­èµ·é£å»¶è¯¯ä½†å´æå‰ï¼å‡†æ—¶åˆ°è¾¾çš„ï¼Œæœ‰å¤šå°‘èˆªç­èµ·é£å’Œåˆ°è¾¾éƒ½å»¶è¯¯äº†â€¦â€¦&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, .N, .(dep_delay&amp;gt;0, arr_delay&amp;gt;0)]
ans
#    dep_delay arr_delay      N
# 1:      TRUE      TRUE  72836
# 2:     FALSE      TRUE  34583
# 3:     FALSE     FALSE 119304
# 4:      TRUE     FALSE  26593
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æœ€åä¸€è¡Œï¼Œæ»¡è¶³ dep_delay &amp;gt; 0 = TRUE ä¸” arr_delay &amp;gt; 0 = FALSE çš„æ¡ä»¶ã€‚æˆ‘ä»¬çŸ¥é“æœ‰26593æ¬¡èˆªç­èµ·é£å»¶è¯¯ä½†å´æå‰ï¼å‡†æ—¶åˆ°è¾¾äº†ã€‚
* æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰åœ¨byè¡¨è¾¾å¼é‡Œé¢æŒ‡å®šä»»ä½•åˆ—åã€‚ç„¶è€Œç»“æœé‡Œé¢ï¼Œåˆ—åè¿˜æ˜¯è‡ªåŠ¨çš„ç”Ÿæˆäº†ã€‚
* æˆ‘ä»¬å¯ä»¥åœ¨è¡¨è¾¾å¼é‡Œé¢æŒ‡å®šå…¶ä»–çš„åˆ—ï¼Œæ¯”å¦‚ï¼šDT[, .N, by=.(a, b&amp;gt;0)]ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;e-åœ¨å‚æ•°jé‡Œé¢æŒ‡å®šå¤šä¸ªåˆ—:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;e) åœ¨å‚æ•°jé‡Œé¢æŒ‡å®šå¤šä¸ªåˆ—&lt;/h4&gt;

&lt;p&gt;ï¼ å¿…é¡»åˆ†åˆ«å¯¹æ¯åˆ—æŒ‡å®š mean() å‡½æ•°å—
å½“ç„¶ä¸å¿…åˆ†åˆ«å¯¹æ¯åˆ—è¾“å…¥ mean(myCol) äº†ã€‚è¦æ˜¯æˆ‘ä»¬æœ‰100åˆ—è¦è®¡ç®—å¹³å‡å€¼ï¼Œä¸å°±æƒ¨äº†å—ã€‚&lt;br /&gt;
å¦‚ä½•é«˜æ•ˆåœ°è®¡ç®—å‘¢ã€‚è®°ä¸è®°å¾—è¿™ä¸ªå°è´´å£«-â€œåªè¦å‚æ•°j è¿”å›ä¸€ä¸ªlistï¼Œè¿™ä¸ªlistçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¼šè¢«è½¬æ¢æˆç»“æœdata.tableçš„ä¸€åˆ—ã€‚â€å‡è®¾æˆ‘ä»¬åˆ†ç»„çš„æ—¶å€™ï¼Œå¯ä»¥åƒå˜é‡ä¸€æ ·ï¼Œå¼•ç”¨æ¯ä¸ªåˆ†ç»„çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾ªç¯å¯¹æ‰€æœ‰çš„åˆ—åº”ç”¨å‡½æ•° lapply() ï¼Œè€Œä¸éœ€è¦å­¦ä¹ æ–°çš„å‡½æ•°ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ç‰¹æ®Šçš„è¯­æ³• .SD:
data.tableæä¾›ä¸€ä¸ªç‰¹æ®Šçš„è¯­æ³•ï¼Œå½¢å¼æ˜¯ .SDã€‚å®ƒæ˜¯ Subset of Data çš„ç¼©å†™ã€‚å®ƒè‡ªèº«å°±æ˜¯ä¸€ä¸ªdata.tableï¼ŒåŒ…å«é€šè¿‡by åˆ†ç»„åçš„æ¯ä¸€ç»„ã€‚
å›å¿†ä¸€ä¸‹ï¼Œä¸€ä¸ªdata.tableæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªlistï¼Œå®ƒä»¬çš„åˆ—åŒ…å«çš„å…ƒç´ ä¸ªæ•°éƒ½ç›¸åŒï¼ˆå…¶å®å°±æ˜¯è¡Œæ•°ï¼‰ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è®©æˆ‘ä»¬ç”¨ä¹‹å‰çš„ä¸€ä¸ªdata.table DTæ¥çœ‹çœ‹ .SD æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT
#    ID a  b  c
# 1:  b 1  7 13
# 2:  b 2  8 14
# 3:  b 3  9 15
# 4:  a 4 10 16
# 5:  a 5 11 17
# 6:  c 6 12 18

DT[, print(.SD), by=ID]
#    a b  c
# 1: 1 7 13
# 2: 2 8 14
# 3: 3 9 15
#    a  b  c
# 1: 4 10 16
# 2: 5 11 17
#    a  b  c
# 1: 6 12 18
# Empty data.table (0 rows) of 1 col: ID
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* .SD åŒ…å«é™¤äº†åˆ†ç»„ä¾æ®çš„é‚£ä¸€åˆ—ä»¥å¤–çš„æ‰€æœ‰åˆ—ã€‚
* è¿”å›å€¼ä¾æ—§ä¿æŒäº†åŸæ•°æ®çš„é¡ºåºã€‚é¦–å…ˆæ‰“å°å‡ºæ¥çš„æ˜¯ ID=â€œbâ€ çš„æ•°æ®ï¼Œç„¶åæ˜¯ ID=â€œaâ€ çš„ï¼Œæœ€åæ˜¯  ID=â€œcâ€ çš„ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸ºäº†å¯¹å¤æ•°çš„åˆ—è¿›è¡Œè®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨å‡½æ•° lapply()ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT[, lapply(.SD, mean), by=ID]
#    ID   a    b    c
# 1:  b 2.0  8.0 14.0
# 2:  a 4.5 10.5 16.5
# 3:  c 6.0 12.0 18.0 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* .SD åˆ†åˆ«åŒ…å«äº†IDæ˜¯ aã€bã€cçš„æ‰€æœ‰è¡Œï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”äº†å„è‡ªçš„ç»„ã€‚æˆ‘ä»¬åº”ç”¨å‡½æ•° lapply() å¯¹æ¯åˆ—è®¡ç®—å¹³å‡å€¼ã€‚
* æ¯ä¸€ç»„è¿”å›åŒ…å«ä¸‰ä¸ªå¹³å‡æ•°çš„listï¼Œè¿™äº›æ„æˆäº†æœ€ç»ˆè¿”å›çš„data.tableã€‚
* æ—¢ç„¶å‡½æ•° lapply() è¿”å› listï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åœ¨å¤–é¢å¤šåŠ  .() äº†ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å·®ä¸å¤šå¯ä»¥äº†ï¼Œå†è¡¥å……ä¸€ç‚¹ã€‚åœ¨ flights è¿™ä¸ª data.tableé‡Œé¢ï¼Œæˆ‘ä»¬æ‰§è¡Œè®¡ç®— arr_delay å’Œ dep_delay è¿™ä¸¤åˆ—çš„å¹³å‡å€¼ã€‚ä½†æ˜¯ï¼Œ.SD é»˜è®¤åŒ…å«ç”¨äºåˆ†ç»„çš„æ‰€æœ‰åˆ—çš„å¹³å‡å€¼ã€‚&lt;/p&gt;

&lt;p&gt;ï¼å¦‚ä½•æŒ‡å®šå¸Œæœ›è®¡ç®—å¹³å‡å€¼çš„åˆ—&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.SDcols
ä½¿ç”¨å‚æ•° .SDcolsã€‚å®ƒæ¥å—åˆ—åæˆ–è€…åˆ—ç´¢å¼•ã€‚æ¯”å¦‚ï¼Œ.SDcols = c(&amp;quot;arr_delay&amp;quot;, &amp;quot;dep_delay&amp;quot;)èƒ½ç¡®ä¿.SDä¹‹åŒ…å« arr_delay å’Œ dep_delay è¿™ä¸¤åˆ—ã€‚
å’Œ with = FALSE ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ - æˆ–è€… ! æ¥ç§»é™¤åˆ—ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æŒ‡å®š !(colA:colB) æˆ–è€… -(colA:colB)è¡¨ç¤ºç§»é™¤ä» colA åˆ° colB çš„æ‰€æœ‰åˆ—ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬è¯•ç€ç”¨ .SD å’Œ .SDcols æ¥è·å– arr_delay å’Œ dep_delay è¿™ä¸¤åˆ—çš„å¹³å‡å€¼ï¼Œå¹¶ä¸”æŒ‰ç…§ origin, dest å’Œ month æ¥åˆ†ç»„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[carrier == &amp;quot;AA&amp;quot;,                     ## Only on trips with carrier &amp;quot;AA&amp;quot;
        lapply(.SD, mean),                   ## compute the mean
        by=.(origin, dest, month),           ## for every &#39;origin,dest,month&#39;
        .SDcols=c(&amp;quot;arr_delay&amp;quot;, &amp;quot;dep_delay&amp;quot;)] ## for just those specified in .SDcols
#      origin dest month  arr_delay  dep_delay
#   1:    JFK  LAX     1   6.590361 14.2289157
#   2:    LGA  PBI     1  -7.758621  0.3103448
#   3:    EWR  LAX     1   1.366667  7.5000000
#   4:    JFK  MIA     1  15.720670 18.7430168
#   5:    JFK  SEA     1  14.357143 30.7500000
#  ---                                        
# 196:    LGA  MIA    10  -6.251799 -1.4208633
# 197:    JFK  MIA    10  -1.880184  6.6774194
# 198:    EWR  PHX    10  -3.032258 -4.2903226
# 199:    JFK  MCO    10 -10.048387 -1.6129032
# 200:    JFK  DCA    10  16.483871 15.5161290
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;f-å¯¹æ¯ç»„subset-sd:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;f) å¯¹æ¯ç»„subset .SD&lt;/h4&gt;

&lt;p&gt;ï¼ å¦‚ä½•è¿”å›æ¯ä¸ªæœˆçš„å‰ä¸¤è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[, head(.SD, 2), by=month]
head(ans)
#    month year day dep_time dep_delay arr_time arr_delay cancelled carrier tailnum flight origin
# 1:     1 2014   1      914        14     1238        13         0      AA  N338AA      1    JFK
# 2:     1 2014   1     1157        -3     1523        13         0      AA  N335AA      3    JFK
# 3:     2 2014   1      859        -1     1226         1         0      AA  N783AA      1    JFK
# 4:     2 2014   1     1155        -5     1528         3         0      AA  N784AA      3    JFK
# 5:     3 2014   1      849       -11     1306        36         0      AA  N784AA      1    JFK
# 6:     3 2014   1     1157        -3     1529        14         0      AA  N787AA      3    JFK
#    dest air_time distance hour min
# 1:  LAX      359     2475    9  14
# 2:  LAX      363     2475   11  57
# 3:  LAX      358     2475    8  59
# 4:  LAX      358     2475   11  55
# 5:  LAX      375     2475    8  49
# 6:  LAX      368     2475   11  57
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* .SD åŒ…å«äº†æ¯ç»„çš„æ‰€æœ‰è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç®€å•çš„subsetå„ç»„æ•°æ®çš„å‰ä¸¤è¡Œã€‚
* å¯¹æ¯ç»„æ•°æ®ï¼Œhead(.SD, 2)è¿”å›çš„data.tableåŒæ—¶ä¹Ÿæ˜¯ä¸ªlistã€‚æ‰€ä»¥ä¸éœ€è¦ç”¨ .() åŒ…å›´èµ·æ¥ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;g-ä¸ºä»€ä¹ˆå‚æ•°jè¿™ä¹ˆçµæ´»:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;g) ä¸ºä»€ä¹ˆå‚æ•°jè¿™ä¹ˆçµæ´»&lt;/h4&gt;

&lt;p&gt;è¿™æ ·ï¼Œæˆ‘ä»¬æœ‰äº†ç¬¦åˆRè¯­è¨€é£æ ¼çš„è¯­æ³•ï¼Œæˆ‘ä»¬ä¹Ÿä½¿ç”¨Rè¯­è¨€é‡Œé¢æ—¢å­˜çš„å‡½æ•°å®šä¹‰ï¼Œè€Œä¸æ˜¯å®šä¹‰æ–°çš„å‡½æ•°ã€‚æˆ‘ä»¬ç”¨æ•™ç¨‹ä¸€å¼€å§‹åˆ›å»ºçš„DTæ¥è¯´æ˜ã€‚&lt;/p&gt;

&lt;p&gt;ï¼å¦‚ä½•ä¿å­˜æŒ‰ç…§IDåˆ†ç»„åæ•°æ®ä¸­çš„ aåˆ—å’Œ båˆ— çš„ä¿¡æ¯&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT
#    ID a  b  c
# 1:  b 1  7 13
# 2:  b 2  8 14
# 3:  b 3  9 15
# 4:  a 4 10 16
# 5:  a 5 11 17
# 6:  c 6 12 18

DT[, .(val = c(a,b)), by=ID]
#     ID val
#  1:  b   1
#  2:  b   2
#  3:  b   3
#  4:  b   7
#  5:  b   8
#  6:  b   9
#  7:  a   4
#  8:  a   5
#  9:  a  10
# 10:  a  11
# 11:  c   6
# 12:  c  12
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* å°±è¿™æ ·ï¼Œä¸éœ€è¦ç‰¹æ®Šçš„è¯­æ³•ã€‚æˆ‘ä»¬éœ€è¦çŸ¥é“çš„ï¼Œå°±æ˜¯ç”¨å‡½æ•° c() æŒ‡å®šéœ€è¦è¿ç»“çš„å‘é‡ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ å¦‚ä½•å°†åˆšåˆšçš„æ•°æ®ï¼Œä½œä¸ºä¸€åˆ—è¿”å›&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT[, .(val = list(c(a,b))), by=ID]
#    ID         val
# 1:  b 1,2,3,7,8,9
# 2:  a  4, 5,10,11
# 3:  c        6,12
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* æˆ‘ä»¬é¦–å…ˆç”¨ c(a,b) è¿ç»“äº†æ¯ç»„çš„å€¼ï¼Œç„¶åç”¨ list() åŒ…å›´èµ·æ¥ã€‚é‚£ä¹ˆå¯¹äºæ¯ç»„æ•°æ®ï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªæ‰€æœ‰è¿ç»“åçš„å€¼çš„ listã€‚
* æ³¨æ„ï¼Œé‚£äº›é€—å·éƒ½æ˜¯ç”¨æ¥è¾…åŠ©æ˜¾ç¤ºçš„ã€‚ä¸€ä¸ªlistä¸­çš„å…ƒç´ å¯ä»¥åŒ…å«ä»»ä½•å¯¹è±¡ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå®ƒä»¬çš„é•¿åº¦éƒ½ä¸ç›¸åŒã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€æ—¦ä½ å¯¹å‚æ•°jçš„ç”¨æ³•äº§ç”Ÿäº†å…´è¶£ï¼Œä½ ä¼šå‘ç°è¯­æ³•æ˜¯å¤šä¹ˆå¼ºå¤§ã€‚ç†è§£è¿™äº›çš„ä¸€ä¸ªæœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯ï¼Œåœ¨ print() çš„å¸®åŠ©ä¸‹ï¼Œå¤šå¤šä½¿ç”¨ã€‚&lt;br /&gt;
ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;## (1) look at the difference between
DT[, print(c(a,b)), by=ID]
# [1] 1 2 3 7 8 9
# [1]  4  5 10 11
# [1]  6 12
# Empty data.table (0 rows) of 1 col: ID

## (2) and
DT[, print(list(c(a,b))), by=ID]
# [[1]]
# [1] 1 2 3 7 8 9
# 
# [[1]]
# [1]  4  5 10 11
# 
# [[1]]
# [1]  6 12
# Empty data.table (0 rows) of 1 col: ID
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨(1)é‡Œé¢ï¼Œæ¯ç»„è¿”å›ä¸€ä¸ªå‘é‡ï¼Œå®ƒä»¬çš„é•¿åº¦åˆ†åˆ«æ˜¯6ï¼Œ4ï¼Œ2.ä½†æ˜¯(2)é‡Œé¢ï¼Œæ¯ç»„è¿”å›ä¸€ä¸ªé•¿åº¦éƒ½ä¸º1çš„listï¼Œå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…ƒç´ åŒ…å«äº†é•¿åº¦ä¸º6ï¼Œ4ï¼Œ2çš„å‘é‡ã€‚å› æ­¤ï¼Œ(1)çš„ç»“æœçš„é•¿åº¦æ˜¯6+4+2=12ï¼Œ(2)çš„ç»“æœçš„é•¿åº¦æ˜¯1+1+1=3ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ€»ç»“:3d5b18c834d19c525ed890cfd64b400c&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;data.tableçš„è¯­æ³•å½¢å¼æ˜¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT[i, j, by]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŒ‡å®šå‚æ•°iï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* ç±»ä¼¼äºdata.frameï¼Œæˆ‘ä»¬å¯ä»¥subsetè¡Œï¼Œé™¤éä¸éœ€è¦é‡å¤åœ°ä½¿ç”¨ DT$ï¼Œæ—¢ç„¶æˆ‘ä»¬èƒ½å°†åˆ—å½“åšå˜é‡æ¥å¼•ç”¨ã€‚ 
* æˆ‘ä»¬å¯ä»¥ä½¿ç”¨order()æ’åºã€‚ä¸ºäº†å¾—åˆ°æ›´å¿«é€Ÿçš„æ•ˆæœï¼Œorder()å‡½æ•°å†…éƒ¨ä½¿ç”¨äº†data.tableçš„å¿«é€Ÿæ’åºã€‚ 
æˆ‘ä»¬å¯ä»¥é€šè¿‡å‚æ•°iåšæ›´å¤šçš„äº‹ï¼Œå¾—åˆ°æ›´å¿«é€Ÿçš„é€‰å–å’Œè¿ç»“ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ•™ç¨‹â€œKeys and fast binary search based subsetsâ€å’Œâ€œJoins and rolling joinsâ€ä¸­å­¦åˆ°è¿™äº›ã€‚ 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŒ‡å®šå‚æ•°jï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* ä»¥data.tableçš„å½¢å¼é€‰å–åˆ—ï¼šDT[, .(colA, colB)]ã€‚
* ä»¥data.frameçš„å½¢å¼é€‰å–åˆ—ï¼šDT[, c(&amp;quot;colA&amp;quot;, &amp;quot;colB&amp;quot;), with=FALSE]ã€‚
* æŒ‰åˆ—è¿›è¡Œè®¡ç®—ï¼šDT[, .(sum(colA), mean(colB))]ã€‚
* å¦‚æœéœ€è¦ï¼šDT[, .(sA =sum(colA), mB = mean(colB))]ã€‚
* å’Œiå…±åŒä½¿ç”¨ï¼šDT[colA &amp;gt; value, sum(colB)]ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŒ‡å®šå‚æ•°byï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* é€šè¿‡byï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šåˆ—ï¼Œæˆ–è€…åˆ—åï¼Œç”šè‡³è¡¨è¾¾å¼ï¼Œè¿›è¡Œåˆ†ç»„ã€‚å‚æ•°jå¯ä»¥å¾ˆçµæ´»åœ°é…ç½®å‚æ•°iå’Œbyå®ç°å¼ºå¤§çš„åŠŸèƒ½ã€‚
* byå¯ä»¥æŒ‡å®šå¤šä¸ªåˆ—ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šè¡¨è¾¾å¼ã€‚
* æˆ‘ä»¬å¯ä»¥ç”¨ keybyï¼Œå¯¹åˆ†ç»„çš„ç»“æœè‡ªåŠ¨æ’åºã€‚
* æˆ‘ä»¬å¯ä»¥åœ¨å‚æ•°jä¸­æŒ‡å®š .SD å’Œ .SDcolsï¼Œå¯¹å¤æ•°çš„åˆ—è¿›è¡Œæ“ä½œã€‚ä¾‹å¦‚ï¼š   
  1.æŠŠå‡½æ•°fun åº”ç”¨åˆ°æ‰€æœ‰ .SDcolsæŒ‡å®šçš„åˆ—ä¸Šï¼ŒåŒæ—¶å¯¹å‚æ•°byæŒ‡å®šçš„åˆ—è¿›è¡Œåˆ†ç»„ï¼šDT[, lapply(.SD, fun), by=., .SDcols=...]ã€‚ 
  2.è¿”å›æ¯ç»„å†Œå‰ä¸¤è¡Œï¼šDT[, head(.SD, 2), by=.]ã€‚
  3.ä¸‰ä¸ªå‚æ•°è”åˆä½¿ç”¨ï¼šDT[col &amp;gt; val, head(.SD, 1), by=.]ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°æç¤ºï¼š&lt;br /&gt;
åªè¦jè¿”å›ä¸€ä¸ªlistï¼Œè¿™ä¸ªlistçš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ˜¯ç»“æœdata.tableçš„ä¸€åˆ—ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹ä¸€è®²ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•ç”¨referenceæ¥addï¼updateï¼deleteæŸä¸€åˆ—ï¼Œå¦‚ä½•é€šè¿‡iå’Œbyåˆå¹¶å®ƒä»¬ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Rè¯­è¨€ä¸­çš„class()ã€mode()å’Œtypeof()çš„åŒºåˆ«</title>
      <link>http://youngspring1.github.io/post/2016-03-08-r-class/</link>
      <pubDate>Tue, 08 Mar 2016 22:52:12 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016-03-08-r-class/</guid>
      <description>

&lt;p&gt;ä»Šå¤©å¯¹Rè¯­è¨€ä¸­çš„è¿™ä¸‰ä¸ªå‡½æ•°äº§ç”Ÿäº†ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶å€™å®ƒä»¬çš„è¿è¡Œç»“æœä¸€æ ·ï¼Œæœ‰æ—¶å€™å´åˆä¸ä¸€æ ·ï¼Ÿ&lt;/p&gt;

&lt;h3 id=&#34;å®šä¹‰:4392bb40a36ba9fbdbf9a9669f2b4fbf&#34;&gt;å®šä¹‰&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;mode&lt;/strong&gt;&lt;br /&gt;
&amp;emsp;The (Storage) Mode of an Object&lt;br /&gt;
&lt;strong&gt;Description&lt;/strong&gt;&lt;br /&gt;
&amp;emsp;Get or set the type or storage mode of an object.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;typeof&lt;/strong&gt;&lt;br /&gt;
&amp;emsp;The Type of an Object&lt;br /&gt;
&lt;strong&gt;Description&lt;/strong&gt;&lt;br /&gt;
&amp;emsp;typeof determines the (R internal) type or storage mode of any object&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;class&lt;/strong&gt;&lt;br /&gt;
&amp;emsp;Object Classes&lt;br /&gt;
&lt;strong&gt;Description&lt;/strong&gt;&lt;br /&gt;
&amp;emsp;R possesses a simple generic function mechanism which can be used for an object-oriented style of programming.&lt;br /&gt;
&amp;emsp;Method dispatch takes place based on the class of the first argument to the generic function.&lt;/p&gt;

&lt;h3 id=&#34;è§£é‡Š:4392bb40a36ba9fbdbf9a9669f2b4fbf&#34;&gt;è§£é‡Š&lt;/h3&gt;

&lt;p&gt;åœ¨Ré‡Œé¢ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªmodeå’Œä¸€ä¸ªclassã€‚&lt;br /&gt;
å‰è€…è¡¨ç¤ºå¯¹è±¡åœ¨å†…å­˜ä¸­æ˜¯å¦‚ä½•å­˜å‚¨çš„ã€‚ (numeric, character, list and function)&lt;br /&gt;
åè€…è¡¨ç¤ºå¯¹è±¡çš„æŠ½è±¡ç±»å‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;d &amp;lt;- data.frame(V1=c(1,2))
class(d)
# [1] &amp;quot;data.frame&amp;quot;
mode(d)
# [1] &amp;quot;list&amp;quot;
typeof(d)
# list

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œdata frameè¿™ç§ç±»å‹ï¼Œåœ¨å†…å­˜ä¸­ä½œä¸ºlistè¢«å­˜å‚¨ï¼Œä½†æ˜¯å®ƒä»¬è¢«åŒ…è£…æˆdata frameã€‚&lt;br /&gt;
å¯¹äºæŸä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå®ƒçš„ç±»å‹æ˜¯data frameï¼Œå´ä¸èƒ½è¯´æ˜¯listã€‚&lt;/p&gt;

&lt;p&gt;å†æ¥çœ‹modeå’Œtypeofã€‚&lt;br /&gt;
modeå’Œtypeofé€šå¸¸è¿”å›åŒæ ·çš„å€¼ï¼Œä½†ä¹Ÿæœ‰ä¾‹å¤–ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;typeof(c(1,2))
# [1] &amp;quot;double&amp;quot;
mode(c(1,2))
# [1] &amp;quot;numeric&amp;quot;

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†å²åŸå› å•¦ã€‚Rè¯­è¨€ç”±Sè¯­è¨€å‘å±•è€Œæ¥ã€‚&lt;br /&gt;
modeï¼Œä¸ºäº†å’ŒSè¯­è¨€å…¼å®¹ï¼Œè¿”å›Rçš„å¯¹è±¡çš„æ¨¡å¼ã€‚&lt;br /&gt;
typeofæ˜¯Rè¯­è¨€ç‰¹æœ‰çš„ï¼Œè¿”å›ä¸€ä¸ªRçš„å¯¹è±¡çš„ç±»å‹ã€‚ï¼ˆå“å‘€ï¼Œè§£é‡Šä¸æ¸…æ¥šå•¦ï¼‰&lt;/p&gt;

&lt;h3 id=&#34;å‚è€ƒ:4392bb40a36ba9fbdbf9a9669f2b4fbf&#34;&gt;å‚è€ƒ&lt;/h3&gt;

&lt;p&gt;1.&lt;a href=&#34;http://stackoverflow.com/questions/6258004/r-types-and-classes-of-variables&#34;&gt;http://stackoverflow.com/questions/6258004/r-types-and-classes-of-variables&lt;/a&gt;&lt;br /&gt;
2.&lt;a href=&#34;http://stats.stackexchange.com/questions/3212/mode-class-and-type-of-r-objects&#34;&gt;http://stats.stackexchange.com/questions/3212/mode-class-and-type-of-r-objects&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Gitå¸¸ç”¨å‘½ä»¤å¤‡å¿˜</title>
      <link>http://youngspring1.github.io/post/2016-03-06-git/</link>
      <pubDate>Sun, 06 Mar 2016 13:53:07 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016-03-06-git/</guid>
      <description>

&lt;p&gt;ä¸ç”¨gitç®€ç›´å°±æ˜¯åäººç±»å•Šã€‚&lt;br /&gt;
ä¸è¿‡æ²¡æœ‰èƒ½åŠ›ä¸€ä¸‹å­æŠŠæ‰€æœ‰çš„å‘½ä»¤éƒ½è®°ä½ï¼Œå…ˆæŠŠå¸¸ç”¨çš„å‡ ä¸ªåˆ—ä¸‹ï¼Œå…·ä½“çš„åé¢ç”¨åˆ°äº†å†æŸ¥ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç¤ºæ„å›¾:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;ç¤ºæ„å›¾&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;http://7xrjai.com1.z0.glb.clouddn.com/20160306-git-map.png&#34; alt=&#34;git-map&#34; /&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;remote&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;repository&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;index&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;workspace&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;-å›¾ä¸­çš„remoteæ˜¯è¿œç¨‹ä»“åº“ï¼Œè€Œrepositoryã€indexå’Œworkspaceéƒ½æ˜¯åœ¨ä½ æœ¬åœ°ã€‚&lt;br /&gt;
remoteè¿˜å¯ä»¥åˆ†ä¸ºtrunk repositoryå’Œyour own github repositoryã€‚
å¦‚æœä½ è§‰å¾—åˆ«äººçš„å·¥ç¨‹å¾ˆå¥½ï¼Œæƒ³åœ¨æ­¤åŸºç¡€ä¸Šå«æ¥è‡ªå·±çš„å¼€å‘ï¼Œé‚£ä¹ˆforkä¸€ä¸‹ï¼Œå°±ä¼šåˆ°ä½ è‡ªå·±çš„githubå·¥ç¨‹åˆ—è¡¨ä¸­ã€‚è¿™äº›remoteéƒ½æ˜¯æœ‰ç‹¬ç«‹çš„åœ°å€çš„ï¼Œæ¯”å¦‚gitè‡ªå·±çš„ä»£ç ï¼Œæä¾›ä¸€ä¸ªå”¯ä¸€çš„åœ°å€ä¾›å¤§å®¶forkï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;https://github.com/git/git.git   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;-å›¾ä¸­çš„repositoryæ˜¯æœ¬åœ°ä»“åº“ï¼Œå¦‚æœè¿™ä¸ªæœ¬åœ°ä»“åº“åˆšåˆšè¢«åˆå§‹åŒ–ï¼Œè¿˜æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦cloneä¸€ä¸‹è¿œç¨‹ä»“åº“ã€‚&lt;br /&gt;
å¦‚æœè¿™ä¸ªæœ¬åœ°ä»“åº“æ˜¯ä»¥å‰å°±åˆ›å»ºå¥½çš„ï¼Œæˆ‘ä»¬å¼€å‘ä»£ç ä¹‹å‰ï¼Œåº”è¯¥å–å¾—ï¼ˆfetchï¼‰è¿œç¨‹ä»“åº“remoteçš„æ›´æ–°ã€‚&lt;/p&gt;

&lt;p&gt;-å›¾ä¸­çš„workspaceæ˜¯å·¥ä½œåŒºï¼Œå°±æ˜¯å…·ä½“çš„ä»£ç æ–‡ä»¶ã€‚
-å›¾ä¸­çš„indexæ˜¯æš‚å­˜åŒºï¼Œä»£ç æŸä¸ªç‰ˆæœ¬å¼€å‘å¥½åï¼Œéœ€è¦addè¿›indexï¼Œå°±æ˜¯å‘Šè¯‰ä»“åº“ï¼Œæˆ‘ä¿®æ”¹äº†å“ªäº›æ–‡ä»¶ï¼Œå°†ä¼šæäº¤å“ªäº›æ–‡ä»¶ã€‚&lt;br /&gt;
æ­¤æ—¶ä½¿ç”¨commitå‘½ä»¤æ¥æäº¤æ–‡ä»¶ã€‚&lt;br /&gt;
æœ€åï¼ŒæŠŠä¿®æ”¹ä»æœ¬åœ°ä»“åº“repositoryæ¨é€ï¼ˆpushï¼‰åˆ°è¿œç¨‹ä»“åº“ï¼ˆremoteï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&#34;1-git-clone:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;1.git clone&lt;/h2&gt;

&lt;p&gt;é‡è¦çš„äº‹æƒ…åœ¨å‰é¢è¯´ï¼Œchoneä¹‹å‰éœ€è¦initï¼&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cd proj-dir
$ git init
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;cloneå‘½ä»¤ä¼šåœ¨æœ¬åœ°ä¸»æœºç”Ÿæˆä¸€ä¸ªç›®å½•ï¼Œä¸è¿œç¨‹ä¸»æœºçš„ç‰ˆæœ¬åº“åŒåã€‚&lt;br /&gt;
å¦‚æœè¦æŒ‡å®šä¸åŒçš„ç›®å½•åï¼Œå¯ä»¥å°†ç›®å½•åä½œä¸ºgit cloneå‘½ä»¤çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git clone &amp;lt;ç‰ˆæœ¬åº“çš„ç½‘å€&amp;gt;
$ git clone &amp;lt;ç‰ˆæœ¬åº“çš„ç½‘å€&amp;gt; &amp;lt;æœ¬åœ°ç›®å½•å&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¯”å¦‚ï¼Œå…‹éš†jQueryçš„ç‰ˆæœ¬åº“ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git clone https://github.com/jquery/jquery.git
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;cloneæ”¯æŒHTTP(s)ã€SSHã€Gitã€FTPç­‰åè®®ã€‚&lt;/p&gt;

&lt;h2 id=&#34;2-git-remote:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;2.git remote&lt;/h2&gt;

&lt;p&gt;git remoteå‘½ä»¤åˆ—å‡ºæ‰€æœ‰è¿œç¨‹ä¸»æœºã€‚&lt;br /&gt;
å…‹éš†ç‰ˆæœ¬åº“çš„æ—¶å€™ï¼Œæ‰€ä½¿ç”¨çš„è¿œç¨‹ä¸»æœºè‡ªåŠ¨è¢«Gitå‘½åä¸ºoriginã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git remote
origin
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½¿ç”¨-vé€‰é¡¹ï¼Œå¯ä»¥å‚çœ‹è¿œç¨‹ä¸»æœºçš„ç½‘å€ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git remote -v
origin  git@github.com:jquery/jquery.git (fetch)
origin  git@github.com:jquery/jquery.git (push)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœæƒ³ç”¨å…¶ä»–çš„ä¸»æœºåï¼Œéœ€è¦ç”¨git cloneå‘½ä»¤çš„-oé€‰é¡¹æŒ‡å®šã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git clone -o jQuery https://github.com/jquery/jquery.git
$ git remote
jQuery
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;3-git-fetch:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;3.git fetch&lt;/h2&gt;

&lt;p&gt;å¦‚æœè¿œç¨‹ä»“åº“çš„ä»£ç æœ‰æ›´æ–°ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™äº›æ›´æ–°å–åˆ°æœ¬åœ°ã€‚&lt;br /&gt;
é€šå¸¸å»ºè®®åœ¨ä¿®æ”¹æœ¬åœ°ä»£ç å‰åšè¿™ä»¶äº‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git fetch &amp;lt;è¿œç¨‹ä¸»æœºå&amp;gt;
$ git fetch &amp;lt;è¿œç¨‹ä¸»æœºå&amp;gt; &amp;lt;åˆ†æ”¯å&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä¸æŒ‡å®šåˆ†æ”¯åï¼Œåˆ™å–å›æ‰€æœ‰åˆ†æ”¯çš„æ›´æ–°ã€‚&lt;br /&gt;
å¦‚æœæŒ‡å®šåˆ†æ”¯åï¼Œåˆ™ä»…å–å›æŒ‡å®šåˆ†æ”¯çš„æ›´æ–°ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆï¼Œæˆ‘æ€ä¹ˆçŸ¥é“å–å“ªä¸ªåˆ†æ”¯ï¼Ÿ&lt;br /&gt;
git branchå‘½ä»¤çš„-ré€‰é¡¹ï¼Œå¯ä»¥ç”¨æ¥æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼Œ-aé€‰é¡¹æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git branch -r
origin/master

$ git branch -a
* master
remotes/origin/master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤è¡¨ç¤ºï¼Œæœ¬åœ°ä¸»æœºçš„å½“å‰åˆ†æ”¯æ˜¯masterï¼Œè¿œç¨‹åˆ†æ”¯æ˜¯origin/masterã€‚&lt;/p&gt;

&lt;p&gt;fetchåªèƒ½ä»è¿œç¨‹ä»“åº“å–å¾—ä»£ç ï¼Œè¿˜æ²¡æœ‰åˆå¹¶åˆ°æœ¬åœ°çš„ä»£ç ä¸­å»ã€‚éœ€è¦ä½¿ç”¨git mergeå‘½ä»¤æˆ–è€…git rebaseå‘½ä»¤ï¼Œåœ¨æœ¬åœ°åˆ†æ”¯ä¸Šåˆå¹¶è¿œç¨‹åˆ†æ”¯ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git merge origin/master
# æˆ–è€…
$ git rebase origin/master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯æ˜¯å¯æ˜¯ï¼Œå¦‚æœæˆ‘ä¸æƒ³åˆå¹¶åˆ°ç°åœ¨çš„åˆ†æ”¯ä¸Šæ€ä¹ˆåŠå‘¢ã€‚å¯ä»¥ä½¿ç”¨git checkoutå‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git checkout -b newBrach origin/master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼Œåœ¨origin/masterçš„åŸºç¡€ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ã€‚&lt;/p&gt;

&lt;h2 id=&#34;4-git-pull:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;4.git pull&lt;/h2&gt;

&lt;p&gt;å–å›è¿œç¨‹ä¸»æœºæŸä¸ªåˆ†æ”¯çš„æ›´æ–°ï¼Œå¹¶ä¸”ä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶ã€‚
åŒæœ€å¼€å§‹çš„å›¾ä¸Šçœ‹ï¼Œæ˜¯ä¸æ˜¯ç›¸å½“äºfetchï¼‹checkoutï¼Ÿ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git pull &amp;lt;è¿œç¨‹ä¸»æœºå&amp;gt; &amp;lt;è¿œç¨‹åˆ†æ”¯å&amp;gt;:&amp;lt;æœ¬åœ°åˆ†æ”¯å&amp;gt;
$ git pull origin next:master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¡¨ç¤ºå–å›originä¸»æœºçš„nextåˆ†æ”¯ï¼Œä¸æœ¬åœ°çš„masteråˆ†æ”¯åˆå¹¶ã€‚&lt;br /&gt;
å¦‚æœè¿œç¨‹åˆ†æ”¯æ˜¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git pull origin next
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯å…ˆåšgit fetchï¼Œå†åšgit mergeã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git fetch origin
$ git merge origin/next
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;5-git-add:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;5.git add&lt;/h2&gt;

&lt;p&gt;æŠŠä¿®æ”¹ä¿¡æ¯æ·»åŠ åˆ°indexæš‚å­˜åŒºã€‚
æ·»åŠ æ‰€æœ‰æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git add -A
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git add &amp;lt;æ–‡ä»¶1&amp;gt; &amp;lt;æ–‡ä»¶2&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥æŒ‡å®šæ–‡ä»¶å¤¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git add &amp;lt;æ–‡ä»¶å¤¹&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ é™¤æ–‡ä»¶ï¼Œå¹¶ä¸”å°†åˆ é™¤ä¿¡æ¯ä¹Ÿæ·»åŠ åˆ°æš‚å­˜åŒºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git rm &amp;lt;æ–‡ä»¶1&amp;gt; &amp;lt;æ–‡ä»¶2&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‡å‘½åï¼Œå¹¶ä¸”å°†é‡å‘½åä¿¡æ¯ä¹Ÿæ·»åŠ åˆ°æš‚å­˜åŒºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git mv &amp;lt;åŸæ–‡ä»¶å&amp;gt; &amp;lt;æ–°æ–‡ä»¶å&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;6-git-commit:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;6.git commit&lt;/h2&gt;

&lt;p&gt;æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œæäº¤åˆ°ä»“åº“ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git commit -m &amp;quot;ä¿¡æ¯&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŸåˆ™ä¸Šæ˜¯ï¼Œæ¯ä¸€ä¸ªåŸå­ä¿®æ”¹ï¼Œéƒ½ä½œä¸€æ¬¡æäº¤ã€‚&lt;/p&gt;

&lt;h2 id=&#34;7-git-push:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;7.git push&lt;/h2&gt;

&lt;p&gt;å°†æœ¬åœ°åˆ†æ”¯çš„æ›´æ–°ï¼Œæ¨é€åˆ°è¿œç¨‹ä¸»æœºã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git push &amp;lt;è¿œç¨‹ä¸»æœºå&amp;gt; &amp;lt;æœ¬åœ°åˆ†æ”¯å&amp;gt;:&amp;lt;è¿œç¨‹åˆ†æ”¯å&amp;gt;   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€šå¸¸æœ¬åœ°åˆ†æ”¯åå’Œè¿œç¨‹åˆ†æ”¯åéƒ½åŒåï¼Œå¯ä»¥çœç•¥è¿œç¨‹åˆ†æ”¯åã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git push origin master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¡¨ç¤ºå°†æœ¬åœ°çš„masteråˆ†æ”¯æ¨é€åˆ°originä¸»æœºçš„masteråˆ†æ”¯ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å…¶ä»–:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;å…¶ä»–&lt;/h2&gt;

&lt;p&gt;æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git diff  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git status
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å‚è€ƒ:d71c3921adf591fdd23ac81ec6f69f8c&#34;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;p&gt;1.é˜®ä¸€å³°  &lt;a href=&#34;http://www.ruanyifeng.com/blog/2014/06/git_remote.html&#34;&gt;Gitè¿œç¨‹æ“ä½œè¯¦è§£&lt;/a&gt;&lt;br /&gt;
2.é˜®ä¸€å³°  &lt;a href=&#34;http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html?utm_source=tool.lu&#34;&gt;å¸¸ç”¨ Git å‘½ä»¤æ¸…å•&lt;/a&gt;&lt;br /&gt;
3.å»–é›ªå³°  &lt;a href=&#34;http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000&#34;&gt;Gitæ•™ç¨‹&lt;/a&gt;&lt;br /&gt;
4.&lt;a href=&#34;http://git-scm.com/book/zh/v2&#34;&gt;Gitå®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;br /&gt;
5.Gitå¸¸ç”¨å‘½ä»¤ä¸€è§ˆ&lt;br /&gt;
&lt;img src=&#34;http://7xrjai.com1.z0.glb.clouddn.com/20160306-git-cmd.png&#34; alt=&#34;git-cmd&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>åˆ©ç”¨hugoæ­å»ºä¸ªäººåšå®¢å…¥é—¨æ•™ç¨‹</title>
      <link>http://youngspring1.github.io/post/2016-03-06-hugo/</link>
      <pubDate>Sun, 06 Mar 2016 10:28:49 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016-03-06-hugo/</guid>
      <description>

&lt;h3 id=&#34;èµ·å› :c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;èµ·å› &lt;/h3&gt;

&lt;p&gt;ä¹‹å‰çœ‹è¿‡è…¾è®¯å·¥ç¨‹å¸ˆå†™çš„ã€ŠWebå…¨ç«™å·¥ç¨‹å¸ˆçš„è‡ªæˆ‘ä¿®å…»ã€‹&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:c4d0ba6a52d2bffd88ff711ada3d2ff1:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:c4d0ba6a52d2bffd88ff711ada3d2ff1:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ä¸€ä¹¦ï¼ŒèŒç”Ÿäº†æ­å»ºä¸€ä¸ªåšå®¢çš„æƒ³æ³•ï¼Œç”¨æ¥è®°å½•å­¦ä¹ è®°å½•å’Œç”Ÿæ´»æ„Ÿå—ã€‚å…ˆç”¨å…è´¹çš„githubï¼ŒæŒ‚è½½é™æ€é¡µé¢è¯•è¯•å§ã€‚åŸæ¥è®¡åˆ’ä½¿ç”¨é“å¬é€”è¯´çš„Jekyllï¼Œç„¶åä¸€ä¸å°å¿ƒçœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« &lt;a href=&#34;http://blog.coderzh.com/2015/08/29/hugo/&#34;&gt;http://blog.coderzh.com/2015/08/29/hugo/&lt;/a&gt;ï¼Œå„ç§å¥½:&lt;br /&gt;
1.åªæœ‰ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚&lt;br /&gt;
2.å¯ä»¥å°†å®‡å®™æ ‡å‡†MarkDownæ ¼å¼çš„æ–‡ç« è‡ªåŠ¨è½¬æ¢ä¸ºé™æ€ç½‘é¡µã€‚&lt;br /&gt;
3.å†…ç½®WebæœåŠ¡å™¨ï¼Œå¯ä»¥ç«‹å³åœ¨æœ¬åœ°æŸ¥çœ‹ä¿®æ”¹ç»“æœã€‚&lt;br /&gt;
é‚£ä¹ˆå°±ç”¨hugo&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:c4d0ba6a52d2bffd88ff711ada3d2ff1:2&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:c4d0ba6a52d2bffd88ff711ada3d2ff1:2&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;å§ã€‚æœ‰ç©ºå†è¯•è¯•hexo&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:c4d0ba6a52d2bffd88ff711ada3d2ff1:3&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:c4d0ba6a52d2bffd88ff711ada3d2ff1:3&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å®‰è£…hugo:c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;å®‰è£…hugo&lt;/h3&gt;

&lt;p&gt;æˆ‘æ˜¯åœ¨macä¸Šé€šè¿‡tarå‹ç¼©æ–‡ä»¶å®‰è£…çš„ã€‚&lt;br /&gt;
å…¶ä»–æ–¹æ³•å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚&lt;br /&gt;
1.ä¸‹è½½&lt;br /&gt;
&amp;emsp;ä¸‹è½½åœ°å€ï¼š&lt;a href=&#34;https://github.com/spf13/hugo/releases&#34;&gt;https://github.com/spf13/hugo/releases&lt;/a&gt;&lt;br /&gt;
&amp;emsp;æˆ‘è¦çš„macç‰ˆï¼Œæ–‡ä»¶åé•¿è¿™æ ·ï¼šhugo_X.YY_darwin_amd64.zip&lt;br /&gt;
2.è§£å‹&lt;br /&gt;
&amp;emsp;è§£å‹åæ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ls -l   
total 31696
-rw-r--r--@ 1 username  staff     10480  2 28 21:38 LICENSE.md
-rw-r--r--@ 1 username  staff      7694  2 28 21:38 README.md
-rwxr-xr-x@ 1 username  staff  16201084  2 28 21:38 hugo_0.15_darwin_amd64
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;emsp;è¯•ä¸€è¯•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./hugo_0.15_darwin_amd64 version   
Hugo Static Site Generator v0.15 BuildDate: 2016-02-28T21:38:32+08:00   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;3.åˆ›å»ºé“¾æ¥æ–‡ä»¶&lt;br /&gt;
&amp;emsp;è¿™ä¹ˆé•¿çš„å‘½ä»¤ï¼Œç”¨èµ·æ¥å¤šä¸æ–¹ä¾¿å•Šï¼Œæˆ‘ä»¬ç®€åŒ–ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ln -s /fullpath/fullpath/hugo_0.15_darwin_amd64 hugo
$ ls -l
total 31696
-rw-r--r--@ 1 username  staff     10480  2 28 21:38 LICENSE.md
-rw-r--r--@ 1 username  staff      7694  2 28 21:38 README.md
lrwxr-xr-x  1 username  staff        54  2 28 22:05 hugo -&amp;gt; /fullpath/fullpath/hugo_0.15_darwin_amd64
-rwxr-xr-x@ 1 username  staff  16201084  2 28 21:38 hugo_0.15_darwin_amd64
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;emsp;äº²æµ‹æœ‰æ•ˆï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./hugo version   
Hugo Static Site Generator v0.15 BuildDate: 2016-02-28T21:38:32+08:00   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;4.åŠ å…¥PATH&lt;br /&gt;
&amp;emsp;è¿™è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¦åŠ åˆ°PATHé‡Œå»ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ which hugo
/fullpath/fullpath/hugo
$ vi ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;emsp;åŠ å…¥è¿™ä¸€è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export PATH=$PATH:/fullpath/fullpath
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;emsp;è¿™æ ·ä½ åº”è¯¥å¯ä»¥åœ¨ä»»æ„ä½ç½®è¿è¡Œhugoå‘½ä»¤äº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hugo version   
Hugo Static Site Generator v0.15 BuildDate: 2016-02-28T21:38:32+08:00   
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ç”Ÿæˆæœ¬åœ°ç«™ç‚¹:c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;ç”Ÿæˆæœ¬åœ°ç«™ç‚¹&lt;/h3&gt;

&lt;p&gt;å®‰è£…å¥½hugoä¹‹åï¼Œå°±å¯ä»¥å¾ˆè½»æ¾åœ°ç”Ÿæˆæœ¬åœ°ç«™ç‚¹å•¦ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hugo new site mysite
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;hugoä¼šåœ¨å½“å‰çš„ç›®å½•ä¸‹ï¼Œç”Ÿæˆmysiteè¿™ä¸ªç›®å½•ï¼Œcdè¿›å»ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;archetypes/
content/
layouts/
static/
config.toml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­contentæ˜¯MarkDownæ–‡ç« ç›®å½•ï¼Œlayoutså­˜æ”¾çš„æ˜¯ç½‘ç«™çš„æ¨¡ç‰ˆæ–‡ä»¶ï¼Œstaticå­˜æ”¾çš„æ˜¯å›¾ç‰‡ã€cssã€jsèµ„æºç­‰ã€‚config.tomlæ˜¯ç½‘ç«™çš„é…ç½®æ–‡ä»¶ï¼Œä½ ä¹Ÿå¯ä»¥æ¢æˆyamlã€jsonç­‰ã€‚&lt;/p&gt;

&lt;h3 id=&#34;åˆ›å»ºæ–‡ç« :c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;åˆ›å»ºæ–‡ç« &lt;/h3&gt;

&lt;p&gt;åœ¨mysiteç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ª[å…³äº]é¡µé¢ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cd mysite
$ hugo new about.md
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†…å®¹è‡ªå·±å¡«å‘—ã€‚
å†åˆ›å»ºä¸€ä¸ªæ–‡ç« é¡µé¢ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hugo new post/2016-03-06-first.md
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†…å®¹è‡ªå·±å¡«ã€‚&lt;br /&gt;
æƒ³çœ‹çœ‹æ•ˆæœä¹ˆï¼Ÿç­‰ç­‰ï¼Œè¿˜éœ€è¦å¯¼å…¥ä¸ªä¸»é¢˜ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å¯¼å…¥ä¸»é¢˜:c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;å¯¼å…¥ä¸»é¢˜&lt;/h3&gt;

&lt;p&gt;è¿˜æ˜¯åœ¨åœ¨mysiteç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬éšä¾¿cloneä¸€ä¸ªä¸»é¢˜ä¸‹æ¥ã€‚&lt;br /&gt;
æˆ‘åœ¨&lt;a href=&#34;https://themes.gohugo.io&#34;&gt;https://themes.gohugo.io&lt;/a&gt;ä¸Šæ²¡æœ‰æ‰¾åˆ°å–œæ¬¢çš„ä¸»é¢˜ï¼Œå°±ç›´æ¥æ‹‰äº†ä¸Šé¢åŸæ–‡ä½œè€…çš„ä¸»é¢˜ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir themes
$ cd themes
$ git clone https://github.com/coderzh/hugo-rapid-theme.git
$ cd ..
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ˆä¸»é¢˜é‡Œé¢åŒ…å«äº†ä½œè€…çš„ä¿¡æ¯ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ï¼Œè®°å¾—ä¿®æ”¹ã€‚ï¼‰&lt;/p&gt;

&lt;h3 id=&#34;è°ƒè¯•:c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;è°ƒè¯•&lt;/h3&gt;

&lt;p&gt;ç°åœ¨ç»ˆäºå¯ä»¥è°ƒè¯•äº†ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hugo server --theme=hugo-rapid-theme --buildDrafts --watch
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æµè§ˆå™¨é‡Œæ‰“å¼€ï¼š&lt;a href=&#34;http://localhost:1313&#34;&gt;http://localhost:1313&lt;/a&gt;&lt;br /&gt;
é€‰é¡¹watchä¼šè®©æœåŠ¡å™¨è‡ªåŠ¨æ£€æµ‹æ–‡ç« çš„æ”¹åŠ¨ï¼Œè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å‘å¸ƒ:c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;å‘å¸ƒ&lt;/h3&gt;

&lt;p&gt;åœ¨æœ¬åœ°è‡ªå·±å·ç€çœ‹æœ‰ä»€ä¹ˆæ„æ€ï¼Œå‘å¸ƒåˆ°githubä¸Šå»å§ã€‚&lt;br /&gt;
1.ç”Ÿæˆé™æ€é¡µé¢&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hugo --theme=hugo-rapid-theme --buildDrafts --baseUrl=&amp;quot;http://youngspring1.github.io&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;emsp;è¿™é‡Œçš„urlè¦æ›¿æ¢æˆä½ è‡ªå·±çš„ã€‚&lt;br /&gt;
&amp;emsp;æ‰€æœ‰çš„é™æ€é¡µé¢éƒ½ä¼šç”Ÿæˆåˆ°publicç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;2.åˆ›å»ºRepository&lt;br /&gt;
&amp;emsp;åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªRepositoryï¼Œåä¸º&amp;rdquo;youngspring1.github.io&amp;rdquo;ã€‚&lt;br /&gt;
&amp;emsp;åŒæ ·ï¼Œä¸è®¤è¯†çš„åå­—è¦æ›¿æ¢æˆä½ è‡ªå·±çš„ã€‚&lt;/p&gt;

&lt;p&gt;3.æäº¤&lt;br /&gt;
&amp;emsp;æŠŠpublicç›®å½•ä¸‹çš„å†…å®¹ï¼Œå…¨éƒ¨æäº¤åˆ°åˆšåˆšåˆ›å»ºçš„Repositoryä¸­ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cd public
$ git init
$ git remote add origin https://github.com/youngspring1/youngspring1.github.io.git
$ git add -A
$ git commit -m &amp;quot;first commit&amp;quot;
$ git push -u origin master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;emsp;åœ¨æµè§ˆå™¨ä¸­è®¿é—®&lt;a href=&#34;http://youngspring1.github.io&#34;&gt;http://youngspring1.github.io&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;å‚è€ƒ:c4d0ba6a52d2bffd88ff711ada3d2ff1&#34;&gt;å‚è€ƒ&lt;/h3&gt;

&lt;p&gt;åŸæ–‡ä½œè€…&lt;a href=&#34;http://blog.coderzh.com&#34;&gt;coderzh&lt;/a&gt;æ­å»ºçš„ä¸­æ–‡çš„hugoç«™ç‚¹ï¼š&lt;a href=&#34;http://www.gohugo.org/&#34;&gt;http://www.gohugo.org/&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:c4d0ba6a52d2bffd88ff711ada3d2ff1:1&#34;&gt;ä½™æœï¼š&lt;a href=&#34;http://www.amazon.cn/Webå…¨æ ˆå·¥ç¨‹å¸ˆçš„è‡ªæˆ‘ä¿®å…»-ä½™æœ/dp/B0141BI0D2/ref=sr_1_1?s=books&amp;amp;ie=UTF8&amp;amp;qid=1457233956&amp;amp;sr=1-1&#34;&gt;ã€ŠWebå…¨ç«™å·¥ç¨‹å¸ˆçš„è‡ªæˆ‘ä¿®å…»ã€‹&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:c4d0ba6a52d2bffd88ff711ada3d2ff1:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:c4d0ba6a52d2bffd88ff711ada3d2ff1:2&#34;&gt;hugoä¸»é¡µï¼š&lt;a href=&#34;https://gohugo.io&#34;&gt;https://gohugo.io&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:c4d0ba6a52d2bffd88ff711ada3d2ff1:2&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:c4d0ba6a52d2bffd88ff711ada3d2ff1:3&#34;&gt;hexoä¸»é¡µï¼š&lt;a href=&#34;https://www.hexo.io&#34;&gt;https://www.hexo.io&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:c4d0ba6a52d2bffd88ff711ada3d2ff1:3&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>