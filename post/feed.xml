<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on è¡Œè¡Œé‡è¡Œè¡Œ</title>
    <link>http://youngspring1.github.io/post/</link>
    <description>Recent content in Posts on è¡Œè¡Œé‡è¡Œè¡Œ</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <copyright>Copyright (c) 2016. All rights reserved.</copyright>
    <lastBuildDate>Sat, 14 May 2016 23:19:28 +0800</lastBuildDate>
    <atom:link href="http://youngspring1.github.io/post/feed/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Rè¯­è¨€ç¬”è®°05</title>
      <link>http://youngspring1.github.io/post/2016/2016-05-10-R05/</link>
      <pubDate>Sat, 14 May 2016 23:19:28 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-05-10-R05/</guid>
      <description>

&lt;p&gt;MITè¯¾ç¨‹ &lt;a href=&#34;https://courses.edx.org/courses/course-v1:MITx+15.071x_3+1T2016/info&#34;&gt;15.071x&lt;/a&gt; ç¬¬äº”å•å…ƒçš„å­¦ä¹ è®°å½•ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;text-analytics:d5c69e163a15a2e5f9829d2828e73190&#34;&gt;Text Analytics&lt;/h2&gt;

&lt;p&gt;ç¬¬ä¸‰å•å…ƒçš„ä¸»é¢˜æ˜¯æ–‡æœ¬åˆ†æã€‚&lt;/p&gt;

&lt;h3 id=&#34;1-ç†è®º:d5c69e163a15a2e5f9829d2828e73190&#34;&gt;1.ç†è®º&lt;/h3&gt;

&lt;h4 id=&#34;bag-of-words:d5c69e163a15a2e5f9829d2828e73190&#34;&gt;Bag of Words&lt;/h4&gt;

&lt;p&gt;ä¸€æ®µæ–‡æœ¬ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å¤šä¸ªå•è¯çš„é›†åˆã€‚&lt;br /&gt;
ç»Ÿè®¡è¿™äº›å•è¯çš„ç‰¹å¾ï¼Œå¯ä»¥å½’çº³æ–‡æœ¬çš„å€¾å‘ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ–‡æœ¬è¿›è¡Œä¸‹é¢è¿™å‡ æ­¥é¢„å¤„ç†ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;clean up irregularities(ç»Ÿä¸€å¤§å°å†™)&lt;/li&gt;
&lt;li&gt;remove punctuations(å»æ‰æ ‡ç‚¹æˆ–è€…ç‰¹æ®Šç¬¦å·)&lt;/li&gt;
&lt;li&gt;remove stop words(å»æ‰theï¼whoï¼isï¼doè¿™äº›å•è¯)&lt;/li&gt;
&lt;li&gt;stemming(è·å–è¯å¹²ï¼Œä¹Ÿå°±æ˜¯å»é™¤åŠ¨è¯å˜å½¢ï¼Œæ¯”å¦‚agruedï¼Œagruesï¼Œagruingï¼Œéƒ½å˜æˆagru)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ç„¶åï¼Œæˆ‘ä»¬ç»Ÿè®¡æ–‡æœ¬ä¸­å‰©ä¸‹è¿™äº›å•è¯çš„å‡ºç°æ¬¡æ•°ï¼Œç”Ÿæˆä¸€ä¸ªçŸ©é˜µï¼Œç±»ä¼¼è¿™æ ·çš„æ ¼å¼ï¼š&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;text num&lt;/th&gt;
&lt;th&gt;word1&lt;/th&gt;
&lt;th&gt;word2&lt;/th&gt;
&lt;th&gt;word3&lt;/th&gt;
&lt;th&gt;&amp;hellip;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;text1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;text2&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;åœ¨å®é™…ä¸­ï¼Œç”Ÿæˆçš„çŸ©é˜µæ˜¯ä¸ªç¨€ç–çŸ©é˜µï¼ˆæœ‰å¾ˆå¤š0ï¼‰ï¼Œæˆ‘ä»¬åªé€‰å–å‡ºç°æ¬¡æ•°æ¯”è¾ƒå¤šçš„ï¼Œå¿½ç•¥é‚£äº›ä¸å¸¸è§çš„å•è¯ã€‚&lt;br /&gt;
æ¯”å¦‚é€‰å–è‡³å°‘å‡ºç°è¿‡20æ¬¡çš„å•è¯ï¼Œå…¶ä»–çš„å¿½ç•¥ã€‚&lt;br /&gt;
è¿™æ ·çš„çŸ©é˜µï¼Œæ¯åˆ—çš„åˆ—åå°±æ˜¯è‡ªå˜é‡ï¼ŒçŸ©é˜µçš„å€¼å°±ç”¨åšè‡ªå˜é‡çš„å–å€¼ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œæ‰‹åŠ¨æ·»åŠ ä¸€åˆ—ï¼Œä½œä¸ºå› å˜é‡ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®è¿™äº›å•è¯çš„å‡ºç°æ¬¡æ•°ï¼Œé¢„æµ‹å› å˜é‡çš„å–å€¼äº†ã€‚&lt;br /&gt;
æ‰€ä»¥ï¼Œè¿™ä¸€åˆ—å› å˜é‡çš„æ•°å€¼å¦‚ä½•å®šä¹‰ï¼Œå®ƒçš„å®é™…æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œå…¶å®æ˜¯æ¯”è¾ƒå¤æ‚çš„ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¯¾ç¨‹çš„ä¾‹å­ä¸­ï¼Œå®ƒå®šä¹‰äº†&amp;rdquo;å¥½æ„Ÿåº¦&amp;rdquo;ï¼Œå¹¶ä¸”åªæœ‰ä¸‹é¢äº”ç§å–å€¼ï¼Œ{-2,-1,0,1,2}ï¼Œæœ€ç»ˆè¦å»ºç«‹æ¨¡å‹é¢„æµ‹å“ªäº›æ–‡æœ¬æš—ç¤ºå‘æ¨çš„äººå¯¹è‹¹æœå…¬å¸å¾ˆæ²¡æœ‰å¥½æ„Ÿï¼ˆå¥½æ„Ÿåº¦æ˜¯ï¼2ï¼‰ã€‚æœ€ç»ˆå‘ç°ï¼Œæ–‡æœ¬ä¸­å«æœ‰&amp;rdquo;hate&amp;rdquo;,&amp;ldquo;wtf&amp;rdquo;çš„æƒ…å†µï¼Œæ¨ä¸»å¯¹è‹¹æœå…¬å¸å¾ˆæ²¡æœ‰å¥½æ„Ÿã€‚ğŸ˜„&lt;/p&gt;

&lt;h4 id=&#34;ibm-watson:d5c69e163a15a2e5f9829d2828e73190&#34;&gt;IBM Watson&lt;/h4&gt;

&lt;p&gt;Watsonçš„å·¥ä½œæ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Find LAT
é¦–å…ˆå¾—ææ˜ç™½é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯è¦æ‰¾åˆ°é—®é¢˜çš„LAT(Lexial Answer Type)ã€‚
é—®é¢˜&amp;rdquo;Mozart&amp;rsquo;s last and perhaps most powerful symphony shares its name with this planet.&amp;ldquo;çš„LATæ˜¯&amp;rdquo;this planet&amp;rdquo;ï¼Œå› ä¸ºæŠŠç­”æ¡ˆ&amp;rdquo;Jupiter&amp;rdquo;æ›¿æ¢è¿›åŸæ¥çš„å¥å­ï¼Œ
&amp;ldquo;Mozart&amp;rsquo;s last and perhaps most powerful symphony shares its name with Jupiter&amp;rdquo;
ä»ç„¶æ˜¯è¯´å¾—é€šçš„ã€‚&lt;/li&gt;
&lt;li&gt;Generate Hypothesis
åœ¨æ•°æ®åº“ä¸­æœç´¢ä¸Šç™¾ä¸ªå€™é€‰ç­”æ¡ˆï¼Œæ›¿æ¢æ‰LATï¼Œç”Ÿæˆå¾ˆå¤šå‡è¯´ã€‚&lt;/li&gt;
&lt;li&gt;Score Hypothesis
å¯¹æ¯ä¸ªå‡è¯´ï¼Œè¿›è¡Œæ–‡æœ¬æœç´¢ï¼Œå¯ä»¥å°†æœç´¢çš„åˆ°çš„ç»“æœæ•°ç›®ä½œä¸ºè¯„åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;Rank Hypothesis
å¯¹è¯„åˆ†è¿›è¡Œæ’åºï¼Œé€‰å–è¯„åˆ†æœ€é«˜çš„é‚£ä¸ªä½œä¸ºç­”æ¡ˆã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;2-å»ºæ¨¡å’Œè¯„ä¼°:d5c69e163a15a2e5f9829d2828e73190&#34;&gt;2.å»ºæ¨¡å’Œè¯„ä¼°&lt;/h3&gt;

&lt;p&gt;é¢„å¤„ç†&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Read in the data
tweets = read.csv(&amp;quot;tweets.csv&amp;quot;, stringsAsFactors=FALSE)

# Create dependent variable
tweets$Negative = as.factor(tweets$Avg &amp;lt;= -1)

# Install new packages
install.packages(&amp;quot;tm&amp;quot;)
library(tm)
install.packages(&amp;quot;SnowballC&amp;quot;)
library(SnowballC)

# Create corpus
corpus = Corpus(VectorSource(tweets$Tweet))

# Convert to lower-case
corpus = tm_map(corpus, tolower)
corpus = tm_map(corpus, PlainTextDocument)

# Remove punctuation
corpus = tm_map(corpus, removePunctuation)

# Remove stopwords and apple
corpus = tm_map(corpus, removeWords, c(&amp;quot;apple&amp;quot;, stopwords(&amp;quot;english&amp;quot;)))

# Stem document 
corpus = tm_map(corpus, stemDocument)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç»Ÿè®¡ï¼Œç”Ÿæˆå•è¯å‡ºç°æ¬¡æ•°çš„çŸ©é˜µ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Create matrix
frequencies = DocumentTermMatrix(corpus)

# Look at matrix 
inspect(frequencies[1000:1005,505:515])

# Check for sparsity
# æ‰¾å‡ºå‡ºç°æ¬¡æ•°è‡³å°‘æœ‰20æ¬¡çš„å•è¯
findFreqTerms(frequencies, lowfreq=20)

# å¿½ç•¥99.5%çš„ç¨€ç–æ•°æ®ï¼Œåªé€‰å–0.5%ä½œä¸ºæœ‰æ•ˆæ•°æ®
# Remove sparse terms 
sparse = removeSparseTerms(frequencies, 0.995)

# Convert to a data frame
tweetsSparse = as.data.frame(as.matrix(sparse))
# Make all variable names R-friendly
colnames(tweetsSparse) = make.names(colnames(tweetsSparse))

# Add dependent variable
tweetsSparse$Negative = tweets$Negative
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å»ºæ¨¡å’Œè¯„ä¼°&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Split the data
library(caTools)
set.seed(123)
split = sample.split(tweetsSparse$Negative, SplitRatio = 0.7)
trainSparse = subset(tweetsSparse, split==TRUE)
testSparse = subset(tweetsSparse, split==FALSE)

# Build a CART model
library(rpart)
library(rpart.plot)
tweetCART = rpart(Negative ~ ., data=trainSparse, method=&amp;quot;class&amp;quot;)
# Evaluate the performance of the model
predictCART = predict(tweetCART, newdata=testSparse, type=&amp;quot;class&amp;quot;)
table(testSparse$Negative, predictCART)


# Random forest model
library(randomForest)
set.seed(123)
tweetRF = randomForest(Negative ~ ., data=trainSparse)
# Make predictions:
predictRF = predict(tweetRF, newdata=testSparse)
table(testSparse$Negative, predictRF)
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>åäººçœ‹åˆ°çš„å†å²ï¼Œå’Œå®é™…å‘ç”Ÿçš„</title>
      <link>http://youngspring1.github.io/post/2016/2016-05-10-zuozhuan/</link>
      <pubDate>Tue, 10 May 2016 23:20:31 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-05-10-zuozhuan/</guid>
      <description>&lt;p&gt;çœ¼å‰ï¼šæ¼«æ¸¸åœ¨ã€Šå·¦ä¼ ã€‹çš„ä¸–ç•Œ&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>2016äº”æœˆ è¥¿å®‰æ´›é˜³è¡Œè®°</title>
      <link>http://youngspring1.github.io/post/2016/2016-05-10-xianluoyang/</link>
      <pubDate>Tue, 10 May 2016 23:16:19 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-05-10-xianluoyang/</guid>
      <description>

&lt;h4 id=&#34;è¥¿å®‰å°è±¡:bffe2889357b458c59c153b34307fc87&#34;&gt;è¥¿å®‰å°è±¡&lt;/h4&gt;

&lt;h4 id=&#34;æ´›é˜³å°è±¡:bffe2889357b458c59c153b34307fc87&#34;&gt;æ´›é˜³å°è±¡&lt;/h4&gt;

&lt;h4 id=&#34;éƒ‘å·å°è±¡:bffe2889357b458c59c153b34307fc87&#34;&gt;éƒ‘å·å°è±¡&lt;/h4&gt;

&lt;p&gt;åœè½¦åœº
å–åœ°å›¾
æ‹ç…§ç‰‡&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Rè¯­è¨€ç¬”è®°04</title>
      <link>http://youngspring1.github.io/post/2016/2016-05-10-R04/</link>
      <pubDate>Tue, 10 May 2016 19:44:08 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-05-10-R04/</guid>
      <description>

&lt;p&gt;MITè¯¾ç¨‹ &lt;a href=&#34;https://courses.edx.org/courses/course-v1:MITx+15.071x_3+1T2016/info&#34;&gt;15.071x&lt;/a&gt; ç¬¬å››å•å…ƒçš„å­¦ä¹ è®°å½•ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;trees:0257109cd77173fde404dfe977de0c33&#34;&gt;Trees&lt;/h2&gt;

&lt;p&gt;ç¬¬å››å•å…ƒçš„ä¸»é¢˜æ˜¯å†³ç­–æ ‘ã€‚&lt;/p&gt;

&lt;h3 id=&#34;1-ç†è®º:0257109cd77173fde404dfe977de0c33&#34;&gt;1.ç†è®º&lt;/h3&gt;

&lt;h4 id=&#34;cart-classification-and-regression-trees:0257109cd77173fde404dfe977de0c33&#34;&gt;CART(classification and regression trees)&lt;/h4&gt;

&lt;h6 id=&#34;å†³ç­–æ ‘:0257109cd77173fde404dfe977de0c33&#34;&gt;å†³ç­–æ ‘&lt;/h6&gt;

&lt;p&gt;è‡ªå˜é‡æ˜¯å†³ç­–æ ‘ä¸Šçš„èŠ‚ç‚¹(splits)ã€‚ä½†æ˜¯æ³¨æ„ï¼Œä¸æ˜¯æ¯ä¸ªè‡ªå˜é‡éƒ½æœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰çš„è‡ªå˜é‡æœ‰å¤šä¸ªèŠ‚ç‚¹(éšç€å–å€¼çš„ä¸åŒï¼Œå¯¼è‡´å› å˜é‡çš„ç»“æœä¹Ÿä¸åŒ)ï¼Œæœ‰çš„è‡ªå˜é‡æ²¡æœ‰èŠ‚ç‚¹(å¯¹å› å˜é‡å½±å“å¾ˆå°)ã€‚&lt;br /&gt;
å› å˜é‡æ˜¯å†³ç­–æ ‘ä¸Šçš„å¶å­/ç»ˆç«¯(leaves/nodes)ã€‚æ­¤å›¾ä¸Šçš„å› å˜é‡çš„å–å€¼æ˜¯0æˆ–è€…1ã€‚&lt;br /&gt;
åœ¨å„ä¸ªèŠ‚ç‚¹ï¼Œæ ¹æ®å„ä¸ªè‡ªå˜é‡çš„å–å€¼ï¼Œæœ€ç»ˆåˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±å¾—åˆ°äº†å› å˜é‡çš„å–å€¼ã€‚&lt;br /&gt;
æ³¨æ„ï¼Œå†³ç­–æ ‘çš„å·¦è¾¹ï¼ŒèŠ‚ç‚¹çš„åˆ¤æ–­è¯­å¥æ€»æ˜¯ä¸ºTrueï¼Yesï¼Œå³è¾¹èŠ‚ç‚¹çš„åˆ¤æ–­è¯­å¥æ€»æ˜¯ä¸ºFalseï¼Noã€‚&lt;br /&gt;
&lt;img src=&#34;http://7xrjai.com1.z0.glb.clouddn.com/20160517-tree-Rplot.png&#34; alt=&#34;tree&#34; /&gt;&lt;br /&gt;
æœ€å·¦çš„åˆ†æ”¯è¡¨ç¤ºï¼Œå¦‚æœ LowerCou=lbr ä¸” Responde=CRI ä¸” Petition=CITï¼Œé‚£ä¹ˆå› å˜é‡çš„å–å€¼ä¸º0ã€‚&lt;br /&gt;
æœ€å³çš„åˆ†æ”¯è¡¨ç¤ºï¼Œå¦‚æœ LowerCou!=lbr ä¸” Responde=STAï¼Œé‚£ä¹ˆå› å˜é‡çš„å–å€¼ä¸º1ã€‚&lt;/p&gt;

&lt;h6 id=&#34;å†³ç­–æ ‘çš„å¤§å°:0257109cd77173fde404dfe977de0c33&#34;&gt;å†³ç­–æ ‘çš„å¤§å°&lt;/h6&gt;

&lt;p&gt;minbucketå¯ä»¥ç†è§£ä¸ºï¼Œå†³ç­–æ ‘è¢«èŠ‚ç‚¹åˆ†å‰²åï¼Œæ¯ä¸ªbucketæ•°æ®çš„æ•°é‡ã€‚&lt;br /&gt;
minbucketè¶Šå¤§ï¼Œåˆ†ç»„è¶Šå°‘ï¼Œsplitè¶Šå°‘ã€‚&lt;br /&gt;
minbucketè¶Šå°ï¼Œåˆ†ç»„è¶Šå¤šï¼Œsplitè¶Šå¤šã€‚&lt;/p&gt;

&lt;h6 id=&#34;classification-tree-å’Œ-regression-tree:0257109cd77173fde404dfe977de0c33&#34;&gt;Classification tree å’Œ Regression tree&lt;/h6&gt;

&lt;ul&gt;
&lt;li&gt;Classification tree analysis is when the predicted outcome is the class to which the data belongs.ï¼ˆç®€å•çš„è®²ï¼Œé¢„æµ‹å€¼æ˜¯0å’Œ1ï¼Œæ¯”å¦‚æ”¯æŒè¿˜æ˜¯åå¯¹ï¼‰&lt;/li&gt;
&lt;li&gt;Regression tree analysis is when the predicted outcome can be considered a real number.ï¼ˆç®€å•çš„è®²ï¼Œé¢„æµ‹å€¼æ˜¯å¯å˜çš„ï¼Œæ¯”å¦‚æˆ¿ä»·ç­‰ç­‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½“ç°åœ¨ä»£ç ä¸­çš„è¯ï¼Œ
å¦‚æœæŒ‡å®šäº†type = &amp;ldquo;class&amp;rdquo;ï¼Œé‚£ä¹ˆæ˜¯ Classification treeã€‚&lt;br /&gt;
å¦‚æœæ²¡æœ‰æŒ‡å®štype = &amp;ldquo;class&amp;rdquo;ï¼Œé‚£ä¹ˆæ˜¯ Regression treeã€‚&lt;/p&gt;

&lt;h4 id=&#34;random-forest:0257109cd77173fde404dfe977de0c33&#34;&gt;Random Forest&lt;/h4&gt;

&lt;p&gt;éšæœºæ£®æ—ï¼Œè¢«è®¾è®¡å‡ºæ¥ç”¨äºæé«˜CARTçš„ç²¾åº¦ã€‚&lt;br /&gt;
å’Œå­—é¢æ„æ€ç±»ä¼¼ï¼Œå¦‚æœå†³ç­–æ ‘åªæœ‰ä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆéšæœºæ£®æ—ä¼šåˆ›å»ºå¤šä¸ªå†³ç­–æ ‘ï¼Œç„¶åæ‰¾åˆ°æ•ˆæœæœ€å¥½çš„é‚£ä¸€ä¸ªã€‚&lt;br /&gt;
é‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•åˆ›å»ºå¤šä¸ªå†³ç­–æ ‘çš„å‘¢ï¼Œæœ‰ç‚¹å¤æ‚ã€‚&lt;br /&gt;
å®ƒå¹¶ä¸æ˜¯å¤šæ¬¡è°ƒç”¨rpart()ï¼Œç®€å•çš„è°ƒæ•´å‡ ä¸ªå‚æ•°è€Œå·²ã€‚&lt;br /&gt;
æ¯ä¸ªå†³ç­–æ ‘æ‰€ç”¨çš„æ•°æ®ï¼Œéƒ½åªæ˜¯åŸæ•°æ®çš„éšæœºsubsetæˆ–è€…è¯´éšæœºå­é›†ã€‚&lt;br /&gt;
å¦‚æœè®­ç»ƒé›†è¢«åˆ†æˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5 è¿™äº”ä¸ªå­é›†ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡å¯èƒ½é€‰å–2ï¼Œ4ï¼Œ5ï¼Œ2ï¼Œ1ï¼Œç¬¬äºŒæ¬¡å¯èƒ½é€‰å–3ï¼Œ5ï¼Œ1ï¼Œ5ï¼Œ2ã€‚&lt;/p&gt;

&lt;p&gt;å‚æ•°nodesize&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ç±»ä¼¼äºminbucketï¼Œæ¯ä¸ªå­é›†çš„æœ€å°æ•°ç›®ã€‚å®ƒè¶Šå°ï¼Œç”Ÿæˆçš„å†³ç­–æ ‘è¶Šå¤§ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å‚æ•°ntree&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ç”Ÿæˆå¤šå°‘ä¸ªå†³ç­–æ ‘ã€‚ä¸€èˆ¬å‡ ç™¾ä¸ªå°±å¤Ÿäº†ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¥½æ¶ˆæ¯æ˜¯ï¼Œå‚æ•°çš„é€‰å–ï¼Œç›¸æ¯”CARTè€Œè¨€ï¼Œå¯¹ç»“æœçš„å½±å“æ²¡æœ‰é‚£ä¹ˆå¤§ã€‚&lt;/p&gt;

&lt;h4 id=&#34;cross-validation:0257109cd77173fde404dfe977de0c33&#34;&gt;Cross Validation&lt;/h4&gt;

&lt;p&gt;minbucketåº”è¯¥é€‰å–ä»€ä¹ˆæ ·çš„å€¼ï¼Œæ¥å¤§é“æœ€å¥½æ•ˆæœå‘¢ï¼Ÿ&lt;br /&gt;
æˆ‘ä»¬é‡‡ç”¨ k-fold cross validation çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°†è®­ç»ƒé›†trainåˆ†æˆkä»½ï¼Œæ¯”å¦‚ k=5 çš„æ—¶å€™ï¼Œ
æˆ‘ä»¬å…ˆç”¨1ï¼Œ2ï¼Œ3ï¼Œ4æ¥è®­ç»ƒï¼Œ5ç”¨æ¥éªŒè¯ï¼›&lt;br /&gt;
å†ç”¨1ï¼Œ2ï¼Œ3ï¼Œ5æ¥è®­ç»ƒï¼Œ4ç”¨æ¥éªŒè¯ï¼›
å†ç”¨1ï¼Œ2ï¼Œ4ï¼Œ5æ¥è®­ç»ƒï¼Œ3ç”¨æ¥éªŒè¯ã€‚ã€‚ã€‚
æ‰€ä»¥æ¨¡å‹ä¸­åˆ›å»ºäº†å¾ˆå¤šå†³ç­–æ ‘ã€‚
æˆ‘ä»¬æµ‹è¯•æ¯ä¸ªåˆ†å‰²æ–¹æ³•ä¸‹ï¼Œå‚æ•°æ¯ä¸€ä¸ªå¯èƒ½çš„å–å€¼ï¼Œè®¡ç®—è¿™ä¸ªå–å€¼å¯¹åº”çš„é¢„æµ‹ç²¾åº¦ï¼Œç»˜åˆ¶æ›²çº¿ã€‚&lt;br /&gt;
æ›²çº¿çš„Xè½´æ˜¯å‚æ•°çš„å–å€¼ï¼ŒYè½´æ˜¯é¢„æµ‹ç²¾åº¦ï¼Œè¿™æ ·å¯ä»¥å¾ˆå®¹æ˜“æ‰¾åˆ°å‚æ•°çš„æœ€ä½³å–å€¼ã€‚&lt;/p&gt;

&lt;h6 id=&#34;cp:0257109cd77173fde404dfe977de0c33&#34;&gt;CP&lt;/h6&gt;

&lt;p&gt;åƒRå¹³æ–¹ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå®šä¹‰äº†ä¸€ä¸ªæ¦‚å¿µ cp(complexity parameter) ç”¨æ¥è§‚æµ‹æ•ˆæœã€‚&lt;br /&gt;
cpè¶Šå°ï¼Œå†³ç­–æ ‘è¶Šå¤§(over fitting)ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?s = splits&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?lambda = penalty\;error&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?\sum_{leaves}(RSS\;at\;each\;leaf) + lambda*s&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?cp = \frac{lambda}{RSS(no\;splits)}&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
cpè¶Šå¤§ï¼Œåˆ†æ¯è¶Šå°ï¼Œtreeè¶Šå°ã€‚&lt;br /&gt;
cpè¶Šå°ï¼Œåˆ†æ¯è¶Šå¤§ï¼Œtreeè¶Šå¤§ã€‚&lt;/p&gt;

&lt;h3 id=&#34;2-å»ºæ¨¡å’Œè¯„ä¼°:0257109cd77173fde404dfe977de0c33&#34;&gt;2.å»ºæ¨¡å’Œè¯„ä¼°&lt;/h3&gt;

&lt;h4 id=&#34;cart:0257109cd77173fde404dfe977de0c33&#34;&gt;CART&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# Install rpart library
install.packages(&amp;quot;rpart&amp;quot;)
library(rpart)
install.packages(&amp;quot;rpart.plot&amp;quot;)
library(rpart.plot)

# CART model
# method=&amp;quot;class&amp;quot; è¡¨ç¤ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª classification tree
StevensTree = rpart(Reverse ~ Circuit + Issue + Petitioner + Respondent + LowerCourt + Unconst, data = Train, method=&amp;quot;class&amp;quot;, minbucket=25)

# plot tree
prp(StevensTree)

# Make predictions
# è®°å¾—æŒ‡å®š type = &amp;quot;class&amp;quot;
PredictCART = predict(StevensTree, newdata = Test, type = &amp;quot;class&amp;quot;)
table(Test$Reverse, PredictCART)

# ROC curve
library(ROCR)

PredictROC = predict(StevensTree, newdata = Test)
# æ³¨æ„è¿™é‡Œæ²¡æœ‰æŒ‡å®š type = &amp;quot;class&amp;quot;
# ä¹Ÿå°±æ˜¯è¯´ï¼Œå­¦ä¹ å¾—åˆ° classification tree çš„æ¨¡å‹ï¼Œä½†æ˜¯è¯„ä¼°ä½¿ç”¨ regression tree
# çœŸæ˜¯å¤©æ€çš„ã€‚ã€‚ã€‚
# è¿™ä¸ªPredictROC æœ‰ä¸¤åˆ—
# ç¬¬ä¸€åˆ—æ˜¯é¢„æµ‹y=0çš„æ¦‚ç‡
# ç¬¬äºŒåˆ—æ˜¯é¢„æµ‹y=1çš„æ¦‚ç‡
# å¦‚æœæ¯”è¾ƒä¸€ä¸‹ PredictROC æ¯è¡Œçš„æ•°æ®ï¼Œå¯ä»¥å‘ç°è¿™ä¸¤ä¸ªæ¦‚ç‡å’Œä¸º1ï¼é‚£æ˜¯å½“ç„¶ï¼
# å¦‚æœæ‹¿ PredictROC å’Œ PredictCARTç›¸æ¯”
# å¦‚æœ PredictROC[n,2]&amp;gt;0.5ï¼Œé‚£ä¹ˆPredictCART[n]=1ã€‚
# å¦‚æœ PredictROC[n,2]&amp;lt;0.5ï¼Œé‚£ä¹ˆPredictCART[n]=0ã€‚
# æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬åªä½¿ç”¨ç¬¬äºŒåˆ—

pred = prediction(PredictROC[,2], Test$Reverse)
perf = performance(pred, &amp;quot;tpr&amp;quot;, &amp;quot;fpr&amp;quot;)
plot(perf)

# AUC
as.numeric(performance(pred, &amp;quot;auc&amp;quot;)@y.values)
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;random-forest-1:0257109cd77173fde404dfe977de0c33&#34;&gt;Random Forest&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;install.packages(&amp;quot;randomForest&amp;quot;)
library(randomForest)

# Build random forest model
StevensForest = randomForest(Reverse ~ Circuit + Issue + Petitioner + Respondent + LowerCourt + Unconst, data = Train, ntree=200, nodesize=25 )
# Warning message:
# In randomForest.default(m, y, ...) :
#   The response has five or fewer unique values.  Are you sure you want to do regression?

# å¦‚ä¸Šé¢çš„æç¤ºæ¶ˆæ¯æ‰€ç¤º
# randomForestè®¤ä¸ºå› å˜é‡çš„å–å€¼å¾ˆå°‘ï¼Œä¸åº”è¯¥ç”¨regression
# ä½†æ˜¯ random forest æ²¡æœ‰ type = &amp;quot;class&amp;quot; è¿™æ ·çš„å‚æ•°
# æ‰€ä»¥æˆ‘ä»¬å¿…é¡»ç¡®ä¿å› å˜é‡è¿™ä¸€åˆ—çš„å–å€¼éƒ½æ˜¯å› å­
# Convert outcome to factor
Train$Reverse = as.factor(Train$Reverse)
Test$Reverse = as.factor(Test$Reverse)

# Try again
StevensForest = randomForest(Reverse ~ Circuit + Issue + Petitioner + Respondent + LowerCourt + Unconst, data = Train, ntree=200, nodesize=25 )

# Make predictions
PredictForest = predict(StevensForest, newdata = Test)
table(Test$Reverse, PredictForest)
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;cross-validation-1:0257109cd77173fde404dfe977de0c33&#34;&gt;Cross Validation&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# Install cross-validation packages
install.packages(&amp;quot;caret&amp;quot;)
library(caret)
install.packages(&amp;quot;e1071&amp;quot;)
library(e1071)

# Define cross-validation experiment
numFolds = trainControl( method = &amp;quot;cv&amp;quot;, number = 10 )
cpGrid = expand.grid( .cp = seq(0.01,0.5,0.01)) 

# Perform the cross validation
train(Reverse ~ Circuit + Issue + Petitioner + Respondent + LowerCourt + Unconst, data = Train, method = &amp;quot;rpart&amp;quot;, trControl = numFolds, tuneGrid = cpGrid )

# Create a new CART model
StevensTreeCV = rpart(Reverse ~ Circuit + Issue + Petitioner + Respondent + LowerCourt + Unconst, data = Train, method=&amp;quot;class&amp;quot;, cp = 0.18)

# Make predictions
PredictCV = predict(StevensTreeCV, newdata = Test, type = &amp;quot;class&amp;quot;)
table(Test$Reverse, PredictCV)
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;å‚æ•°cpå’Œlossçš„ä½¿ç”¨:0257109cd77173fde404dfe977de0c33&#34;&gt;å‚æ•°cpå’Œlossçš„ä½¿ç”¨&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# Penalty Matrix
PenaltyMatrix = matrix(c(0,1,2,3,4,2,0,1,2,3,4,2,0,1,2,6,4,2,0,1,8,6,4,2,0), byrow=TRUE, nrow=5)

# CART model
ClaimsTree = rpart(bucket2009 ~ age + alzheimers + arthritis + cancer + copd + depression + diabetes + heart.failure + ihd + kidney + osteoporosis + stroke + bucket2008 + reimbursement2008, data=ClaimsTrain, method=&amp;quot;class&amp;quot;, cp=0.00005)

prp(ClaimsTree)

# Make predictions
PredictTest = predict(ClaimsTree, newdata = ClaimsTest, type = &amp;quot;class&amp;quot;)
# New CART model with loss matrix
ClaimsTree = rpart(bucket2009 ~ age + alzheimers + arthritis + cancer + copd + depression + diabetes + heart.failure + ihd + kidney + osteoporosis + stroke + bucket2008 + reimbursement2008, data=ClaimsTrain, method=&amp;quot;class&amp;quot;, cp=0.00005, parms=list(loss=PenaltyMatrix))

# Redo predictions and penalty error
PredictTest = predict(ClaimsTree, newdata = ClaimsTest, type = &amp;quot;class&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Rè¯­è¨€ç¬”è®°03</title>
      <link>http://youngspring1.github.io/post/2016/2016-04-26-R03/</link>
      <pubDate>Tue, 26 Apr 2016 11:52:13 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-04-26-R03/</guid>
      <description>

&lt;p&gt;MITè¯¾ç¨‹ &lt;a href=&#34;https://courses.edx.org/courses/course-v1:MITx+15.071x_3+1T2016/info&#34;&gt;15.071x&lt;/a&gt; ç¬¬ä¸‰å•å…ƒçš„å­¦ä¹ è®°å½•ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;logistic-regression:2842374fb15231f36230fc5afd744bb4&#34;&gt;Logistic Regression&lt;/h2&gt;

&lt;p&gt;ç¬¬ä¸‰å•å…ƒçš„ä¸»é¢˜æ˜¯æŒ‡æ•°å›å½’ã€‚&lt;/p&gt;

&lt;h3 id=&#34;1-ç†è®º:2842374fb15231f36230fc5afd744bb4&#34;&gt;1.ç†è®º&lt;/h3&gt;

&lt;h4 id=&#34;æŒ‡æ•°å›å½’:2842374fb15231f36230fc5afd744bb4&#34;&gt;æŒ‡æ•°å›å½’&lt;/h4&gt;

&lt;p&gt;æŒ‡æ•°å›å½’ç”¨äºå› å˜é‡yæ˜¯äºŒè¿›åˆ¶çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œyçš„å–å€¼åªæœ‰1æˆ–è€…0ã€‚&lt;br /&gt;
y=1çš„æ¦‚ç‡ï¼š&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?P(y=1)=\frac{1}{1+e^{-{(\beta_0 +\beta_1x_1+\beta_2x_2+\ldots+\beta_nx_n+\epsilon)}}}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;y=1çš„æ¦‚ç‡ä¸yï¼0çš„æ¦‚ç‡çš„æ¯”å€¼ï¼š&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?Odds=\frac{P(y=1)}{P(y=0)}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?Odds=\frac{P(y=1)}{1-P(y=1)}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?Odds=e^{\beta_0 +\beta_1x_1+\beta_2x_2+\ldots+\beta_nx_n+\epsilon}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;æ··æ·†çŸ©é˜µ-confusion-matrix:2842374fb15231f36230fc5afd744bb4&#34;&gt;æ··æ·†çŸ©é˜µï¼ˆconfusion matrixï¼‰&lt;/h4&gt;

&lt;p&gt;æœ‰é˜ˆå€¼tï¼Œ&lt;br /&gt;
å¦‚æœP(y=1) &amp;gt;=tï¼Œåˆ™é¢„æµ‹y=1ã€‚&lt;br /&gt;
å¦‚æœP(y=1) &amp;lt; tï¼Œåˆ™é¢„æµ‹y=0ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºé¢„æµ‹ç»“æœï¼Œæˆ‘ä»¬å¾—åˆ°çŸ©é˜µ&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;predict y=0&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;predict y=1&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;actual y=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;TN (True  Nagative)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;FP (False Positive)&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;actual y=1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;FN (False Nagative)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;TP (True  Positive)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;æ ¹æ®çŸ©é˜µä¸­çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—æŒ‡æ•°å›å½’çš„ä¸€äº›æŒ‡æ ‡ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?accuracy=\frac{TN+TP}{N}&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?specificity=\frac{TN}{TN+FP}&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?sensitivity=\frac{TP}{FN+TP}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¡¥å……æ¦‚å¿µï¼š&lt;br /&gt;
é€‚åˆç‡&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?precision=\frac{TP}{FP+TP}&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
å†ç°ç‡&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?recall=tpr=\frac{TP}{FN+TP}&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
Få€¼ï¼ˆF-measureï¼‰&lt;br /&gt;
&lt;img src=&#34;http://latex.codecogs.com/svg.latex?F-measure=\frac{2*precision*recall}{precision+recall}&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
Få€¼è¶Šé«˜ï¼Œæ€§èƒ½è¶Šå¥½&lt;/p&gt;

&lt;h4 id=&#34;rocæ›²çº¿:2842374fb15231f36230fc5afd744bb4&#34;&gt;ROCæ›²çº¿&lt;/h4&gt;

&lt;p&gt;ROCæ›²çº¿ (Receiver Operator Characteristic curve)å¯ä»¥æŒ‡å¯¼æˆ‘ä»¬å¦‚ä½•é€‰å–é˜ˆå€¼tã€‚
yè½´çš„æŒ‡æ ‡æ˜¯ sensitivityï¼Œæ‰€ä»¥ä¹Ÿå« True positive rateã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?sensitivity=\frac{TP}{FN+TP}&#34; alt=&#34;formula&#34; /&gt;&lt;br /&gt;
xè½´çš„æŒ‡æ ‡æ˜¯ 1-specificityï¼Œæ‰€ä»¥ä¹Ÿå« False positive rateã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?1-sensitivity=\frac{FP}{TN+FP}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ¯å–ä¸€ä¸ªé˜ˆå€¼tï¼Œåˆ™è®¡ç®—ç›¸å¯¹åº”çš„ TPR å’Œ FPRï¼Œåœ¨åæ ‡é‡Œæ ‡å‡ºè¿™ä¸ªç‚¹ï¼Œå°±å½¢æˆROCæ›²çº¿ã€‚&lt;br /&gt;
&lt;img src=&#34;http://7xrjai.com1.z0.glb.clouddn.com/20160509-ROC.png&#34; alt=&#34;ROC Curve&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;t=0æ—¶ï¼Œæˆ‘ä»¬é¢„æµ‹æ‰€æœ‰çš„y=1ï¼Œå³TPR=1ï¼ŒFPR=1ï¼Œå¯¹åº”çš„åæ ‡æ˜¯(1,1)   
t=1æ—¶ï¼Œæˆ‘ä»¬é¢„æµ‹æ‰€æœ‰çš„y=0ï¼Œå³TPR=0ï¼ŒFPR=0ï¼Œå¯¹åº”çš„åæ ‡æ˜¯(0,0)   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™å°±æ˜¯æ›²çº¿çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚&lt;/p&gt;

&lt;h4 id=&#34;aucå€¼:2842374fb15231f36230fc5afd744bb4&#34;&gt;AUCå€¼&lt;/h4&gt;

&lt;p&gt;AUCï¼ˆArea Under Curveï¼‰è¢«å®šä¹‰ä¸ºROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œæ˜¾ç„¶è¿™ä¸ªé¢ç§¯çš„æ•°å€¼ä¸ä¼šå¤§äº1ã€‚åˆç”±äºROCæ›²çº¿ä¸€èˆ¬éƒ½å¤„äºy=xè¿™æ¡ç›´çº¿çš„ä¸Šæ–¹ï¼Œæ‰€ä»¥AUCçš„å–å€¼èŒƒå›´åœ¨0.5å’Œ1ä¹‹é—´ã€‚&lt;/p&gt;

&lt;h3 id=&#34;2-å»ºç«‹å›å½’æ¨¡å‹:2842374fb15231f36230fc5afd744bb4&#34;&gt;2.å»ºç«‹å›å½’æ¨¡å‹&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# å»ºç«‹æ¨¡å‹
# Top10ä½œä¸ºå› å˜é‡ï¼Œå…¶ä»–æ‰€æœ‰çš„åˆ—éƒ½ä½œä¸ºè‡ªå˜é‡
SongsLog1 = glm(Top10 ~ ., data=SongsTrain, family=binomial)

# Top10ä½œä¸ºå› å˜é‡ï¼Œé™¤äº†loudnessä»¥å¤–çš„æ‰€æœ‰åˆ—éƒ½ä½œä¸ºè‡ªå˜é‡
SongsLog2 = glm(Top10 ~ . - loudness, data=SongsTrain, family=binomial)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;3-è¯„ä¼°:2842374fb15231f36230fc5afd744bb4&#34;&gt;3.è¯„ä¼°&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# é¢„æµ‹
testPredict = predict(SongsLog3, newdata=SongsTest, type=&amp;quot;response&amp;quot;)

# ç”Ÿæˆæ··æ·†çŸ©é˜µ
table(SongsTest$Top10, testPredict &amp;gt;= 0.45)

# ç”ŸæˆROCæ›²çº¿
library(ROCR)
pred = prediction(testPredict, test$violator)
perf = performance(pred, &amp;quot;tpr&amp;quot;, &amp;quot;fpr&amp;quot;)
plot(perf)

# åŠ ç‚¹é¢œè‰²å’Œåæ ‡ç‚¹
plot(perf, colorize=TRUE, print.cutoffs.at=seq(0,1,0.1), text.adj=c(-0.2,1.7))

# è®¡ç®—AUCå€¼
as.numeric(performance(pred, &amp;quot;auc&amp;quot;)@y.values)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;é™„å½•a-åˆ†å‰²trainå’Œtestçš„æ–¹æ³•ä¸€:2842374fb15231f36230fc5afd744bb4&#34;&gt;é™„å½•A åˆ†å‰²trainå’Œtestçš„æ–¹æ³•ä¸€&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;library(caTools)
set.seed(144)

split = sample.split(parole$violator, SplitRatio = 0.7)
train = subset(parole, split == TRUE)
test = subset(parole, split == FALSE)
# ç‰¹åˆ«æ³¨æ„ï¼šæ¯æ¬¡è¿è¡Œå‡ºæ¥çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥è¿™æ ·åšï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;library(caTools)
set.seed(144)

split = sample(1:nrow(data), size=0.7 * nrow(data))
train = data[split,]
test = data[-split,]
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;é™„å½•b-è¡¥å……ç¼ºå¤±æ•°æ®:2842374fb15231f36230fc5afd744bb4&#34;&gt;é™„å½•B è¡¥å……ç¼ºå¤±æ•°æ®&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;library(mice)
set.seed(144)
vars.for.imputation = setdiff(names(loans), &amp;quot;not.fully.paid&amp;quot;)
imputed = complete(mice(loans[vars.for.imputation]))
loans[vars.for.imputation] = imputed
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Rè¯­è¨€ç¬”è®°02</title>
      <link>http://youngspring1.github.io/post/2016/2016-04-23-R02/</link>
      <pubDate>Sat, 23 Apr 2016 15:19:39 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-04-23-R02/</guid>
      <description>

&lt;p&gt;MITè¯¾ç¨‹ &lt;a href=&#34;https://courses.edx.org/courses/course-v1:MITx+15.071x_3+1T2016/info&#34;&gt;15.071x&lt;/a&gt; ç¬¬äºŒå•å…ƒçš„å­¦ä¹ è®°å½•ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;linear-regression:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;Linear Regression&lt;/h2&gt;

&lt;p&gt;ç¬¬äºŒå•å…ƒçš„ä¸»é¢˜æ˜¯çº¿æ€§å›å½’ã€‚&lt;/p&gt;

&lt;h3 id=&#34;1-ç†è®º:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;1.ç†è®º&lt;/h3&gt;

&lt;p&gt;ä¸€å…ƒçº¿æ€§å›å½’å…¬å¼ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?y^i=\beta_0+\beta_1x^i+\epsilon^i&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å…¶ä¸­xæ˜¯è‡ªå˜é‡independent variableï¼Œyæ˜¯å› å˜é‡dependent variableã€‚&lt;br /&gt;
betaæ˜¯ç›¸å…³ç³»æ•°coefficientï¼Œepsilonæ˜¯è¯¯å·®errorã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†åˆ¤æ–­çº¿æ€§å›å½’çš„æ•ˆæœï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹æ£€éªŒæ ‡å‡†ï¼š&lt;/p&gt;

&lt;p&gt;1.SSEï¼ˆsum of squared errorsï¼‰&lt;br /&gt;
æ³¨æ„è¿™é‡Œçš„è¯¯å·®æ˜¯å®é™…å€¼ç›¸å¯¹äºé¢„æµ‹å€¼çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?SSE = \sum_{i=1}^{n}\epsilon_i^2&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;2.SST ï¼ˆtotal sum of squareï¼‰&lt;br /&gt;
å…¬å¼åŒä¸Šã€‚ä½†è¿™é‡Œçš„è¯¯å·®æ˜¯å®é™…å€¼ç›¸å¯¹äºbaselineçš„ã€‚baselineæ˜¯å› å˜é‡çš„å¹³å‡å€¼ã€‚&lt;br /&gt;
æ‰€ä»¥æœ‰ 0 &amp;lt;= SSE &amp;lt;= SST ã€‚&lt;/p&gt;

&lt;p&gt;3.RMSEï¼ˆroot mean square errorï¼‰&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?RMSE = \sqrt\frac{SSE}{n}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;4.Rå¹³æ–¹&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?R^2 = 1 - \frac{SSE}{SST}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Rå¹³æ–¹è¶Šæ¥è¿‘1è¶Šå¥½ã€‚&lt;/p&gt;

&lt;p&gt;å¤šå…ƒçº¿æ€§å›å½’å…¬å¼ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?y^i = \beta_0 + \beta_1x_1^i + \beta_2x_2^i + \ldots + \beta_nx_n^i + \epsilon^i&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;æ‰€æœ‰æ•°æ®åˆ†æï¼Œéƒ½è¦ç»å† trainingï¼testï¼predict è¿™ä¸‰ä¸ªè¿‡ç¨‹ã€‚
åœ¨æ¥ä¸‹æ¥çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»‹ç» å»ºæ¨¡ï¼è¯„ä¼° è¿™å‰ä¸¤ä¸ªè¿‡ç¨‹ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¡¥å……ä¸€ä¸ªrelative errorçš„å…¬å¼ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?relative\;error =  \frac{observed\;value - estimated\,value}{observed\;value}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;2-0-äº‹å‰æ•´ç†:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;2.0 äº‹å‰æ•´ç†&lt;/h5&gt;

&lt;p&gt;2.0.1 å»é™¤ç©ºå€¼&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# å¦‚æœæ•°æ®ä¸­åŒ…å«ç©ºå€¼
DF ï¼ na.omit(DF)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;2.0.2 reference level&lt;br /&gt;
æœ‰äº›åˆ—æ—¶å­—ç¬¦å‹çš„ï¼Œå®ƒä»¬æ— æ³•è¿›è¡Œè®¡ç®—ã€‚&lt;br /&gt;
å¦‚æœæŸåˆ—çš„å› å­ä¸ç®—å¤šï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸€åˆ—å˜æ¢æˆå¤šä¸ªå¯ä»¥ç”¨äºè®¡ç®—çš„åˆ—ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# å‡è®¾DF$colræœ‰å› å­ &amp;quot;Red&amp;quot;4æ¬¡, &amp;quot;Blue&amp;quot;3æ¬¡, &amp;quot;Yellow&amp;quot;2æ¬¡
DF$colr = relevel(DF$colr, &amp;quot;red&amp;quot;)

# æ•ˆæœæ˜¯ï¼ŒDF$colr è¿™ä¸€åˆ—ä¸è§äº†
# å¢åŠ äº†ä¸¤åˆ— DF$colrBlue å’Œ DF$colrYellow
# åŸå…ˆ DF$colr == &amp;quot;Red&amp;quot; çš„é‚£äº›è¡Œï¼Œå®ƒä»¬ colrBlue å’Œ colrYellow çš„å€¼éƒ½æ˜¯0
# åŸå…ˆ DF$colr == &amp;quot;Blue&amp;quot; çš„é‚£äº›è¡Œï¼Œå®ƒä»¬ colrBlue=1, colrYellow=0
# åŸå…ˆ DF$colr == &amp;quot;Yellow&amp;quot; çš„é‚£äº›è¡Œï¼Œå®ƒä»¬ colrBlue=0, colrYellow=1
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;2-å»ºç«‹å›å½’æ¨¡å‹:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;2.å»ºç«‹å›å½’æ¨¡å‹&lt;/h3&gt;

&lt;p&gt;å»ºæ¨¡ä½¿ç”¨lm()å‡½æ•°ã€‚&lt;br /&gt;
DFæ˜¯ä¿å­˜å­¦ä¹ æ•°æ®çš„data.frameã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;model = lm(y ~ x1 + x2 + ... +xn, data = DF)
# yä¸è¦å†™æˆ DF$y
# x1ä¹Ÿä¸è¦å†™æˆ DF$x1
# å¦åˆ™ï¼Œåé¢åšé¢„æµ‹predict()çš„æ—¶å€™ï¼ŒDFTestä»£å…¥ä¼šæŠ¥warning

# é™¤äº†yåˆ—ä»¥å¤–æ‰€æœ‰åˆ—
model = lm(y ~ ., data = DF)

# è¯¯å·® model$residuals
SSE = sum(model$residuals^2)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;éšä¾¿çœ‹ä¸ªç»“æœå§&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt; summary(model)

Call:
lm(formula = Price ~ HarvestRain + WinterRain, data = wine)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.0933 -0.3222 -0.1012  0.3871  1.1877 

Coefficients:
              Estimate Std. Error t value Pr(&amp;gt;|t|)    
(Intercept)  7.865e+00  6.616e-01  11.888 4.76e-11 ***
HarvestRain -4.971e-03  1.601e-03  -3.105  0.00516 ** 
WinterRain  -9.848e-05  9.007e-04  -0.109  0.91392    
---
Signif. codes:  0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1

Residual standard error: 0.5611 on 22 degrees of freedom
Multiple R-squared:  0.3177,    Adjusted R-squared:  0.2557 
F-statistic: 5.122 on 2 and 22 DF,  p-value: 0.01492
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Callè¡¨ç¤ºå»ºæ¨¡ä½¿ç”¨çš„è¯­å¥ã€‚&lt;br /&gt;
Residualsè¡¨ç¤ºè¯¯å·®ã€‚&lt;br /&gt;
Coefficientsè¡¨ç¤ºç³»æ•°ï¼Œå°±æ˜¯å…¬å¼é‡Œé¢çš„betaã€‚&lt;br /&gt;
Estimateçš„ç¬¬ä¸€è¡Œæ˜¯å¸¸æ•°beta0ï¼Œç¬¬äºŒè¡Œæ˜¯ç¬¬ä¸€ä¸ªè‡ªå˜é‡çš„ç³»æ•°beta1ï¼Œç¬¬ä¸‰è¡Œæ˜¯ç¬¬äºŒä¸ªè‡ªå˜é‡çš„ç³»æ•°beta2ï¼Œåé¢ç±»æ¨ã€‚&lt;br /&gt;
t valueè¶Šå¤§è¶Šå¥½&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://latex.codecogs.com/svg.latex?{t\,value} = \frac{Estimate}{Std. Error}&#34; alt=&#34;formula&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Pr(&amp;gt;|t|) å’Œt valueç›¸åï¼Œè¶Šå°è¶Šå¥½ã€‚&lt;br /&gt;
æœ€åä¸€åˆ—æ˜Ÿæ˜Ÿè¶Šå¤šè¶Šå¥½ã€‚&lt;br /&gt;
ä¸‰çŸ­æ¨ªä¸‹é¢è¿™è¡Œè§£é‡Šäº†æ˜Ÿæ˜Ÿçš„å«ä¹‰ã€‚&lt;br /&gt;
Multiple R-squaredå°±æ˜¯Rå¹³æ–¹ï¼Œè¶Šæ¥è¿‘1è¶Šå‡†ç¡®ã€‚&lt;/p&gt;

&lt;h3 id=&#34;3-è¯„ä¼°:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;3.è¯„ä¼°&lt;/h3&gt;

&lt;p&gt;å¯¹äºåˆšè¿‡ç®€å†çš„æ¨¡å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æµ‹è¯•æ•°æ®æ¥è¯„ä¼°ä¸€ä¸‹å‡†ç¡®åº¦ã€‚&lt;br /&gt;
modelå°±æ˜¯ä¸Šæ–‡å»ºç«‹çš„æ¨¡å‹ã€‚&lt;br /&gt;
DFTestæ˜¯æµ‹è¯•æ•°æ®ï¼Œå®ƒçš„ç»“æ„å’Œä¸Šæ–‡çš„DFä¸€æ ·ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;predict = predict(model, newdata = DFTest)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ªå‘½ä»¤çš„è¿”å›å€¼æ˜¯ DFTest$Price çš„&lt;strong&gt;é¢„æµ‹&lt;/strong&gt;ç»“æœã€‚ä½ å¯ä»¥è·Ÿ DFTest$Price çš„&lt;strong&gt;å®é™…&lt;/strong&gt;ç»“æœç›¸æ¯”è¾ƒï¼Œè®¡ç®—SSEã€RMSEã€Rå¹³æ–¹ç­‰ç­‰æ¥è¡¡é‡å¯¹æµ‹è¯•æ•°æ®çš„é¢„æµ‹çš„å‡†ç¡®æ€§ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SSE = sum( (DFTest$Price - predict)^2 )
SST = sum( (DFTest$Price - mean(DF$Price)^2 )
R2 = 1 - SSE/SST
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;4-correlation:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;4.Correlation&lt;/h3&gt;

&lt;p&gt;çº¿æ€§ç›¸å…³æ€§&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cor(var1, var2)
# ä¹Ÿå¯ä»¥è€ƒå¯Ÿæ•´ä¸ªDFä¸­ï¼Œæ¯ä¸¤åˆ—çš„çº¿æ€§ç›¸å…³æ€§
cor(DF)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿”å›å€¼æ˜¯æ–œç‡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å»ºç«‹çº¿æ€§å›å½’æ¨¡å‹çš„æ—¶å€™ï¼Œåº”è¯¥å»æ‰ç›¸å…³æ€§æ¯”è¾ƒé«˜çš„åˆ—ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;è¡¥å……çŸ¥è¯†a-æ£’çƒç»Ÿè®¡æœ¯è¯­:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;è¡¥å……çŸ¥è¯†Aï¼æ£’çƒç»Ÿè®¡æœ¯è¯­&lt;/h3&gt;

&lt;p&gt;å®Œå…¨ä¸æ‡‚æ£’çƒå•Šï¼Œä¸€å¼€å§‹æ‘¸ä¸ç€å¤´è„‘ã€‚&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;ç¼©å†™&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;åŸæ–‡&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ä¸­æ–‡&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;RS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Run Scores&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;è·‘åˆ†ï¼Œå¾—åˆ†&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;RA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Run Allowed&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å¤±åˆ†ï¼Œå¯¹æ‰‹å¾—åˆ†&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;OBP&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;On-Base Percentage&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ä¸Šå’ç‡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;OOBP&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Opponent On-Base Percentage&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å¯¹æ‰‹ä¸Šå’ç‡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;SLG&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Slugging Percentage&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;é•¿æ‰“ç‡ï¼Œå‡»ä¸­ç‡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;OSLG&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Opponent Slugging Percentage&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å¯¹æ‰‹é•¿æ‰“ç‡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;BA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Batting Avarage&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å¹³å‡æˆåŠŸç‡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;è¡¥å……çŸ¥è¯†b-ç¯®çƒç»Ÿè®¡æœ¯è¯­:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;è¡¥å……çŸ¥è¯†Bï¼ç¯®çƒç»Ÿè®¡æœ¯è¯­&lt;/h3&gt;

&lt;p&gt;å¹´è½»æ—¶çœ‹NBAï¼Œå¥½æ­¹çŸ¥é“ä¸€ç‚¹ã€‚&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;ç¼©å†™&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;åŸæ–‡&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ä¸­æ–‡&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;PTS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Points&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å¾—åˆ†&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;oppPTS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Opponent Points&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å¤±åˆ†ï¼Œå¯¹æ‰‹å¾—åˆ†&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;FG&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Field Goals (success)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;è¿›çƒæ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;FGA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Field Goals Attempted&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å‡ºæ‰‹æ¬¡æ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;X2P&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2 Points&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2åˆ†çƒè¿›çƒæ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;X2PA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2 Points Attempted&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2åˆ†çƒå‡ºæ‰‹æ¬¡æ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;X3P&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;3 Points&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;3åˆ†çƒè¿›çƒæ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;X3PA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;3 Points Attempted&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;3åˆ†çƒå‡ºæ‰‹æ¬¡æ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;FT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Free Throw&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ç½šçƒè¿›çƒæ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;FTA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Free Throw Attempted&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å‘çƒå‡ºæ‰‹æ¬¡æ•°&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ORB&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Offensive Rebounds&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å‰åœºç¯®æ¿ï¼Œè¿›æ”»ç¯®æ¿&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;DRB&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Defensive Rebounds&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ååœºç¯®æ¿ï¼Œé˜²å®ˆç¯®æ¿&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;AST&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Assists&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;åŠ©æ”»&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;STL&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Steals&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;æŠ¢æ–­&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;BLK&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Blocks&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ç›–å¸½&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;TOV&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Turnovers&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;å¤±è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;æ³¨ï¼šX2Påˆ—ï¼ŒåŸå§‹æ•°æ®åˆ—åæ˜¯2Pã€‚ç”±äºRä¸æ”¯æŒæ•°å­—å¼€å¤´çš„åˆ—åï¼å˜é‡ï¼Œè¯»å–CSVæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šåœ¨åŸåˆ—å2På‰åŠ ä¸ªXï¼Œä»è€Œå˜æˆ X2Pã€‚&lt;/p&gt;

&lt;h3 id=&#34;è¡¥å……çŸ¥è¯†c-æ»ååºåˆ—:efa3f4364b4acd6454b77ef89af35a47&#34;&gt;è¡¥å……çŸ¥è¯†Cï¼æ»ååºåˆ—&lt;/h3&gt;

&lt;p&gt;å‡½æ•°lagï¼Œç”¨äºç”Ÿæˆæ»å/åç§»åºåˆ—ï¼Ÿ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;lag(x, k = 1, ...)
# k &amp;lt; 0, previous observations   
# k &amp;gt; 0, future observations
# na.pad=TRUE, add missing values
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Rè¯­è¨€ç¬”è®°01</title>
      <link>http://youngspring1.github.io/post/2016/2016-04-18-R01/</link>
      <pubDate>Mon, 18 Apr 2016 19:55:25 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-04-18-R01/</guid>
      <description>

&lt;p&gt;MITè¯¾ç¨‹ &lt;a href=&#34;https://courses.edx.org/courses/course-v1:MITx+15.071x_3+1T2016/info&#34;&gt;15.071x&lt;/a&gt; ç¬¬ä¸€å•å…ƒçš„å­¦ä¹ è®°å½•ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;rè¯­è¨€å…¥é—¨:86ba9dc4beedcb3ca4aa6515cf113aed&#34;&gt;Rè¯­è¨€å…¥é—¨&lt;/h2&gt;

&lt;p&gt;Rè¯­è¨€å…¥é—¨åªè®²äº†ä¸€äº›å¸¸ç”¨çš„æ“ä½œã€‚ç›¸å¯¹äºåŠ¨è¾„èŠ±ä¸€æœ¬ä¹¦æ¥è®²è¿™äº›ï¼ŒçœŸæ˜¯ç›¸å½“ç®€çº¦ã€‚ä½†å…¶å®è¶³å¤Ÿäº†ï¼Œå…¶ä»–æ“ä½œï¼Œéœ€è¦çš„æ—¶å€™å†æŸ¥å˜›ã€‚&lt;br /&gt;
æ•°æ®åˆ†æçš„å››è¦ç´ ï¼šdataã€modelsã€decisionsã€value&lt;/p&gt;

&lt;h3 id=&#34;ç®€å•ä½¿ç”¨:86ba9dc4beedcb3ca4aa6515cf113aed&#34;&gt;ç®€å•ä½¿ç”¨&lt;/h3&gt;

&lt;p&gt;å¸®åŠ©ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;?func
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ˜¾ç¤ºå½“å‰çš„ä¸´æ—¶å˜é‡ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ls()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è·å–ï¼è®¾ç½®å½“å‰ç›®å½•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;getwd()
setwd()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dir()
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;æ•°æ®ç»“æ„:86ba9dc4beedcb3ca4aa6515cf113aed&#34;&gt;æ•°æ®ç»“æ„&lt;/h3&gt;

&lt;p&gt;å‘é‡æ¦‚å¿µï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯å¯¹å‘é‡çš„æ¯ä¸ªå…ƒç´ å®æ–½çš„
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;data.frameï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;observationï¼šè¡Œ
variable   ï¼šåˆ—ï¼Œdata.frameæ˜¯æŒ‰ç…§åˆ—å­˜å‚¨çš„
rbind()åˆå¹¶ä¸¤ä¸ªdata.frame
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åºåˆ—ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;è‡ªåŠ¨ç”Ÿæˆåºåˆ—seq()
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;è·å–æ•°æ®:86ba9dc4beedcb3ca4aa6515cf113aed&#34;&gt;è·å–æ•°æ®&lt;/h3&gt;

&lt;p&gt;è¯»å–CSVæ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DF = read.csv(&amp;quot;file_path&amp;quot;)
# è¿”å›å€¼æ˜¯data.frame
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸ¥çœ‹DFçš„åŸºæœ¬ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;str(DF)
# DFçš„ç»“æ„ä¿¡æ¯ã€‚è¡Œå’Œåˆ—çš„æ•°ç›®ï¼Œåˆ—åã€åˆ—çš„ç±»å‹ã€åˆ—çš„æ•°æ®ä¸¾ä¾‹ã€‚

summary(DF)
# æ¯åˆ—çš„æœ€å¤§å€¼ã€æœ€å°å€¼ã€ä¸­ä½æ•°ã€å¹³å‡æ•°ã€1/4å€¼ã€3/4å€¼ï¼Œä»¥åŠæ˜¯å¦åŒ…å«ç©ºå€¼ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†™å…¥CSVæ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;write.csv(DF, &amp;quot;file_path&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä»å†…å­˜ä¸­åˆ é™¤å˜é‡ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rm(DF)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;æ•°æ®æ“ä½œ:86ba9dc4beedcb3ca4aa6515cf113aed&#34;&gt;æ•°æ®æ“ä½œ&lt;/h3&gt;

&lt;p&gt;é€‰å–ä¸€éƒ¨åˆ†æ•°æ®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;subset( DF, æ¡ä»¶1 &amp;amp; æ¡ä»¶2 ï½œ æ¡ä»¶3)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŒ‰ç…§åˆ—åé€‰å–3åˆ—ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DF[c(var1, var2, var3)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€‰å–1ï¼Œ3ï¼Œ5åˆ—ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DF[c(1, 3, 5)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è®¡ç®—å¹³å‡å€¼å’Œæ ‡å‡†å·®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mean(DF$var)
sd(DF$var)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿”å›æœ€å¤§å€¼ï¼æœ€å°å€¼çš„ä½ç½®(index)ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;which.max(DF$var)
which.min(DF$var)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿”å›è¡Œæ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nrow(DF)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ç»˜å›¾:86ba9dc4beedcb3ca4aa6515cf113aed&#34;&gt;ç»˜å›¾&lt;/h3&gt;

&lt;p&gt;ç›´æ–¹å›¾ï¼Œåæ˜ &lt;strong&gt;ä¸€åˆ—&lt;/strong&gt;æ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hist(DF$var, xlim = c(1, 100), breaks = 100)
# xlim é™å®šèŒƒå›´
# breaks xè½´çš„ç²¾ç¡®åº¦ã€‚æ³¨æ„æ˜¯é’ˆå¯¹åŸå§‹æ•°æ®çš„ï¼Œä¸æ˜¯å¯¹é™å®šåçš„
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç®±å‹å›¾ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;boxplot(DF$var1 ~ DF$var2, xlab = &amp;quot;x-label&amp;quot;, ylab = &amp;quot;y-label&amp;quot;, main = &amp;quot;title&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç‚¹é˜µå›¾ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;plot(......, col = &amp;quot;red&amp;quot;)
line(......, col = &amp;quot;blue&amp;quot;) # åœ¨åŸå…ˆçš„åŸºç¡€ä¸Šå†åŠ ä¸€æ¡

å‡½æ•°jitter() # å¯¹äºæœ‰å¾ˆå¤šé‡åˆçš„ç‚¹é˜µå›¾ï¼Œå…ˆç”¨jitteråç§»ä¸€ç‚¹ï¼Œè¿™æ ·çœ‹ä¸Šå»æ•ˆæœå¥½å¾ˆå¤š
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä»–å…±é€šçš„å‚æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;col = &amp;quot;red&amp;quot;
type = &amp;quot;line&amp;quot; # å¯ä»¥æŒ‡å®š1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;èšåˆ:86ba9dc4beedcb3ca4aa6515cf113aed&#34;&gt;èšåˆ&lt;/h3&gt;

&lt;p&gt;åˆ†ç»„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;table(DF$var1)
# var1åˆ—ä¸­ï¼Œæ¯ç§æ•°æ®çš„æ•°é‡çš„ç»Ÿè®¡
table(DF$var1, DF$var2)
# var1å’Œvar2åˆ—ä¸­ï¼Œæ¯ç§æ•°æ®çš„æ•°é‡çš„äº¤å‰ç»Ÿè®¡
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ†ç»„è®¡ç®—ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tapply(DF$var1, DF$var2, func)
# DF$var1, åŸå§‹æ•°æ®
# DF$var2, åˆ†ç»„ä¾æ®
# func, è¦åº”ç”¨çš„å‡½æ•°
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>data.table æ•™ç¨‹5ï¼ˆæ ¡å¯¹ä¸­ï¼‰</title>
      <link>http://youngspring1.github.io/post/2016/2016-04-08-datatable5/</link>
      <pubDate>Fri, 08 Apr 2016 13:00:57 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-04-08-datatable5/</guid>
      <description>

&lt;p&gt;ç›®å½•ï¼š&lt;br /&gt;
1) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-13-datatable1/&#34;&gt;data.table ä»‹ç»&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-21-datatable2/&#34;&gt;è¯­ä¹‰å¼•ç”¨&lt;/a&gt;&lt;br /&gt;
3) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-22-datatable3/&#34;&gt;ä¸»é”®ã€åŸºäºå¿«é€ŸäºŒåˆ†æ³•æœç´¢çš„subset&lt;/a&gt;&lt;br /&gt;
4) &lt;a href=&#34;http://youngspring1.github.io/post/2016-04-02-datatable4/&#34;&gt;äºŒçº§ç´¢å¼•å’Œè‡ªåŠ¨ç´¢å¼•&lt;/a&gt;&lt;br /&gt;
5) æœ‰æ•ˆçš„æ•°æ®æ‹†åˆ†å’Œåˆå¹¶&lt;/p&gt;

&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;br /&gt;
1) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html&#34;&gt;Introduction to data.table&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html&#34;&gt;Reference semantics&lt;/a&gt;&lt;br /&gt;
3) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html&#34;&gt;Keys and fast binary search based subsets&lt;/a&gt;&lt;br /&gt;
4) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-secondary-indices-and-auto-indexing.html&#34;&gt;Secondary indices and auto indexing&lt;/a&gt;&lt;br /&gt;
5) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html&#34;&gt;Efficient reshaping using data.tables&lt;/a&gt;&lt;br /&gt;
6) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-faq.html&#34;&gt;Frequently asked questions&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;æœ‰æ•ˆçš„æ•°æ®æ‹†åˆ†å’Œåˆå¹¶:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;æœ‰æ•ˆçš„æ•°æ®æ‹†åˆ†å’Œåˆå¹¶&lt;/h1&gt;

&lt;p&gt;è¿™ä¸€è®²æˆ‘ä»¬å­¦ä¹ reshapingå‡½æ•° melt å’Œ dcast åŸæœ¬çš„ç”¨æ³•ï¼Œä»¥åŠä»Rè¯­è¨€ v1.9.6ç‰ˆä»¥åï¼Œå‡½æ•° melt å’Œ dcast æ–°æ‰©å±•çš„åŠŸèƒ½ï¼ˆå®ƒä»¬èƒ½æ“ä½œå¤šä¸ªåˆ—ï¼‰ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;æ•°æ®:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;æ•°æ®&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨è®²è§£çš„æ—¶å€™ç›´æ¥åŠ è½½æ•°æ®ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä»‹ç»:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;ä»‹ç»&lt;/h2&gt;

&lt;p&gt;data.tableçš„å‡½æ•°melt å’Œ dcast æ˜¯å¢å¼ºåŒ…&lt;a href=&#34;https://cran.r-project.org/web/packages/reshape2/index.html&#34;&gt;reshape2&lt;/a&gt;é‡ŒåŒåå‡½æ•°çš„æ‰©å±•ã€‚&lt;br /&gt;
åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä¼šï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é¦–å…ˆï¼Œç®€å•çœ‹ä¸€ä¸‹åŸå…ˆçš„å‡½æ•° melt å’Œ dcastï¼Œå®ƒä»¬æ˜¯å¦‚ä½•reshapingä¸€ä¸ªdata.tableã€‚&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œäº†è§£ä¸€ä¸‹å½“å‰çš„åŠŸèƒ½æ˜¯å¦‚ä½•å˜å¾—å†—é•¿è€Œä¸”ä½æ•ˆã€‚&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œå­¦ä¹ ä¸€ä¸‹æ”¹è¿›ä¹‹åçš„å‡½æ•° melt å’Œ dcast å¦‚ä½•åŒæ—¶å¤„ç†å¤šä¸ªåˆ—ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰©å±•åçš„åŠŸèƒ½ç¬¦åˆdata.tableçš„è®¾è®¡å“²å­¦ï¼šè¿è¡Œé«˜æ•ˆï¼Œè¯­æ³•ç®€æ˜ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ä»Rè¯­è¨€ v1.9.6ç‰ˆä»¥åï¼Œä½ å†ä¹Ÿä¸éœ€è¦åŠ è½½å¢å¼ºåŒ… reshape2 äº†ï¼Œåªéœ€è¦åŠ è½½ data.tableã€‚å¦‚æœä½ å·²ç»åŠ è½½äº† reshape2 æ¥å¤„ç†çŸ©é˜µæˆ–è€…data.frameï¼Œé‚£ä¹ˆä¸€å®šè¦ç¡®ä¿åœ¨è¿™ä¹‹åå†åŠ è½½ data.tableã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;1-åŸç”Ÿçš„melt-dcast:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;1.åŸç”Ÿçš„meltï¼dcast&lt;/h2&gt;

&lt;h4 id=&#34;a-å‡½æ•°melt:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;a) å‡½æ•°melt&lt;/h4&gt;

&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸‹é¢è¿™æ ·çš„data.tableï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT = fread(&amp;quot;melt_default.csv&amp;quot;)
DT
#    family_id age_mother dob_child1 dob_child2 dob_child3
# 1:         1         30 1998-11-26 2000-01-29         NA
# 2:         2         27 1996-06-22         NA         NA
# 3:         3         26 2002-07-11 2004-04-05 2007-09-02
# 4:         4         32 2004-10-10 2009-08-27 2012-07-21
# 5:         5         29 2000-12-05 2005-02-28         NA
## dob stands for date of birth.

str(DT)
# Classes &#39;data.table&#39; and &#39;data.frame&#39;:    5 obs. of  5 variables:
#  $ family_id : int  1 2 3 4 5
#  $ age_mother: int  30 27 26 32 29
#  $ dob_child1: chr  &amp;quot;1998-11-26&amp;quot; &amp;quot;1996-06-22&amp;quot; &amp;quot;2002-07-11&amp;quot; &amp;quot;2004-10-10&amp;quot; ...
#  $ dob_child2: chr  &amp;quot;2000-01-29&amp;quot; NA &amp;quot;2004-04-05&amp;quot; &amp;quot;2009-08-27&amp;quot; ...
#  $ dob_child3: chr  NA NA &amp;quot;2007-09-02&amp;quot; &amp;quot;2012-07-21&amp;quot; ...
#  - attr(*, &amp;quot;.internal.selfref&amp;quot;)=&amp;lt;externalptr&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼è½¬åŒ–DTï¼Œä½¿å¾—æ¯ä¸ªå°å­©çš„å‡ºç”Ÿä¿¡æ¯éƒ½ç‹¬å ä¸€æ¡æ•°æ®&lt;br /&gt;
æˆ‘ä»¬å¯ä»¥å¯¹å‡½æ•° melt() æŒ‡å®šå‚æ•° id.vars å’Œ measure.vars æ¥å®ç°&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT.m1 = melt(DT, id.vars = c(&amp;quot;family_id&amp;quot;, &amp;quot;age_mother&amp;quot;),
        measure.vars = c(&amp;quot;dob_child1&amp;quot;, &amp;quot;dob_child2&amp;quot;, &amp;quot;dob_child3&amp;quot;))
DT.m1
#     family_id age_mother   variable      value
#  1:         1         30 dob_child1 1998-11-26
#  2:         2         27 dob_child1 1996-06-22
#  3:         3         26 dob_child1 2002-07-11
#  4:         4         32 dob_child1 2004-10-10
#  5:         5         29 dob_child1 2000-12-05
#  6:         1         30 dob_child2 2000-01-29
#  7:         2         27 dob_child2         NA
#  8:         3         26 dob_child2 2004-04-05
#  9:         4         32 dob_child2 2009-08-27
# 10:         5         29 dob_child2 2005-02-28
# 11:         1         30 dob_child3         NA
# 12:         2         27 dob_child3         NA
# 13:         3         26 dob_child3 2007-09-02
# 14:         4         32 dob_child3 2012-07-21
# 15:         5         29 dob_child3         NA
str(DT.m1)
# Classes &#39;data.table&#39; and &#39;data.frame&#39;:    15 obs. of  4 variables:
#  $ family_id : int  1 2 3 4 5 1 2 3 4 5 ...
#  $ age_mother: int  30 27 26 32 29 30 27 26 32 29 ...
#  $ variable  : Factor w/ 3 levels &amp;quot;dob_child1&amp;quot;,&amp;quot;dob_child2&amp;quot;,..: 1 1 1 1 1 2 2 2 2 2 ...
#  $ value     : chr  &amp;quot;1998-11-26&amp;quot; &amp;quot;1996-06-22&amp;quot; &amp;quot;2002-07-11&amp;quot; &amp;quot;2004-10-10&amp;quot; ...
#  - attr(*, &amp;quot;.internal.selfref&amp;quot;)=&amp;lt;externalptr&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‚æ•° measure.vars æŒ‡å®šäº†æƒ³è¦æ‹†åˆ†ï¼ˆæˆ–åˆå¹¶ï¼‰çš„åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šç´¢å¼•è€Œä¸æ˜¯åˆ—åã€‚&lt;/li&gt;
&lt;li&gt;é»˜è®¤çš„ï¼Œvariableåˆ—æ˜¯ factorï¼ˆå› å­ï¼‰ç±»å‹çš„ã€‚å¦‚æœä½ æƒ³è¿”å›ä¸€ä¸ªå­—ç¬¦å‹çš„å‘é‡ï¼Œå¯ä»¥å°†å‚æ•° variable.factor è®¾ä¸º FALSEã€‚å‚æ•° variable.factor æ˜¯data.tableçš„å‡½æ•°melt() é‡Œç‹¬æœ‰çš„ï¼Œå¢å¼ºåŒ…reshape2 é‡Œé¢æ²¡æœ‰è¿™ä¸ªå‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;é»˜è®¤çš„ï¼Œè½¬åŒ–æœçš„åˆ—è¢«è‡ªåŠ¨å‘½åä¸º variable å’Œ valueã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ç»“æœé‡Œï¼Œå‡½æ•°melt() ä¿æŒäº†åŸæ¥åˆ—çš„å±æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ï¼åˆ†åˆ«å°† variableåˆ—å’Œ valueåˆ—é‡å‘½åä¸º child å’Œ dob&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT.m1 = melt(DT, measure.vars = c(&amp;quot;dob_child1&amp;quot;, &amp;quot;dob_child2&amp;quot;, &amp;quot;dob_child3&amp;quot;),
           variable.name = &amp;quot;child&amp;quot;, value.name = &amp;quot;dob&amp;quot;)
DT.m1
#     family_id age_mother      child        dob
#  1:         1         30 dob_child1 1998-11-26
#  2:         2         27 dob_child1 1996-06-22
#  3:         3         26 dob_child1 2002-07-11
#  4:         4         32 dob_child1 2004-10-10
#  5:         5         29 dob_child1 2000-12-05
#  6:         1         30 dob_child2 2000-01-29
#  7:         2         27 dob_child2         NA
#  8:         3         26 dob_child2 2004-04-05
#  9:         4         32 dob_child2 2009-08-27
# 10:         5         29 dob_child2 2005-02-28
# 11:         1         30 dob_child3         NA
# 12:         2         27 dob_child3         NA
# 13:         3         26 dob_child3 2007-09-02
# 14:         4         32 dob_child3 2012-07-21
# 15:         5         29 dob_child3         NA
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é»˜è®¤çš„ï¼Œå‚æ•°id.vars æˆ– measure.vars ä¸­çš„ä¸€ä¸ªçœç•¥äº†ï¼Œå‰©ä½™çš„åˆ—è‡ªåŠ¨è¢«èµ‹å€¼ç»™çœç•¥çš„é‚£ä¸ªå‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå‚æ•°id.vars å’Œ measure.vars éƒ½æ²¡æœ‰æŒ‡å®šï¼Œæ‰€æœ‰ä¸æ˜¯numbericï¼integerï¼logicalçš„åˆ—éƒ½ä¼šè¢«èµ‹å€¼ç»™ id.varsã€‚å¦å¤–ï¼Œç³»ç»Ÿè¿˜ä¼šè¾“å‡ºä¸€æ¡è­¦å‘Šæ¶ˆæ¯ï¼Œæç¤ºé‚£äº›åˆ—è¢«è®¤ä¸ºæ˜¯ id.varsã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;b-å‡½æ•°cast:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;b) å‡½æ•°cast&lt;/h4&gt;

&lt;p&gt;åœ¨å‰é¢ä¸€èŠ‚ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚ä½•åˆ†æ‹†æ•°æ®ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å­¦ä¹ ç›¸åçš„æ“ä½œã€‚&lt;br /&gt;
ï¼å¦‚ä½•å°†åˆšåˆšåˆ†æ‹†çš„ DT.m è¿˜åŸæˆ DT&lt;br /&gt;
ä¹Ÿå°±æ˜¯ï¼Œæˆ‘ä»¬æƒ³æŠŠæ¯ä¸ªå®¶åº­ï¼æ¯äº²çš„æ‰€æœ‰å°å­©ï¼Œéƒ½åˆå¹¶åˆ°åŒä¸€è¡Œé‡Œã€‚æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨å‡½æ•° dcast()ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dcast(DT.m1, family_id + age_mother ~ child, value.var = &amp;quot;dob&amp;quot;)
#    family_id age_mother dob_child1 dob_child2 dob_child3
# 1:         1         30 1998-11-26 2000-01-29         NA
# 2:         2         27 1996-06-22         NA         NA
# 3:         3         26 2002-07-11 2004-04-05 2007-09-02
# 4:         4         32 2004-10-10 2009-08-27 2012-07-21
# 5:         5         29 2000-12-05 2005-02-28         NA
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‡½æ•° dcast() ä½¿ç”¨äº†æ“ä½œç¬¦â€œ~â€ï¼Œå·¦è¾¹æ˜¯ä½œä¸º id.vars çš„åˆ—ï¼Œå³è¾¹æ˜¯ä½œä¸º measure.vars çš„åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;å‚æ•° value.var æŒ‡å®šäº†éœ€è¦è¢«åˆ†æ‹†æ‰©å¼ çš„åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;å‡½æ•° dcast() ä¹Ÿä¼šåœ¨ç»“æœä¸­å°½é‡ä¿æŒåŸæ¥çš„å±æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ï¼å¯¹äº DT.mï¼Œå¦‚ä½•çŸ¥é“æ¯ä¸ªå®¶åº­æœ‰å‡ ä¸ªå°å­©&lt;br /&gt;
å¯ä»¥ç»™å‡½æ•° dcast() çš„å‚æ•° fun.aggregate ä¼ é€’ä¸€ä¸ªå‡½æ•°ã€‚å½“æ“ä½œç¬¦â€œ~â€ä¸æ–¹ä¾¿æŒ‡å®šåˆ—åçš„æ—¶å€™ï¼Œè¿™ä¸ªåŠŸèƒ½ç‰¹åˆ«æœ‰ç”¨ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dcast(DT.m1, family_id ~ ., fun.agg = function(x) sum(!is.na(x)), value.var = &amp;quot;dob&amp;quot;)
#    family_id .
# 1:         1 2
# 2:         2 1
# 3:         3 3
# 4:         4 3
# 5:         5 2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¾“å…¥ ?dcast å¯ä»¥æŸ¥çœ‹å…¶ä»–å‚æ•°å’Œä¾‹å­çš„è¯´æ˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;2-åŸç”Ÿçš„melt-dcastçš„å±€é™:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;2.åŸç”Ÿçš„meltï¼dcastçš„å±€é™&lt;/h2&gt;

&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å‡½æ•° melt å’Œ dcast çš„åŠŸèƒ½ï¼Œå®ƒä»¬æ˜¯åŸºäºå¢å¼ºåŒ… reshape2 çš„ã€‚ä½†æ˜¯å› ä¸ºä½¿ç”¨äº†data.tableçš„å†…éƒ¨æœºåˆ¶ï¼ˆå¿«é€Ÿæ’åºï¼ŒäºŒåˆ†æ³•æœç´¢ç­‰ï¼‰ï¼Œæ‰€ä»¥èƒ½æœ‰æ•ˆåœ°å¯¹data.tableå®è¡Œã€‚&lt;br /&gt;
ç„¶è€Œï¼Œä¹Ÿæœ‰ä¸€äº›æƒ…å†µï¼Œæˆ‘ä»¬æƒ³åšçš„æ“ä½œæ— æ³•å†™å¾—å¾ˆç®€æ´ã€‚æ¯”å¦‚ï¼Œè€ƒè™‘ä¸‹é¢è¿™ä¸ªdata.tableï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT = fread(&amp;quot;melt_enhanced.csv&amp;quot;)
DT
#    family_id age_mother dob_child1 dob_child2 dob_child3 gender_child1 gender_child2 gender_child3
# 1:         1         30 1998-11-26 2000-01-29         NA             1             2            NA
# 2:         2         27 1996-06-22         NA         NA             2            NA            NA
# 3:         3         26 2002-07-11 2004-04-05 2007-09-02             2             2             1
# 4:         4         32 2004-10-10 2009-08-27 2012-07-21             1             1             1
# 5:         5         29 2000-12-05 2005-02-28         NA             2             1            NA
## 1 = female, 2 = male
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä½ æƒ³ç”¨æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢å­¦è¿‡çš„çŸ¥è¯†ï¼Œå°†æ¯ä¸ªå­©å­çš„ dob å’Œ gender åˆå¹¶åˆ°ä¸€è¡Œä¸­ï¼Œå¾—è¿™æ ·åšï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT.m1 = melt(DT, id = c(&amp;quot;family_id&amp;quot;, &amp;quot;age_mother&amp;quot;))
# Warning in melt.data.table(DT, id = c(&amp;quot;family_id&amp;quot;, &amp;quot;age_mother&amp;quot;)): &#39;measure.vars&#39; [dob_child1,
# dob_child2, dob_child3, gender_child1, gender_child2, gender_child3] are not all of the same
# type. By order of hierarchy, the molten data value column will be of type &#39;character&#39;. All measure
# variables not of type &#39;character&#39; will be coerced to. Check DETAILS in ?melt.data.table for more on
# coercion.
DT.m1[, c(&amp;quot;variable&amp;quot;, &amp;quot;child&amp;quot;) := tstrsplit(variable, &amp;quot;_&amp;quot;, fixed = TRUE)]
DT.c1 = dcast(DT.m1, family_id + age_mother + child ~ variable, value.var = &amp;quot;value&amp;quot;)
DT.c1
#     family_id age_mother  child        dob gender
#  1:         1         30 child1 1998-11-26      1
#  2:         1         30 child2 2000-01-29      2
#  3:         1         30 child3         NA     NA
#  4:         2         27 child1 1996-06-22      2
#  5:         2         27 child2         NA     NA
#  6:         2         27 child3         NA     NA
#  7:         3         26 child1 2002-07-11      2
#  8:         3         26 child2 2004-04-05      2
#  9:         3         26 child3 2007-09-02      1
# 10:         4         32 child1 2004-10-10      1
# 11:         4         32 child2 2009-08-27      1
# 12:         4         32 child3 2012-07-21      1
# 13:         5         29 child1 2000-12-05      2
# 14:         5         29 child2 2005-02-28      1
# 15:         5         29 child3         NA     NA

str(DT.c1) ## gender column is character type now!
# Classes &#39;data.table&#39; and &#39;data.frame&#39;:    15 obs. of  5 variables:
#  $ family_id : int  1 1 1 2 2 2 3 3 3 4 ...
#  $ age_mother: int  30 30 30 27 27 27 26 26 26 32 ...
#  $ child     : chr  &amp;quot;child1&amp;quot; &amp;quot;child2&amp;quot; &amp;quot;child3&amp;quot; &amp;quot;child1&amp;quot; ...
#  $ dob       : chr  &amp;quot;1998-11-26&amp;quot; &amp;quot;2000-01-29&amp;quot; NA &amp;quot;1996-06-22&amp;quot; ...
#  $ gender    : chr  &amp;quot;1&amp;quot; &amp;quot;2&amp;quot; NA &amp;quot;2&amp;quot; ...
#  - attr(*, &amp;quot;.internal.selfref&amp;quot;)=&amp;lt;externalptr&amp;gt; 
#  - attr(*, &amp;quot;sorted&amp;quot;)= chr  &amp;quot;family_id&amp;quot; &amp;quot;age_mother&amp;quot; &amp;quot;child&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é—®é¢˜ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;æˆ‘ä»¬æƒ³åšçš„æ˜¯ï¼Œåˆ†åˆ«å°†æ¯ä¸ªå­©å­çš„ dob å’Œ gender åˆå¹¶åˆ°ä¸€è¡Œã€‚ä½†æ˜¯æˆ‘ä»¬å…ˆæŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½æ‹†åˆ†å¼€äº†ï¼Œå†å°†å®ƒä»¬åˆå¹¶ã€‚å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œè¿™å¤ªè¿‡è¿‚å›å’Œä½æ•ˆäº†ã€‚
ç±»ä¼¼çš„ï¼Œæƒ³æƒ³ä½ çš„å£æ©±é‡Œæœ‰4æ¶å­çš„è¡£æœï¼Œä½ æƒ³æŠŠç¬¬1æ¶å’Œç¬¬2æ¶çš„è¡£æœå…¨éƒ½æ”¾åˆ°ç¬¬1æ¶ä¸Šï¼ŒæŠŠç¬¬3æ¶å’Œç¬¬4æ¶çš„è¡£æœå…¨éƒ½æ”¾åˆ°ç¬¬3æ¶ä¸Šã€‚æˆ‘ä»¬åˆšåˆšåšçš„äº‹æƒ…ï¼Œå°±åƒæŠŠ4æ¶è¡£æœéƒ½æ”¾ä¸€èµ·ï¼Œå†åˆ†å¼€æ”¾åˆ°ç¬¬1æ¶å’Œç¬¬3æ¶ä¸Šï¼&lt;/li&gt;
&lt;li&gt;éœ€è¦è¢«æ•´åˆçš„åˆ—å¯èƒ½æ˜¯ä¸åŒçš„ç±»å‹ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œæ˜¯å­—ç¬¦å‹å’Œæ•´å‹ã€‚ä½¿ç”¨å‡½æ•°melt çš„æ—¶å€™ï¼Œè¿™äº›åˆ—è¢«ç¡¬å¡åˆ°ç»“æœé‡Œé¢ï¼Œæ­£å¦‚str(DT.c1)çš„è­¦å‘Šæ¶ˆæ¯æ‰€æç¤ºçš„ï¼Œgenderåˆ—è¢«è½¬åŒ–æˆäº†å­—ç¬¦å‹ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬å°†variableæ‹†åˆ†æˆäº†ä¸¤åˆ—ï¼Œå› æ­¤é¢å¤–å¤šäº†ä¸€åˆ—ï¼Œè¿™æ ·åšçš„ç›®çš„çœŸæ˜¯éå¸¸æ¨¡ç³Šã€‚æˆ‘ä»¬è¿™ä¹ˆåšæ˜¯å› ä¸ºä¸‹ä¸€æ­¥æˆ‘ä»¬éœ€è¦è½¬åŒ–è¿™ä¸€åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œæˆ‘ä»¬æ•´åˆäº†æ•°æ®ã€‚ä½†æ˜¯é—®é¢˜æ˜¯æˆ‘ä»¬å¼•å…¥å¾ˆå¤šæ“ä½œã€‚ç‰¹åˆ«æ˜¯ï¼Œå¿…é¡»è¦è®¡ç®—ç­‰å¼ä¸­å˜é‡çš„é¡ºåºï¼Œä»£ä»·å¤ªå¤§ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;äº‹å®ä¸Šï¼Œbase::reshape æœ‰ç®€å•çš„å†™æ³•æ¥å®ç°è¿™ä¸ªæ“ä½œã€‚å®ƒéå¸¸æœ‰ç”¨ï¼Œè€Œä¸”ç»å¸¸è¢«ä½ä¼°ã€‚ä½ åº”è¯¥è¯•è¯•ï¼&lt;/p&gt;

&lt;h2 id=&#34;3-å¢å¼ºçš„æ–°åŠŸèƒ½:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;3.å¢å¼ºçš„æ–°åŠŸèƒ½&lt;/h2&gt;

&lt;h4 id=&#34;a-å¢å¼ºçš„melt:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;a) å¢å¼ºçš„melt&lt;/h4&gt;

&lt;p&gt;æ—¢ç„¶æˆ‘ä»¬å¸Œæœ›ç®€å•åœ°å®ç°åŒæ ·çš„æ“ä½œï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªé¢å¤–çš„åŠŸèƒ½ï¼Œè¿™æ ·å°±å¯ä»¥åŒæ—¶æ“ä½œå¤šä¸ªåˆ—ã€‚&lt;br /&gt;
ï¼ç”¨å‡½æ•°melt åŒæ—¶æ‹†åˆ†å¤šä¸ªåˆ—&lt;br /&gt;
è¿™ä¸ªåŠæ³•å¾ˆç®€å•ã€‚æˆ‘ä»¬ç»™å‚æ•° measure.vars ä¼ é€’ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ åŒ…å«éœ€è¦è¢«åˆå¹¶çš„åˆ—ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;colA = paste(&amp;quot;dob_child&amp;quot;, 1:3, sep = &amp;quot;&amp;quot;)
colB = paste(&amp;quot;gender_child&amp;quot;, 1:3, sep = &amp;quot;&amp;quot;)
DT.m2 = melt(DT, measure = list(colA, colB), value.name = c(&amp;quot;dob&amp;quot;, &amp;quot;gender&amp;quot;))
DT.m2
#     family_id age_mother variable        dob gender
#  1:         1         30        1 1998-11-26      1
#  2:         2         27        1 1996-06-22      2
#  3:         3         26        1 2002-07-11      2
#  4:         4         32        1 2004-10-10      1
#  5:         5         29        1 2000-12-05      2
#  6:         1         30        2 2000-01-29      2
#  7:         2         27        2         NA     NA
#  8:         3         26        2 2004-04-05      2
#  9:         4         32        2 2009-08-27      1
# 10:         5         29        2 2005-02-28      1
# 11:         1         30        3         NA     NA
# 12:         2         27        3         NA     NA
# 13:         3         26        3 2007-09-02      1
# 14:         4         32        3 2012-07-21      1
# 15:         5         29        3         NA     NA

str(DT.m2) ## col type is preserved
# Classes &#39;data.table&#39; and &#39;data.frame&#39;:    15 obs. of  5 variables:
#  $ family_id : int  1 2 3 4 5 1 2 3 4 5 ...
#  $ age_mother: int  30 27 26 32 29 30 27 26 32 29 ...
#  $ variable  : Factor w/ 3 levels &amp;quot;1&amp;quot;,&amp;quot;2&amp;quot;,&amp;quot;3&amp;quot;: 1 1 1 1 1 2 2 2 2 2 ...
#  $ dob       : chr  &amp;quot;1998-11-26&amp;quot; &amp;quot;1996-06-22&amp;quot; &amp;quot;2002-07-11&amp;quot; &amp;quot;2004-10-10&amp;quot; ...
#  $ gender    : int  1 2 2 1 2 2 NA 2 1 1 ...
#  - attr(*, &amp;quot;.internal.selfref&amp;quot;)=&amp;lt;externalptr&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼å‡½æ•° patterns()&lt;br /&gt;
é€šå¸¸ï¼Œæˆ‘ä»¬æƒ³æ•´åˆçš„è¿™äº›åˆ—çš„åˆ—åéƒ½æœ‰å…±é€šçš„æ ¼å¼ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å‡½æ•°patterns()æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼ï¼Œè®©è¯­æ³•æ›´ç®€æ´ã€‚ä¸Šé¢çš„æ“ä½œè¿˜å¯ä»¥è¿™æ ·å†™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DT.m2 = melt(DT, measure = patterns(&amp;quot;^dob&amp;quot;, &amp;quot;^gender&amp;quot;), value.name = c(&amp;quot;dob&amp;quot;, &amp;quot;gender&amp;quot;))
DT.m2
#     family_id age_mother variable        dob gender
#  1:         1         30        1 1998-11-26      1
#  2:         2         27        1 1996-06-22      2
#  3:         3         26        1 2002-07-11      2
#  4:         4         32        1 2004-10-10      1
#  5:         5         29        1 2000-12-05      2
#  6:         1         30        2 2000-01-29      2
#  7:         2         27        2         NA     NA
#  8:         3         26        2 2004-04-05      2
#  9:         4         32        2 2009-08-27      1
# 10:         5         29        2 2005-02-28      1
# 11:         1         30        3         NA     NA
# 12:         2         27        3         NA     NA
# 13:         3         26        3 2007-09-02      1
# 14:         4         32        3 2012-07-21      1
# 15:         5         29        3         NA     NA
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±æ˜¯è¿™æ ·ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥å»æ‰ variableåˆ—ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªåŠŸèƒ½æ˜¯ç”¨Cå®ç°çš„ï¼Œå› æ­¤æ•ˆç‡é«˜ï¼ŒèŠ‚çœå†…å­˜ï¼Œè€Œä¸”ç®€æ´ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;b-å¢å¼ºçš„dcast:8a0e17190d0dbfa1c06f28f3c1a1fd66&#34;&gt;b) å¢å¼ºçš„dcast&lt;/h4&gt;

&lt;p&gt;éå¸¸å¥½ï¼ç°åœ¨æˆ‘ä»¬å¯ä»¥åŒæ—¶æ‹†åˆ†å¤šä¸ªåˆ—äº†ã€‚ç°åœ¨æˆ‘ä»¬å¦‚ä½•å°†ä¸Šé¢çš„ DT.m2 å†æ¢å¤æˆåŸæ¥çš„æ ·å­å‘¢ï¼Ÿ&lt;br /&gt;
å¦‚æœæˆ‘ä»¬ä½¿ç”¨åŸç”Ÿçš„å‡½æ•°dcast()ï¼Œæˆ‘ä»¬éœ€è¦åšä¸¤æ¬¡ï¼Œç„¶åå°†ç»“æœåˆå¹¶åœ¨ä¸€èµ·ã€‚ä½†æ˜¯è¿™æ ·åšå¤ªéº»çƒ¦ï¼Œä¸€ç‚¹ä¹Ÿä¸ç®€æ´å’Œæœ‰æ•ˆã€‚&lt;br /&gt;
ï¼åŒæ—¶åˆå¹¶å¤šä¸ª value.vars&lt;br /&gt;
æˆ‘ä»¬å¯ä»¥å¯¹å‡½æ•°dcast()æŒ‡å®šå¤šä¸ª value.varå‚æ•°ï¼Œè¿™æ ·æ“ä½œå°±åœ¨å†…éƒ¨è¿›è¡Œï¼Œè€Œä¸”é«˜æ•ˆã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;## new &#39;cast&#39; functionality - multiple value.vars
DT.c2 = dcast(DT.m2, family_id + age_mother ~ variable, value.var = c(&amp;quot;dob&amp;quot;, &amp;quot;gender&amp;quot;))
DT.c2
#    family_id age_mother      dob_1      dob_2      dob_3 gender_1 gender_2 gender_3
# 1:         1         30 1998-11-26 2000-01-29         NA        1        2       NA
# 2:         2         27 1996-06-22         NA         NA        2       NA       NA
# 3:         3         26 2002-07-11 2004-04-05 2007-09-02        2        2        1
# 4:         4         32 2004-10-10 2009-08-27 2012-07-21        1        1        1
# 5:         5         29 2000-12-05 2005-02-28         NA        2        1       NA
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨ç»“æœä¸­ï¼ŒåŸå…ˆçš„å±æ€§ä¼šå°½é‡ä¿æŒã€‚&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰çš„äº‹æƒ…éƒ½åœ¨å†…éƒ¨é«˜æ•ˆå¤„ç†ã€‚å¿«é€Ÿå¹¶ä¸”èŠ‚çœå†…å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å‚æ•°fun.aggregateå¯ä»¥æŒ‡å®šå¤šä¸ªå‡½æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ä½ å¯ä»¥ç»™å‡½æ•°dcast()çš„å‚æ•°fun.aggregateå¯ä»¥æŒ‡å®šå¤šä¸ªå‡½æ•°ã€‚è¯¦ç»†å†…å®¹è¯·æ‰§è¡Œ ?dcast æ¥æŸ¥çœ‹ç¤ºä¾‹ã€‚
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>è½¬ï¼šä»»åŠ¡åˆ‡æ¢æœ‰å®³è®º</title>
      <link>http://youngspring1.github.io/post/2016/2016-04-07-human-task-switches/</link>
      <pubDate>Thu, 07 Apr 2016 22:31:55 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-04-07-human-task-switches/</guid>
      <description>

&lt;blockquote&gt;
&lt;p&gt;ä¹¦æ‘˜ï¼Œæ¥è‡ªã€Šè½¯ä»¶éšæƒ³å½•ã€‹ï¼ŒJoel Spolsky&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨ç®¡ç†ä¸€ä¸ªç¨‹åºå›¢é˜Ÿæ—¶ï¼Œç¬¬ä¸€ä»¶è¦å­¦çš„äº‹å°±æ˜¯ä»»åŠ¡é…ç½®(task allocation)è¦æ­£ç¡®ã€‚ã€Œä»»åŠ¡é…ç½®ã€åªæ˜¯æŠŠäº‹æƒ…åˆ†ç»™å¤§å®¶åšçš„å¤¸å¤§è¯´æ³•ã€‚ç”¨å¸Œä¼¯æ¥æ–‡çš„æ™®é€šè¯æ¥è¯´å°±æ˜¯ã€Œå€’æ–‡ä»¶ã€(å› ä¸ºä½ ä¼šæŠŠæ–‡ä»¶å€’åœ¨æŸäººèº«ä¸Š)ã€‚æœ‰äº›äº‹æƒ…åšå¾—å¯¹ä¼šå¾—åˆ°ä¸å¯æ€è®®çš„ç”Ÿäº§åŠ›åˆ©ç›Šï¼Œå†³å®šå“ªäº›æ–‡ä»¶è¦å€’åœ¨è°èº«ä¸Šå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚åè¿‡æ¥æ²¡åšå¥½çš„è¯å¯èƒ½å°±ä¼šé™·å…¥éº»çƒ¦çš„çŠ¶å†µï¼Œæ²¡æœ‰äººèƒ½åšå¥½ä½•ä»»ä½•äº‹æƒ…è€Œä¸”å¤§å®¶éƒ½æŠ±æ€¨ã€Œåœ¨è¿™é‡Œä»€ä¹ˆäº‹éƒ½åšä¸èµ·æ¥ã€‚ã€&lt;/p&gt;

&lt;p&gt;ç”±äºè¿™æ˜¯ä¸ªé’ˆå¯¹ç¨‹åºå‘˜çš„ç½‘ç«™ï¼Œæˆ‘è¦æ‹¿ä¸ªç¨‹åºè®¾è®¡é—®é¢˜è®©ä½ çš„è„‘è¢‹åŠ¨ä¸€åŠ¨æš–æš–èº«ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾ä½ æœ‰Aå’ŒBä¸¤ä»¶è¿ç®—è¦åšã€‚æ¯ä¸€ä»¶éƒ½éœ€10ç§’çš„CPUæ—¶é—´ã€‚ç°åœ¨ä½ æœ‰ä¸€é¢—CPUï¼Œä¸ºäº†ç®€åŒ–é—®é¢˜ï¼Œæ‰€ä»¥å·¥ä½œåºåˆ—ä¸­æ²¡æœ‰å…¶ä»–ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æˆ‘ä»¬çš„CPUä¸­å¯ä»¥é€‰æ‹©æ˜¯å¦ç”¨å¤šå·¥å¤„ç†ã€‚æ‰€ä»¥ä½ å¯ä»¥å…ˆåšå¥½ä¸€ä»¶å†åšå¦ä¸€ä»¶ã€‚&lt;/p&gt;

&lt;h5 id=&#34;å¾ªåºå¤„ç†:adf6769e1c0a1dd908086b693a0d7412&#34;&gt;å¾ªåºå¤„ç†&lt;/h5&gt;

&lt;p&gt;è¿ç®—A&lt;br /&gt;
1   2   3   4   5   6   7   8   9   10&lt;br /&gt;
è¿ç®—B&lt;br /&gt;
11  12  13  14  15  16  17  18  19  20&lt;/p&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šå·¥æ–¹å¼ã€‚å¦‚æœç”¨å¤šå·¥çš„è¯å¯ä»¥å‡è®¾è¿™é¢—ç‰¹åˆ«çš„CPUæ¯ä¸ªå·¥ä½œæ¯æ¬¡å¯ä»¥æ‰§è¡Œä¸€ç§’ï¼Œè€Œä¸”å·¥ä½œåˆ‡æ¢å®Œå…¨ä¸èŠ±æ—¶é—´ã€‚&lt;/p&gt;

&lt;h5 id=&#34;å¤šå·¥å¤„ç†:adf6769e1c0a1dd908086b693a0d7412&#34;&gt;å¤šå·¥å¤„ç†&lt;/h5&gt;

&lt;p&gt;è¿ç®—A&lt;br /&gt;
1   3   5   7   9   11  13  15  17  19&lt;br /&gt;
è¿ç®—B&lt;br /&gt;
2   4   6   8   10  12  14  16  18  20&lt;/p&gt;

&lt;p&gt;ä½ ä¼šé€‰å“ªä¸€ç§æ–¹å¼å‘¢ï¼Ÿå¤§éƒ¨ä»½äººçš„ç›´è§‰ååº”éƒ½è®¤ä¸ºå¤šå·¥æ¯”è¾ƒå¥½ã€‚ä¸ç®¡å“ªä¸€ç§çŠ¶å†µï¼Œéƒ½å¾—ç­‰20ç§’æ‰èƒ½ä¸¤ä»¶è¿ç®—éƒ½å®Œæˆã€‚ä¸è¿‡å¯ä»¥æƒ³æƒ³å•å°±å„ä»¶è¿ç®—æ¥è¯´è¦å¤šä¹…æ‰æœ‰ç»“æœã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸¤ç§çŠ¶å†µä¸‹ï¼Œè¿ç®—B(æ ‡æˆè“è‰²)éƒ½è¦20ç§’æ‰å¾—åˆ°ç»“æœã€‚ä¸è¿‡è¿ç®—Açš„ç»“æœåœ¨å¤šå·¥æ—¶éœ€è¦19ç§’ã€‚å¯æ˜¯å¾ªåºæ—¶å°±åªè¦10ç§’å°±å¥½äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ¢å¥è¯æ¥è¯´åœ¨è¿™ä¸ªå®‰æ’å¥½çš„ä¾‹å­ä¸­ï¼Œå¾ªåºå¤„ç†çš„æ¯ä»¶è¿ç®—çš„å¹³å‡æ—¶é—´æ¯”å¤šå·¥å¤„ç†å°‘(15ç§’å¯¹19.5ç§’)ã€‚(äº‹å®ä¸Šè¿™ä¾‹å­ä¹Ÿå¹¶ä¸æ˜¯çœŸçš„é‚£ä¹ˆå‡ - å®ƒæ˜¯æºäºJaredåœ¨å·¥ä½œä¸Šå¿…é¡»è§£å†³çš„ä¸€ä¸ªçœŸå®é—®é¢˜ã€‚)&lt;/p&gt;

&lt;p&gt;æ–¹æ³•  è¿ç®—AèŠ±çš„æ—¶é—´ è¿ç®—BèŠ±çš„æ—¶é—´ å¹³å‡&lt;br /&gt;
å¾ªåºå¤„ç†    10ç§’ 20ç§’ 15&lt;br /&gt;
å¤šå·¥å¤„ç†    19ç§’ 20ç§’ 19.5&lt;/p&gt;

&lt;p&gt;æˆ‘åˆšåˆšè¯´è¿‡ã€Œå·¥ä½œåˆ‡æ¢å®Œå…¨ä¸èŠ±æ—¶é—´ã€ã€‚å…¶å®åœ¨çœŸçš„CPUä¸­å·¥ä½œåˆ‡æ¢æ˜¯éœ€è¦ä¸€ç‚¹ç‚¹æ—¶é—´çš„ï¼ŒåŸºæœ¬ä¸Šè¦è¶³å¤Ÿå‚¨å­˜CPUæš‚å­˜å™¨çš„çŠ¶æ€å¹¶è½½å…¥å…¶ä»–å·¥ä½œçš„CPUæš‚å­˜å™¨ã€‚å®é™…ä¸Šè¿™çŸ­åˆ°å‡ ä¹å¯ä»¥å¿½ç•¥ã€‚ä¸è¿‡ä¸ºäº†è®©ç”Ÿæ´»æ›´å¤šä¹è¶£ï¼Œè®©æˆ‘ä»¬å‡è®¾å·¥ä½œåˆ‡æ¢éœ€è¦åŠç§’ã€‚ç°åœ¨æƒ…å†µå˜å¾—æ›´ç³Ÿäº†ï¼š&lt;/p&gt;

&lt;p&gt;æ–¹æ³•  è¿ç®—AèŠ±çš„æ—¶é—´ è¿ç®—BèŠ±çš„æ—¶é—´ å¹³å‡&lt;br /&gt;
å¾ªåºå¤„ç†    10ç§’ 20ç§’ + 1æ¬¡å·¥ä½œåˆ‡æ¢ = 20.5ç§’    15.25&lt;br /&gt;
å¤šå·¥å¤„ç†    19ç§’ + 18æ¬¡å·¥ä½œåˆ‡æ¢ = 28ç§’ 20ç§’ + 19æ¬¡å·¥ä½œåˆ‡æ¢ = 29.5ç§’   28.75&lt;/p&gt;

&lt;p&gt;ç°åœ¨å‘¢ï¼Œè™½ç„¶æˆ‘çŸ¥é“è¿™æœ‰ç‚¹è ¢ï¼Œä¸è¿‡å°±ç®—ä¸ºäº†è®©æˆ‘é«˜å…´ä¸€ä¸‹ï¼Œæƒ³æƒ³å¦‚æœå·¥ä½œåˆ‡æ¢éœ€è¦ä¸€åˆ†é’Ÿæ‹¿å¦‚ä½•ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æ–¹æ³•  è¿ç®—AèŠ±çš„æ—¶é—´ è¿ç®—BèŠ±çš„æ—¶é—´ å¹³å‡&lt;br /&gt;
å¾ªåºå¤„ç†    10ç§’ 20ç§’ + 1æ¬¡å·¥ä½œåˆ‡æ¢ = 80ç§’  45ç§’&lt;br /&gt;
å¤šå·¥å¤„ç†    19ç§’ + 18æ¬¡å·¥ä½œåˆ‡æ¢ = 1099ç§’   20ç§’ + 19æ¬¡å·¥ä½œåˆ‡æ¢ = 1160ç§’   å‡ è¿‘19åˆ†é’Ÿ!!&lt;/p&gt;

&lt;p&gt;å·¥ä½œåˆ‡æ¢ç”¨çš„æ—¶é—´æ„ˆé•¿ï¼Œå¤šå·¥å¤„ç†çš„ä»£ä»·æ„ˆå¤§ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä»¶äº‹æœ¬èº«ä¸æ€ä¹ˆæ–°å¥‡ï¼Œä¸æ˜¯å—ï¼Ÿä¸ä¹…å¤§æ¦‚å°±ä¼šæœ‰äº›ç™½ç—´æ°”æ„¤åœ°å†™ä¿¡æŒ‡æ§æˆ‘ã€Œåå¯¹ã€å¤šå·¥å¤„ç†äº†ã€‚ä»–ä»¬ä¼šè´¨é—®æˆ‘ï¼šã€Œä½ çœŸçš„æƒ³è¦å›åˆ°é‚£ç§å¾—å…ˆç»“æŸWordPerfectæ‰èƒ½æ‰§è¡ŒLotus 1-2-3çš„DOSæ—¶ä»£å—ï¼Ÿã€&lt;/p&gt;

&lt;p&gt;ä¸è¿‡é‚£å¹¶ä¸æ˜¯æˆ‘çš„æ„æ€ã€‚æˆ‘åªæ˜¯æƒ³è¦ä½ åŒæ„ï¼Œåœ¨è¿™ç±»ä¾‹å­ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¾ªåºå¤„ç†ä¼šè®©ç»“æœå¹³å‡ä¸Šæ¯”è¾ƒå¿«å¾—åˆ°ï¼Œè€Œä¸”&lt;/li&gt;
&lt;li&gt;å·¥ä½œåˆ‡æ¢éœ€è¦æ„ˆä¹…ï¼Œå¤šå·¥å¤„ç†æ‰€ä»˜çš„ä»£ä»·å°±æ„ˆå¤§ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¤Ÿäº†ï¼Œåˆ«ç®¡CPUäº†ï¼Œæ¥ç®¡ç®¡äººå§ï¼Œè¿™æœ‰è¶£å¤šäº†ã€‚è¿™é‡Œçš„é‡ç‚¹åœ¨äºç®¡ç†ã€Œç¨‹åºå‘˜ã€æ—¶ï¼Œå·¥ä½œåˆ‡æ¢ä¼šéœ€è¦å¾ˆé•¿å¾ˆé•¿çš„æ—¶é—´ã€‚å› ä¸ºç¨‹åºè®¾è®¡è¿™ç§å·¥ä½œå¿…é¡»åŒæ—¶åœ¨è„‘è¢‹é‡Œè®°å¾ˆå¤šä¸œè¥¿ã€‚å¦å¤–è®°ä½çš„ä¸œè¥¿æ„ˆå¤šï¼Œå†™ç¨‹åºæ—¶ç”Ÿäº§åŠ›æ„ˆé«˜ã€‚ç”¨å…¨é€Ÿå†™ç¨‹åºçš„ç¨‹åºå‘˜è„‘é‡Œéšæ—¶éƒ½ä¼šè®°ä½æ— æ•°çš„äº‹æƒ…ï¼šå˜é‡åç§°ï¼Œæ•°æ®ç»“æ„ï¼Œé‡è¦çš„APIï¼Œå†™è¿‡å¸¸è¦ç”¨åˆ°çš„è¾…åŠ©å‡½æ•°åç§°ï¼Œç”šè‡³å­˜æ”¾æºä»£ç çš„æ¬¡ç›®å½•åç§°ï¼Œä¸€åˆ‡ä¸œè¥¿éƒ½è¦è®°ä½ã€‚å¦‚æœä½ æŠŠç¨‹åºå‘˜é€åˆ°å…‹åˆ©ç‰¹å²›å»åº¦å‡ä¸‰æ˜ŸæœŸï¼Œä»–æ‰€æœ‰ä¸œè¥¿é€šé€šéƒ½ä¼šå¿˜æ‰ã€‚äººè„‘ä¼¼ä¹ä¼šæŠŠä¸œè¥¿ç§»å‡ºçŸ­æœŸRAMï¼Œæ”¹å­˜åˆ°æ°¸è¿œéƒ½è¯»ä¸å›æ¥çš„å¤‡ä»½ç£å¸¦ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;è¦å¤šä¹…å‘¢ï¼Ÿå—¯ï¼Œæˆ‘çš„è½¯ä»¶å…¬å¸æœ€è¿‘æ”¾ä¸‹æ‰‹å¤´ä¸Šåœ¨åšçš„äº‹(å¼€å‘ä¸€å¥—ä»£å·CityDeskçš„è½¯ä»¶äº§å“)ï¼ŒèŠ±äº†ä¸‰æ˜ŸæœŸå»å¸®åŠ©æŸä¸ªå®¢æˆ·å¤„ç†ä¸€ä¸ªç´§æ€¥çŠ¶å†µã€‚å½“æˆ‘ä»¬å›åˆ°åŠå…¬å®¤æ—¶ï¼Œæ„Ÿè§‰å¥½åƒè¦å¦å¤–ä¸‰æ˜ŸæœŸæ‰èƒ½å›å¤å…¨é€Ÿåˆ¶ä½œCityDeskã€‚&lt;/p&gt;

&lt;p&gt;å°±ä¸ªäººå±‚æ¬¡æ¥è¯´ï¼Œä½ æ›¾ç»æ³¨æ„è¿‡æŸä»¶äº‹å—ï¼Ÿå«æŸäººåšä¸€ä¸ªå·¥ä½œå¯ä»¥åšå¾—å¾ˆå¥½ï¼Œå¯æ˜¯å¦‚æœç»™ä»–ä¸¤ä¸ªå·¥ä½œï¼Œä»–ä¼šæŠŠå…¶ä¸­ä¸€ä¸ªåšå¥½å´å¿½ç•¥å¦ä¸€ä¸ªï¼Œä¸ç„¶å°±æ˜¯ä¸¤ä»¶å·¥ä½œéƒ½åšå¾—å¾ˆæ…¢ï¼Œæ…¢åˆ°ä½ è§‰å¾—æ‡’é¬¼éƒ½æ¯”ä»–å‹¤åŠ³ã€‚è¿™æ˜¯å› ä¸ºç¨‹åºè®¾è®¡çš„å·¥ä½œå°±æ˜¯éœ€è¦å¾ˆé•¿çš„åˆ‡æ¢æ—¶é—´ã€‚å°±æˆ‘è‡ªå·±æ¥è¯´ï¼Œå½“æˆ‘éœ€è¦åŒæ—¶å®Œæˆä¸¤ä¸ªç¨‹åºè®¾è®¡é¡¹ç›®æ—¶ï¼Œåˆ‡æ¢æ—¶é—´å¤§æ¦‚è¦å…­ä¸ªå°æ—¶ã€‚ä»¥ä¸€å¤©å…«å°æ—¶æ¥çœ‹ï¼Œç­‰äºè¯´å¤šå·¥å¤„ç†æŠŠæˆ‘çš„ç”Ÿäº§åŠ›é™åˆ°æ¯å¤©åªå‰©äºŒå°æ—¶ã€‚çœŸä»¤äººæ²®ä¸§å•Šã€‚&lt;/p&gt;

&lt;p&gt;åŒæ ·çš„é“ç†ï¼Œå¦‚æœä½ ç»™æŸäººä¸¤ä»¶å·¥ä½œï¼Œåº”è¯¥è¦æ„Ÿè°¢ä»–ä»¬åªåšä¸€ä»¶å·¥ä½œè€Œæ”¾å¼ƒå¦ä¸€ä»¶ï¼Œå› ä¸ºè¿™æ ·èƒ½åšå¥½æ›´å¤šçš„äº‹ï¼Œè€Œä¸”å¹³å‡ä¸Šä¹Ÿèƒ½æ›´å¿«å®Œæˆå·¥ä½œã€‚äº‹å®ä¸Šè¿™ä¸€åˆ‡çš„é‡ç‚¹å°±æ˜¯ç»å¯¹ä¸è¦è®©äººåŒæ—¶åšä¸€ä»¶ä»¥ä¸Šçš„äº‹ã€‚è¯·ç¡®å®šä½ æœ‰æ˜ç™½å®ƒçš„æ„æ€ã€‚å¥½çš„ç»ç†äººä¼šè®¤ä¸ºè‡ªå·±çš„è´£ä»»æ˜¯æ¶ˆé™¤éšœç¢ï¼Œå¥½è®©å¤§å®¶éƒ½èƒ½ä¸“æ³¨åœ¨ä¸€ä»¶äº‹æƒ…å¹¶æŠŠå®ƒçœŸçš„å®Œæˆã€‚é‡åˆ°ç´§æ€¥çŠ¶å†µæ—¶ï¼Œè¯·å…ˆæƒ³æƒ³èƒ½ä¸èƒ½è‡ªå·±å¤„ç†æ‰ï¼ŒçœŸçš„ä¸è¡Œå†ä¸¢ç»™æ·±é™·åœ¨é¡¹ç›®ä¸­çš„ç¨‹åºå‘˜å§ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>data.table æ•™ç¨‹4ï¼ˆæ ¡å¯¹ä¸­ï¼‰</title>
      <link>http://youngspring1.github.io/post/2016/2016-04-02-datatable4/</link>
      <pubDate>Sat, 02 Apr 2016 07:38:11 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-04-02-datatable4/</guid>
      <description>

&lt;p&gt;ç›®å½•ï¼š&lt;br /&gt;
1) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-13-datatable1/&#34;&gt;data.table ä»‹ç»&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-21-datatable2/&#34;&gt;è¯­ä¹‰å¼•ç”¨&lt;/a&gt;&lt;br /&gt;
3) &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-22-datatable3/&#34;&gt;ä¸»é”®ã€åŸºäºå¿«é€ŸäºŒåˆ†æ³•æœç´¢çš„subset&lt;/a&gt;&lt;br /&gt;
4) äºŒçº§ç´¢å¼•å’Œè‡ªåŠ¨ç´¢å¼•&lt;br /&gt;
5) Efficient reshaping using data.tables&lt;/p&gt;

&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;br /&gt;
1) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html&#34;&gt;Introduction to data.table&lt;/a&gt;&lt;br /&gt;
2) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html&#34;&gt;Reference semantics&lt;/a&gt;&lt;br /&gt;
3) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html&#34;&gt;Keys and fast binary search based subsets&lt;/a&gt;&lt;br /&gt;
4) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-secondary-indices-and-auto-indexing.html&#34;&gt;Secondary indices and auto indexing&lt;/a&gt;&lt;br /&gt;
5) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html&#34;&gt;Efficient reshaping using data.tables&lt;/a&gt;&lt;br /&gt;
6) &lt;a href=&#34;https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-faq.html&#34;&gt;Frequently asked questions&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;äºŒçº§ç´¢å¼•å’Œè‡ªåŠ¨ç´¢å¼•:3887792cd19298be3383c54afb194a11&#34;&gt;äºŒçº§ç´¢å¼•å’Œè‡ªåŠ¨ç´¢å¼•&lt;/h1&gt;

&lt;p&gt;æœ¬æ•™ç¨‹å‡å®šè¯»è€…å·²ç»ç†Ÿæ‚‰data.tableçš„[i, j, by]è¯­æ³•ã€æ‡‚å¾—å¦‚ä½•åŸºäºäºŒåˆ†æ³•çš„é€‰å–äº†ã€‚å¦‚æœä½ å¯¹è¿™äº›ä¸ç†Ÿæ‚‰ï¼Œè¯·å­¦ä¹ ä¸Šé¢ä¸‰è®² &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-13-datatable1/&#34;&gt;data.table ä»‹ç»&lt;/a&gt; ã€ &lt;a href=&#34;http://youngspring1.github.io/post/2016-03-21-datatable2/&#34;&gt;è¯­ä¹‰å¼•ç”¨&lt;/a&gt;å’Œ&lt;a href=&#34;http://youngspring1.github.io/post/2016-03-22-datatable3/&#34;&gt;ä¸»é”®ã€åŸºäºå¿«é€ŸäºŒåˆ†æ³•æœç´¢çš„subset&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;æ•°æ®:3887792cd19298be3383c54afb194a11&#34;&gt;æ•°æ®&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬ç»§ç»­ä½¿ç”¨å·²ç»ä¿å­˜åˆ°æœ¬åœ°çš„èˆªç­ä¿¡æ¯flightsã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights &amp;lt;- fread(&amp;quot;flights14.csv&amp;quot;)
head(flights)
#    year month day dep_delay arr_delay carrier origin dest air_time distance hour
# 1: 2014     1   1        14        13      AA    JFK  LAX      359     2475    9
# 2: 2014     1   1        -3        13      AA    JFK  LAX      363     2475   11
# 3: 2014     1   1         2         9      AA    JFK  LAX      351     2475   19
# 4: 2014     1   1        -8       -26      AA    LGA  PBI      157     1035    7
# 5: 2014     1   1         2         1      AA    JFK  LAX      350     2475   13
# 6: 2014     1   1         4         0      AA    EWR  LAX      339     2454   18
dim(flights)
# [1] 253316     11
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä»‹ç»:3887792cd19298be3383c54afb194a11&#34;&gt;ä»‹ç»&lt;/h2&gt;

&lt;p&gt;åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä¼šï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è®¨è®ºäºŒçº§ç´¢å¼•ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;å†æ¬¡æ¼”ç¤ºå¿«é€Ÿsubsetï¼Œä½†è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨æ–°çš„å‚æ•°onï¼Œå®ƒèƒ½è‡ªåŠ¨è®¾ç½®äºŒçº§ç´¢å¼•ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åè¿›ä¸€æ­¥çš„ï¼Œæ¥çœ‹ä¸€ä¸‹è‡ªåŠ¨ç´¢å¼•ï¼Œå®ƒä¹Ÿèƒ½è‡ªåŠ¨è®¾ç½®ç´¢å¼•ï¼Œä½†æ˜¯å®ƒæ˜¯åŸºäºRçš„åŸç”Ÿè¯­æ³•æ¥åšsubsetçš„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;1-äºŒçº§ç´¢å¼•:3887792cd19298be3383c54afb194a11&#34;&gt;1.äºŒçº§ç´¢å¼•&lt;/h2&gt;

&lt;h4 id=&#34;a-ä»€ä¹ˆæ˜¯äºŒçº§ç´¢å¼•:3887792cd19298be3383c54afb194a11&#34;&gt;a) ä»€ä¹ˆæ˜¯äºŒçº§ç´¢å¼•&lt;/h4&gt;

&lt;p&gt;äºŒçº§ç´¢å¼•å’Œdata.tableçš„ä¸»é”®ç±»ä¼¼ï¼Œä½†æœ‰ä»¥ä¸‹ä¸¤ç‚¹ä¸åŒï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å®ƒä¸ä¼šå†å†…å­˜é‡Œå°†æ•´ä¸ªdata.tableé‡æ–°æ’åºã€‚å®ƒåªä¼šè®¡ç®—æŸåˆ—çš„é¡ºåºï¼Œå°†è¿™ä¸ªé¡ºåºå‘é‡ä¿å­˜åœ¨ä¸€ä¸ªé¢å¤–çš„ï¼Œå«åšindexçš„å±æ€§é‡Œé¢ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªdata.tableå¯ä»¥æœ‰å¤šä¸ªäºŒçº§ç´¢å¼•ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸‹é¢è¦æ¼”ç¤ºçš„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;b-è®¾ç½®å’Œè·å–äºŒçº§ç´¢å¼•:3887792cd19298be3383c54afb194a11&#34;&gt;b) è®¾ç½®å’Œè·å–äºŒçº§ç´¢å¼•&lt;/h4&gt;

&lt;p&gt;ï¼å¦‚ä½•å°†originåˆ—è®¾ç½®ä¸ºè¯¥data.tableçš„äºŒçº§ç´¢å¼•&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;setindex(flights, origin)
head(flights)
#    year month day dep_delay arr_delay carrier origin dest air_time distance hour
# 1: 2014     1   1        14        13      AA    JFK  LAX      359     2475    9
# 2: 2014     1   1        -3        13      AA    JFK  LAX      363     2475   11
# 3: 2014     1   1         2         9      AA    JFK  LAX      351     2475   19
# 4: 2014     1   1        -8       -26      AA    LGA  PBI      157     1035    7
# 5: 2014     1   1         2         1      AA    JFK  LAX      350     2475   13
# 6: 2014     1   1         4         0      AA    EWR  LAX      339     2454   18

## alternatively we can provide character vectors to the function &#39;setindexv()&#39;
# setindexv(flights, &amp;quot;origin&amp;quot;) # useful to program with

# &#39;index&#39; attribute added
names(attributes(flights))
# [1] &amp;quot;names&amp;quot;             &amp;quot;row.names&amp;quot;         &amp;quot;class&amp;quot;             &amp;quot;.internal.selfref&amp;quot;
# [5] &amp;quot;index&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‡½æ•°setindex å’Œ setindexv()å¯ä»¥å¯¹data.tableæ·»åŠ ä¸€ä¸ªäºŒçº§ç´¢å¼•ã€‚&lt;/li&gt;
&lt;li&gt;æ³¨æ„flightså®é™…ä¸Šæ²¡æœ‰æŒ‰ç…§originåˆ—çš„å‡åºé‡æ–°æ’åˆ—ã€‚è¿˜è®°å¾—å—ï¼Ÿsetkey()ä¼šé‡æ–°æ’åºï¼&lt;/li&gt;
&lt;li&gt;setindex(flights, NULL)ä¼šåˆ é™¤æ‰€æœ‰çš„äºŒçº§ç´¢å¼•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ï¼å¦‚ä½•å–å¾—flightsçš„äºŒçº§ç´¢å¼•&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;indices(flights)
# [1] &amp;quot;origin&amp;quot;

setindex(flights, origin, dest)
indices(flights)
# [1] &amp;quot;origin&amp;quot;       &amp;quot;origin__dest&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‡½æ•°indices()è¿”å›ä¸€ä¸ªdata.tableæ‰€æœ‰çš„äºŒçº§ç´¢å¼•ã€‚å¦‚æœè¯¥data.tableæ²¡æœ‰äºŒçº§ç´¢å¼•ï¼Œé‚£ä¹ˆè¿”å›NULLã€‚&lt;/li&gt;
&lt;li&gt;æ³¨æ„æˆ‘ä»¬å¯¹ originåˆ—,deståˆ—åˆ›å»ºäº†å¦ä¸€ä¸ªäºŒçº§ç´¢å¼•çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¸¢æ‰ä¹‹å‰åˆ›å»ºçš„ç¬¬ä¸€ä¸ªäºŒçº§ç´¢å¼•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªäºŒçº§ç´¢å¼•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;c-ä¸ºä»€ä¹ˆä½¿ç”¨äºŒçº§ç´¢å¼•:3887792cd19298be3383c54afb194a11&#34;&gt;c) ä¸ºä»€ä¹ˆä½¿ç”¨äºŒçº§ç´¢å¼•&lt;/h4&gt;

&lt;p&gt;ï¼å¯¹ä¸€ä¸ªdata.tableé‡æ–°æ’åºæˆæœ¬å¤ªé«˜
è€ƒè™‘ä¸€ä¸‹è¿™ç§æƒ…å†µï¼Œå½“ä½ æƒ³ç”¨ä¸»é”®originåˆ—æ¥subsetæ‰€æœ‰â€œJFKâ€çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾—è¿™ä¹ˆåšï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;## not run
setkey(flights, origin)
flights[&amp;quot;JFK&amp;quot;] # or flights[.(&amp;quot;JFK&amp;quot;)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;setkey()éœ€è¦ï¼š
a.è®¡ç®—å¾—å‡ºoriginåˆ—çš„æ’åºå‘é‡ï¼Œå¹¶ä¸”
b.åŸºäºåˆšåˆšçš„æ’åºå‘é‡ï¼Œå¯¹æ•´ä¸ªdata.tableé‡æ–°æ’åº
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ’åºå¹¶ä¸æ˜¯æœ€èŠ±æ—¶é—´çš„ï¼Œå› ä¸ºdata.tableä½¿ç”¨å¯¹æ•´å‹ã€å­—ç¬¦å‹ã€æ•°å€¼å‹çš„å‘é‡è¿›è¡Œradixæ’åºã€‚ç„¶è€Œé‡æ–°æ’åºå´å¾ˆèŠ±æ—¶é—´ã€‚&lt;br /&gt;
é™¤éæˆ‘ä»¬éœ€è¦å¯¹æŸä¸€åˆ—é‡å¤åœ°è¿›è¡Œsubsetï¼Œå¦åˆ™äºŒåˆ†æ³•å¿«é€Ÿsubsetçš„é«˜æ•ˆå¯èƒ½è¢«é‡æ–°æ’åºæŠµæ¶ˆã€‚&lt;/p&gt;

&lt;p&gt;ï¼ä¸ºæ·»åŠ ï¼æ›´æ–°åˆ—è€Œå¯¹æ•´ä¸ªdata.tableé‡æ–°æ’åºå¹¶ä¸ç†æƒ³&lt;br /&gt;
ï¼æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¸»é”®&lt;br /&gt;
ç°åœ¨æˆ‘ä»¬å¦‚æœæƒ³å¯¹deståˆ—æ˜¯â€œLAXâ€çš„è¡Œï¼Œé‡å¤åœ°è¿›è¡ŒæŸä¸ªç‰¹å®šçš„æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬å¿…é¡»å†è°ƒç”¨å‡½æ•°setkey() è®¾ç½®ä¸€æ¬¡ä¸»é”®ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;## not run
setkey(flights, dest)
flights[&amp;quot;LAX&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·ï¼Œflightsåˆå†æ¬¡æŒ‰deståˆ—é‡æ–°æ’åºäº†ã€‚å…¶å®æˆ‘ä»¬çœŸæ­£æƒ³åšçš„æ˜¯ï¼Œå¿«é€Ÿåœ°subsetåŒæ—¶åˆä¸å¿…é‡æ–°æ’åºã€‚&lt;br /&gt;
è¿™æ—¶å€™ï¼ŒäºŒçº§ç´¢å¼•å°±æ´¾ä¸Šç”¨åœºäº†ï¼&lt;/p&gt;

&lt;p&gt;ï¼äºŒçº§ç´¢å¼•å¯ä»¥è¢«é‡ç”¨&lt;br /&gt;
æ—¢ç„¶ä¸€ä¸ªdata.tableä¸­å¯ä»¥æœ‰å¤šä¸ªäºŒçº§ç´¢å¼•ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªäºŒçº§ç´¢å¼•å°±å’Œå°†ä¸€ä¸ªæ’åºå‘é‡ä¿å­˜ä¸ºå±æ€§ä¸€æ ·ç®€å•ï¼Œé‚£ä¹ˆåˆ›å»ºäºŒçº§ç´¢å¼•åï¼Œæˆ‘ä»¬å¯ä»¥çœä¸‹é‡æ–°æ’åºçš„æ—¶é—´ã€‚&lt;br /&gt;
ï¼å‚æ•°onä½¿å¾—è¯­æ³•æ›´ç®€æ´ï¼Œå¹¶ä¸”èƒ½è‡ªåŠ¨åˆ›å»ºå¹¶é‡ç”¨äºŒçº§ç´¢å¼•&lt;br /&gt;
æˆ‘ä»¬ä¸‹é¢ä¸€èŠ‚ä¼šè¯´æ˜å‚æ•°onçš„å‡ ä¸ªä¼˜ç‚¹ï¼š&lt;/p&gt;

&lt;p&gt;å‚æ•°on&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é€šè¿‡åˆ›å»ºç´¢å¼•è¿›è¡Œsubsetã€‚æ¯æ¬¡éƒ½èƒ½èŠ‚çœsetindex()çš„æ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡æ£€æŸ¥å±æ€§ï¼Œå¯ä»¥ç®€å•åœ°é‡ç”¨å·²ç»å­˜åœ¨çš„äºŒçº§ç´¢å¼•ã€‚&lt;/li&gt;
&lt;li&gt;è¯­æ³•ç®€å•ã€‚
æ³¨æ„å‚æ•°onä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šä¸»é”®ã€‚äº‹å®ä¸Šï¼Œä¸ºäº†æ›´ä½³çš„å¯è¯»æ€§ï¼Œæˆ‘ä»¬é¼“åŠ±åœ¨å‚æ•°oné‡Œé¢æŒ‡å®šä¸»é”®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;2-ä½¿ç”¨å‚æ•°onå’Œç´¢å¼•è¿›è¡Œå¿«é€Ÿsubset:3887792cd19298be3383c54afb194a11&#34;&gt;2.ä½¿ç”¨å‚æ•°onå’Œç´¢å¼•è¿›è¡Œå¿«é€Ÿsubset&lt;/h2&gt;

&lt;h4 id=&#34;a-å‚æ•°ié‡Œçš„subset:3887792cd19298be3383c54afb194a11&#34;&gt;a) å‚æ•°ié‡Œçš„subset&lt;/h4&gt;

&lt;p&gt;ï¼subsetæ‰€æœ‰originæ˜¯â€œJFKâ€çš„è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[&amp;quot;JFK&amp;quot;, on = &amp;quot;origin&amp;quot;]
#        year month day dep_delay arr_delay carrier origin dest air_time distance hour
#     1: 2014     1   1        14        13      AA    JFK  LAX      359     2475    9
#     2: 2014     1   1        -3        13      AA    JFK  LAX      363     2475   11
#     3: 2014     1   1         2         9      AA    JFK  LAX      351     2475   19
#     4: 2014     1   1         2         1      AA    JFK  LAX      350     2475   13
#     5: 2014     1   1        -2       -18      AA    JFK  LAX      338     2475   21
#    ---
# 81479: 2014    10  31        -4       -21      UA    JFK  SFO      337     2586   17
# 81480: 2014    10  31        -2       -37      UA    JFK  SFO      344     2586   18
# 81481: 2014    10  31         0       -33      UA    JFK  LAX      320     2475   17
# 81482: 2014    10  31        -6       -38      UA    JFK  SFO      343     2586    9
# 81483: 2014    10  31        -6       -38      UA    JFK  LAX      323     2475   11

## alternatively
# flights[.(&amp;quot;JFK&amp;quot;), on = &amp;quot;origin&amp;quot;] (or) 
# flights[list(&amp;quot;JFK&amp;quot;), on = &amp;quot;origin&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¿™æ®µè¯­å¥æ‰§è¡Œçš„subsetä¹Ÿæ˜¯é€šè¿‡åˆ›å»ºäºŒçº§ç´¢å¼•ï¼ŒåŸºäºå¿«é€ŸäºŒåˆ†æ³•æœç´¢çš„ã€‚ä½†è®°ä½ï¼Œå®ƒä¸ä¼šæŠŠè¿™ä¸ªäºŒçº§ç´¢å¼•è‡ªåŠ¨åˆ›å»ºä¸ºdata.tableçš„ä¸€ä¸ªå±æ€§ã€‚å½“ç„¶åé¢æˆ‘ä»¬ä¹Ÿä¼šæ•™ä½ å¦‚ä½•å°†å®ƒè®¾ç½®ä¸ºä¸€ä¸ªå±æ€§ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæˆ‘ä»¬å·²ç»æ·»åŠ äº†ä¸€ä¸ªäºŒçº§ç´¢å¼•äº†ï¼Œé‚£ä¹ˆå‚æ•°onå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªäºŒçº§ç´¢å¼•ï¼Œè€Œä¸æ˜¯å†å¯¹æ•´ä¸ªèˆªç­ä¿¡æ¯flightsè¿›è¡Œè®¡ç®—ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸‹é¢ verbose = TRUE çš„ç”¨æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;setindex(flights, origin)
flights[&amp;quot;JFK&amp;quot;, on = &amp;quot;origin&amp;quot;, verbose = TRUE][1:5]
# names(on) = NULL. Assigning &#39;on&#39; to names(on)&#39; as well.
# Looking for existing (secondary) index... found. Reusing index.
# Starting bmerge ...done in 0 secs
#    year month day dep_delay arr_delay carrier origin dest air_time distance hour
# 1: 2014     1   1        14        13      AA    JFK  LAX      359     2475    9
# 2: 2014     1   1        -3        13      AA    JFK  LAX      363     2475   11
# 3: 2014     1   1         2         9      AA    JFK  LAX      351     2475   19
# 4: 2014     1   1         2         1      AA    JFK  LAX      350     2475   13
# 5: 2014     1   1        -2       -18      AA    JFK  LAX      338     2475   21
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼å¦‚ä½•å¯¹originåˆ—å’Œdeståˆ—è¿›è¡Œsubset
ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³é€‰å–æ‰€æœ‰ä»â€œJFKâ€èµ·é£åˆ°è¾¾â€œLAXâ€çš„æ‰€æœ‰èˆªç­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[.(&amp;quot;JFK&amp;quot;, &amp;quot;LAX&amp;quot;), on = c(&amp;quot;origin&amp;quot;, &amp;quot;dest&amp;quot;)][1:5]
#    year month day dep_delay arr_delay carrier origin dest air_time distance hour
# 1: 2014     1   1        14        13      AA    JFK  LAX      359     2475    9
# 2: 2014     1   1        -3        13      AA    JFK  LAX      363     2475   11
# 3: 2014     1   1         2         9      AA    JFK  LAX      351     2475   19
# 4: 2014     1   1         2         1      AA    JFK  LAX      350     2475   13
# 5: 2014     1   1        -2       -18      AA    JFK  LAX      338     2475   21
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨å‚æ•°ié‡Œé¢æŒ‡å®šå–å€¼ï¼Œåœ¨å‚æ•°oné‡Œé¢æŒ‡å®šåˆ—åã€‚å‚æ•°onå¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦å‹çš„å‘é‡ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;å› ä¸ºè®¡ç®—ç´¢å¼•éå¸¸å¿«ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨setindex()ã€‚é™¤éä½ éœ€è¦å¯¹æŸä¸€åˆ—é‡å¤åœ°è¿›è¡Œsubsetæ“ä½œã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;b-å‚æ•°jé‡Œçš„select:3887792cd19298be3383c54afb194a11&#34;&gt;b) å‚æ•°jé‡Œçš„select&lt;/h4&gt;

&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å°†è¦è®¨è®ºçš„æ‰€æœ‰æ“ä½œï¼Œè·Ÿæˆ‘ä»¬åœ¨ä¸Šä¸€è®²é‡Œé¢å­¦ä¹ çš„ç±»ä¼¼ã€‚åªæ˜¯æˆ‘ä»¬ç°åœ¨ä½¿ç”¨å‚æ•°onã€‚&lt;br /&gt;
ï¼è¿”å›æ»¡è¶³æ¡ä»¶ origin = &amp;ldquo;LGA&amp;rdquo; and dest = &amp;ldquo;TPA&amp;rdquo;çš„ arr_delayåˆ—çš„å€¼&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[.(&amp;quot;LGA&amp;quot;, &amp;quot;TPA&amp;quot;), .(arr_delay), on = c(&amp;quot;origin&amp;quot;, &amp;quot;dest&amp;quot;)]
#       arr_delay
#    1:         1
#    2:        14
#    3:       -17
#    4:        -4
#    5:       -12
#   ---          
# 1848:        39
# 1849:       -24
# 1850:       -12
# 1851:        21
# 1852:       -11
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;c-chaining:3887792cd19298be3383c54afb194a11&#34;&gt;c) Chaining&lt;/h4&gt;

&lt;p&gt;ï¼åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨chainingæ¥å°†ç»“æœé™åºæ’åˆ—&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[.(&amp;quot;LGA&amp;quot;, &amp;quot;TPA&amp;quot;), .(arr_delay), on = c(&amp;quot;origin&amp;quot;, &amp;quot;dest&amp;quot;)][order(-arr_delay)]
#       arr_delay
#    1:       486
#    2:       380
#    3:       351
#    4:       318
#    5:       300
#   ---          
# 1848:       -40
# 1849:       -43
# 1850:       -46
# 1851:       -48
# 1852:       -49
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;d-å‚æ•°jé‡Œçš„è®¡ç®—:3887792cd19298be3383c54afb194a11&#34;&gt;d) å‚æ•°jé‡Œçš„è®¡ç®—&lt;/h4&gt;

&lt;p&gt;ï¼æ‰¾å‡ºæ»¡è¶³æ¡ä»¶ origin = &amp;ldquo;LGA&amp;rdquo; and dest = &amp;ldquo;TPA&amp;rdquo;çš„ arr_delayåˆ—çš„æœ€å¤§å€¼ï¼ˆèˆªç­åˆ°è¾¾çš„æœ€é•¿å»¶è¯¯æ—¶é—´ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[.(&amp;quot;LGA&amp;quot;, &amp;quot;TPA&amp;quot;), max(arr_delay), on = c(&amp;quot;origin&amp;quot;, &amp;quot;dest&amp;quot;)]
# [1] 486
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;e-å‚æ•°jé‡Œä½¿ç”¨æ“ä½œç¬¦-è¿›è¡Œsub-assign:3887792cd19298be3383c54afb194a11&#34;&gt;e) å‚æ•°jé‡Œä½¿ç”¨æ“ä½œç¬¦&amp;rdquo;:=&amp;ldquo;è¿›è¡Œsub-assign&lt;/h4&gt;

&lt;p&gt;åœ¨ä¸Šä¸€è®²ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ è¿‡äº†ç±»ä¼¼çš„åŠŸèƒ½ã€‚åŒæ ·åœ°ï¼Œç°åœ¨æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•æ‰¾åˆ°åœ¨flightsé‡Œé¢ï¼Œhoursåˆ—æ‰€æœ‰å¯èƒ½çš„å–å€¼ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# get all &#39;hours&#39; in flights
flights[, sort(unique(hour))]
#  [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œä¸€å…±æœ‰25ç§ä¸åŒçš„å–å€¼ã€‚ä½†æ˜¯0ç‚¹å’Œ24ç‚¹å…¶å®æ˜¯åŒæ ·çš„ã€‚ä¸‹é¢æˆ‘ä»¬æŠŠ24å…¨éƒ¨æ›¿æ¢æˆ0ï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨å‚æ•°onã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[.(24L), hour := 0L, on = &amp;quot;hour&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬å†æ¥çœ‹çœ‹24æ˜¯ä¸æ˜¯éƒ½è¢«æ›¿æ¢æˆ0äº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[, sort(unique(hour))]
#  [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¿™çœŸæ˜¯äºŒçº§ç´¢å¼•çš„ä¸€å¤§ä¼˜ç‚¹ã€‚ä»¥å‰ï¼Œåªæ˜¯ä¸ºäº†æ›´æ–°ä¸€äº›è¡Œçš„houråˆ—çš„å–å€¼ï¼Œæˆ‘ä»¬ä¸å¾—ä¸è°ƒç”¨å‡½æ•°setkey()å°†houråˆ—è®¾ç½®ä¸ºä¸»é”®ï¼Œè¿™å¿…é¡»å¯¹æ•´ä¸ªdata.tableè¿›è¡Œé‡æ–°æ’åºã€‚ä½†æ˜¯ç°åœ¨ï¼Œç”¨å‚æ•°onï¼ŒåŸæ•°æ®çš„é¡ºåºå¹¶æ²¡æœ‰æ”¹å˜ï¼Œæ“ä½œåè€Œæ›´å¿«äº†ï¼è€Œä»£ç è¿˜æ˜¯å¦‚æ­¤ç®€æ´ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;f-é€šè¿‡å‚æ•°byèšåˆ:3887792cd19298be3383c54afb194a11&#34;&gt;f) é€šè¿‡å‚æ•°byèšåˆ&lt;/h4&gt;

&lt;p&gt;ï¼æ‰¾åˆ°æ¯æœˆä»â€œJFKâ€èµ·é£çš„èˆªç­èµ·é£çš„æœ€é•¿å»¶è¯¯æ—¶é—´ï¼Œå¹¶æŒ‰ç…§æœˆä»½æ’åº&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ans &amp;lt;- flights[&amp;quot;JFK&amp;quot;, max(dep_delay), keyby = month, on = &amp;quot;origin&amp;quot;]
head(ans)
#    month   V1
# 1:     1  881
# 2:     2 1014
# 3:     3  920
# 4:     4 1241
# 5:     5  853
# 6:     6  798
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨äºŒçº§ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯ä¸åœ¨å‚æ•°oné‡Œé¢æŒ‡å®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»æŠŠoriginè®¾ç½®ä¸ºä¸»é”®ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;g-å‚æ•°mult:3887792cd19298be3383c54afb194a11&#34;&gt;g) å‚æ•°mult&lt;/h4&gt;

&lt;p&gt;å‚æ•°multå’Œä¸Šä¸€è®²ä¸€æ ·ã€‚å®ƒçš„é»˜è®¤å€¼æ˜¯â€œallâ€ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ˜¯ç¬¬ä¸€æ¡è¿˜æ˜¯æœ€åä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è¡Œè¢«è¿”å›ã€‚&lt;br /&gt;
ï¼subsetæ»¡è¶³æ¡ä»¶dest ï¼ â€œBOSâ€ å’Œ â€œDAYâ€çš„ç¬¬ä¸€è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[c(&amp;quot;BOS&amp;quot;, &amp;quot;DAY&amp;quot;), on = &amp;quot;dest&amp;quot;, mult = &amp;quot;first&amp;quot;]
#    year month day dep_delay arr_delay carrier origin dest air_time distance hour
# 1: 2014     1   1         3         1      AA    JFK  BOS       39      187   12
# 2: 2014     1   1        25        35      EV    EWR  DAY      102      533   17
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼subsetæ»¡è¶³æ¡ä»¶ origin ï¼ â€œLGAâ€ æˆ–è€… â€œJFKâ€ æˆ–è€… â€œEWRâ€ï¼Œå¹¶ä¸” dest ï¼ â€œXNAâ€ çš„æœ€åä¸€è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[.(c(&amp;quot;LGA&amp;quot;, &amp;quot;JFK&amp;quot;, &amp;quot;EWR&amp;quot;), &amp;quot;XNA&amp;quot;), on = c(&amp;quot;origin&amp;quot;, &amp;quot;dest&amp;quot;), mult = &amp;quot;last&amp;quot;]
#    year month day dep_delay arr_delay carrier origin dest air_time distance hour
# 1: 2014    10  31        -5       -11      MQ    LGA  XNA      165     1147    6
# 2:   NA    NA  NA        NA        NA      NA    JFK  XNA       NA       NA   NA
# 3: 2014    10  31        -2       -25      EV    EWR  XNA      160     1131    6
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;h-å‚æ•°nomatch:3887792cd19298be3383c54afb194a11&#34;&gt;h) å‚æ•°nomatch&lt;/h4&gt;

&lt;p&gt;å¦‚æœæŸ¥è¯¢è¯­å¥æ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…çš„æ•°æ®ï¼Œé€šè¿‡æŒ‡å®šå‚æ•°nomatchï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ˜¯è¿”å› NAï¼Œè¿˜æ˜¯å¿½ç•¥ã€‚&lt;br /&gt;
ï¼åœ¨ä¸Šé¢è¿™ä¸ªåˆ—å­ä¸­ï¼Œå¿½ç•¥æ²¡æœ‰å®é™…æ„ä¹‰çš„æ•°æ®&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;flights[.(c(&amp;quot;LGA&amp;quot;, &amp;quot;JFK&amp;quot;, &amp;quot;EWR&amp;quot;), &amp;quot;XNA&amp;quot;), mult = &amp;quot;last&amp;quot;, on = c(&amp;quot;origin&amp;quot;, &amp;quot;dest&amp;quot;), nomatch = 0L]
#    year month day dep_delay arr_delay carrier origin dest air_time distance hour
# 1: 2014    10  31        -5       -11      MQ    LGA  XNA      165     1147    6
# 2: 2014    10  31        -2       -25      EV    EWR  XNA      160     1131    6
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰èˆªç­ä»â€œJFKâ€èµ·é£åˆ°è¾¾â€œXNAâ€ï¼Œæ‰€ä»¥ç»“æœé‡Œé¢ï¼Œè¿™ä¸€è¡Œè¢«å¿½ç•¥äº†ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;3-è‡ªåŠ¨ç´¢å¼•:3887792cd19298be3383c54afb194a11&#34;&gt;3.è‡ªåŠ¨ç´¢å¼•&lt;/h2&gt;

&lt;p&gt;å›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬å…ˆå­¦ä¹ å¦‚ä½•é€šè¿‡ä¸»é”®ä½¿ç”¨å¿«é€ŸäºŒåˆ†æ³•æœç´¢è¿›è¡Œsubsetã€‚æ¥ç€ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä½¿ç”¨äºŒçº§ç´¢å¼•ï¼Œå®ƒå¸¦æ¥æ›´å¥½çš„æ•ˆæœï¼Œè€Œä¸”è¯­æ³•ä¹Ÿæ›´ç®€æ´ã€‚&lt;br /&gt;
ç­‰ç­‰ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Ÿæœ‰ï¼ä¼˜åŒ–Rçš„åŸç”Ÿè¯­æ³•ï¼Œä½¿ç”¨å†…ç½®çš„ç´¢å¼•ã€‚è¿™æ ·æˆ‘ä»¬æ¯‹éœ€ä½¿ç”¨æ–°çš„è¯­æ³•ï¼Œå°±èƒ½å¾—åˆ°åŒæ ·çš„æ•ˆæœã€‚&lt;br /&gt;
è¿™å°±æ˜¯è‡ªåŠ¨ç´¢å¼•ã€‚&lt;br /&gt;
ç›®å‰ï¼Œå®ƒåªæ”¯æŒæ“ä½œç¬¦ == å’Œ %in% ã€‚è€Œä¸”åªå¯¹ä¸€åˆ—èµ·ä½œç”¨ã€‚æŸä¸€åˆ—ä¼šè¢«è‡ªåŠ¨åˆ›å»ºä¸ºç´¢å¼•ï¼Œå¹¶ä¸”ä½œä¸ºdata.tableçš„å±æ€§ä¿å­˜èµ·æ¥ã€‚è¿™è·Ÿå‚æ•°onä¸åŒï¼Œå‚æ•°onä¼šæ¯æ¬¡åˆ›å»ºä¸€ä¸ªä¸´æ—¶ç´¢å¼•ï¼Œæ‰€ä»¥æ‰ä¼šè¢«å«åšâ€œäºŒçº§ç´¢å¼•â€ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæå¤§çš„data.tableæ¥å‡¸æ˜¾å®ƒçš„ä¼˜åŠ¿ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set.seed(1L)
dt = data.table(x = sample(1e5L, 1e7L, TRUE), y = runif(100L))
print(object.size(dt), units = &amp;quot;Mb&amp;quot;)
# 114.4 Mb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡å¯¹æŸä¸€åˆ—ä½¿ç”¨ == æˆ–è€… %in% çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªäºŒçº§ç´¢å¼•ï¼Œå®ƒä¼šè¢«ç”¨æ¥è¿›è¡Œsubsetã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# have a look at all the attribute names
names(attributes(dt))
# [1] &amp;quot;names&amp;quot;             &amp;quot;row.names&amp;quot;         &amp;quot;class&amp;quot;             &amp;quot;.internal.selfref&amp;quot;

## run thefirst time
(t1 &amp;lt;- system.time(ans &amp;lt;- dt[x == 989L]))
#    user  system elapsed 
#   0.235   0.013   0.249
head(ans)
#      x         y
# 1: 989 0.5372007
# 2: 989 0.5642786
# 3: 989 0.7151100
# 4: 989 0.3920405
# 5: 989 0.9547465
# 6: 989 0.2914710

## secondary index is created
names(attributes(dt))
# [1] &amp;quot;names&amp;quot;             &amp;quot;row.names&amp;quot;         &amp;quot;class&amp;quot;             &amp;quot;.internal.selfref&amp;quot;
# [5] &amp;quot;index&amp;quot;

indices(dt)
# [1] &amp;quot;x&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¬¬ä¸€æ¬¡subsetçš„æ—¶å€™ï¼Œå°±æ˜¯åˆ›å»ºç´¢å¼•çš„æ—¶å€™ã€‚å› ä¸ºåˆ›å»ºäºŒçº§ç´¢å¼•åªä¼šå¼•å…¥ä¸€ä¸ªæ’åºå‘é‡ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œè¿™ç§æ“ä½œç¬¦çš„æ–¹å¼ä¼šæ¯”æ‰«æå‘é‡å¿«å¾—å¤šã€‚æ‰€ä»¥ï¼Œä»ç¬¬äºŒæ¬¡subsetå¼€å§‹ï¼Œè‡ªåŠ¨ç´¢å¼•çš„ä¼˜åŠ¿å°±éå¸¸æ˜æ˜¾äº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;## successive subsets
(t2 &amp;lt;- system.time(dt[x == 989L]))
#    user  system elapsed 
#   0.001   0.000   0.001
system.time(dt[x %in% 1989:2012])
#    user  system elapsed 
#   0.001   0.000   0.001
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡subsetèŠ±äº†0.228ç§’ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡åªèŠ±äº†0.001ç§’ï¼&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;å¯ä»¥é€šè¿‡è®¾ç½®å…¨å±€å‚æ•°å…³é—­è‡ªåŠ¨ç´¢å¼•ï¼šoptions(datatable.auto.index = FALSE)ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ä»¬æ­£åœ¨å°†äºŒåˆ†æ³•æœç´¢æ‰©å±•åˆ°å…¶å®ƒçš„æ“ä½œç¬¦ï¼Œæ¯”å¦‚ &amp;lt;, &amp;lt;= å’Œ &amp;gt;=ã€‚å®Œæˆä¹‹åï¼Œå°±èƒ½ç›´æ¥ç”¨åœ¨å…¶ä»–æ“ä½œç¬¦ä¸Šäº†ã€‚&lt;br /&gt;
åœ¨å°†æ¥ï¼Œæˆ‘ä»¬è®¡åˆ’å°†è‡ªåŠ¨ç´¢å¼•æ‰©å±•åˆ°å‚æ•°ä¸­çš„å…¶å®ƒåˆ—ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸‹ä¸€è®²â€œç»“åˆå’Œæ»šåŠ¨ç»“åˆâ€ä¸­ï¼Œæˆ‘ä»¬ä¼šå­¦ä¹ ä½¿ç”¨ä¸»é”®å’ŒäºŒçº§ç´¢å¼•è¿›è¡Œå¿«é€Ÿsubsetã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸ºä»€ä¹ˆç¨‹åºå‘˜è¦å†™åŠŸèƒ½è®¾è®¡ä¹¦</title>
      <link>http://youngspring1.github.io/post/2016/2016-03-30-write-fd/</link>
      <pubDate>Wed, 30 Mar 2016 21:19:46 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-03-30-write-fd/</guid>
      <description>

&lt;p&gt;ç»­ä¸Šç¯‡ï¼Œè¿˜æ˜¯é˜…è¯»äº†ã€Šè½¯ä»¶éšæƒ³å½•ã€‹ä¹‹åï¼Œå¸Œæœ›æŠŠä»¥å‰çš„æ€è€ƒå†æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;1-ä»€ä¹ˆæ˜¯åŠŸèƒ½è®¾è®¡ä¹¦:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;1.ä»€ä¹ˆæ˜¯åŠŸèƒ½è®¾è®¡ä¹¦&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;åŠŸèƒ½è®¾è®¡ä¹¦
  ä»ç”¨æˆ·çš„è§’åº¦ï¼Œå®Œæ•´æè¿°äº†ç¨‹åºçš„è¡Œä¸ºã€‚å®ƒåªä»‹ç»äº†ç¨‹åºçš„åŠŸèƒ½ã€äº¤äº’æ–¹å¼ï¼Œå¹¶ä¸æ¶‰åŠå…·ä½“çš„å®ç°æ–¹å¼ã€‚   

æŠ€æœ¯è®¾è®¡ä¹¦
  æŒ‡å¼•ç¨‹åºå‘˜ï¼Œå¦‚ä½•å®ç°åŠŸèƒ½è®¾è®¡ä¹¦æ‰€æè¿°çš„åŠŸèƒ½ã€‚å®ƒæ¶‰åŠæ•°æ®ç»“æ„ã€æ•°æ®åº“ã€ç¨‹åºè¯­è¨€ã€ç®—æ³•ç­‰ç­‰å†…éƒ¨çš„å®ç°ç»†èŠ‚ã€‚   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä»å¤´å¼€å§‹è®¾è®¡ä¸€ä¸ªç¨‹åºæ—¶ï¼Œæœ€é‡è¦çš„ï¼Œæ˜¯å®Œæˆå¯¹ç”¨æˆ·äº¤äº’çš„è®¾è®¡ï¼šç”¨æˆ·éœ€è¦å“ªäº›åŠŸèƒ½ï¼›è¿™äº›åŠŸèƒ½å…·ä½“éœ€è¦å“ªäº›é¡µé¢æ¥å®ç°ï¼›é¡µé¢å¦‚ä½•æ“ä½œã€‚&lt;br /&gt;
åŠŸèƒ½è®¾è®¡ä¹¦çš„å†™ä½œè€…éœ€è¦å°†æ•´ä¸ªè½¯ä»¶çš„æ‰€æœ‰å¯èƒ½çš„ä½¿ç”¨åœºæ™¯ã€æµç¨‹ï¼Œåœ¨è‡ªå·±çš„è„‘æµ·ä¸­æƒ³è±¡å‡ºæ¥ï¼Œå¹¶å±•ç°åœ¨åŠŸèƒ½è®¾è®¡ä¹¦å½“ä¸­ã€‚&lt;/p&gt;

&lt;h2 id=&#34;2-ä¸ºä»€ä¹ˆè¦å†™åŠŸèƒ½è®¾è®¡ä¹¦:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;2.ä¸ºä»€ä¹ˆè¦å†™åŠŸèƒ½è®¾è®¡ä¹¦&lt;/h2&gt;

&lt;p&gt;æœ‰å¥½å¤šåŒäº‹è§‰å¾—å†™è®¾è®¡ä¹¦æ²¡æœ‰å¿…è¦ï¼Œæµªè´¹å¼€å‘çš„æ—¶é—´ï¼Œè€Œä¸”å¯¹ä¸ªäººèƒ½åŠ›æ²¡æœ‰æå‡ã€‚&lt;br /&gt;
æˆ‘æ— æ³•æƒ³è±¡ä»–ä»¬æ˜¯å¦‚ä½•å¾—åˆ°è¿™äº›ç»“è®ºçš„ã€‚å¯èƒ½æˆ‘åœ¨å­¦ç”Ÿæ—¶ä»£ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œçœ‹åˆ°ä¸€ä¸ªä»»åŠ¡å°±é©¬ä¸Šå†™ä»£ç ï¼Œä½†æˆ‘æ—©å°±ä¸è¿™æ ·åšäº†ã€‚&lt;/p&gt;

&lt;h4 id=&#34;2-1-è®¾è®¡:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;2.1 è®¾è®¡&lt;/h4&gt;

&lt;p&gt;åŠŸèƒ½è®¾è®¡ä¹¦æœ€é‡è¦ä½œç”¨ï¼Œå°±æ˜¯å¯¹ç¨‹åºæ‰€æœ‰çš„åŠŸèƒ½è¿›è¡Œè®¾è®¡ã€‚é€šè¿‡å†™æ–‡æ¡£æè¿°æ‰€æœ‰é¡µé¢äº¤äº’çš„ç»†èŠ‚ï¼Œä½ ä¼šè¢«è¿«å¯¹ç¨‹åºåšçœŸæ­£çš„è®¾è®¡ã€‚&lt;br /&gt;
åœ¨ç¨‹åºçš„ä½¿ç”¨ä¸­ï¼Œæœ‰å¯èƒ½é‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Œä½ åœ¨è®¾è®¡é˜¶æ®µå°±åº”è¯¥æƒ³æ¸…æ¥šã€‚åœ¨å†™ä½œä¸­ï¼Œé‚£äº›å¯èƒ½å‡ºé—®é¢˜çš„åœ°æ–¹ï¼Œå¤§éƒ¨åˆ†éƒ½èƒ½æš´éœ²å‡ºæ¥ï¼›è€Œå¦‚æœä¸å†™è®¾è®¡ä¹¦ï¼Œå½“ä½ å†™äº†ä¸€äº›ä»£ç ä¹‹åï¼Œæ‰å‘ç°è¿™äº›é—®é¢˜ï¼Œä»˜å‡ºçš„ä»£ä»·ä¼šæ›´å¤§ã€‚&lt;br /&gt;
æ‰€ä»¥è®¾è®¡èƒ½å¤Ÿå¤§å¹…åº¦ç¼©çŸ­æ•´ä¸ªé¡¹ç›®çš„å¼€å‘å‘¨æœŸã€‚&lt;/p&gt;

&lt;p&gt;æ›´é‡è¦çš„ï¼Œè¿™å¯¹ä½ ä¸ªäººçš„æ€ç»´èƒ½åŠ›å’Œè¡¨è¾¾èƒ½åŠ›éƒ½å¾ˆæœ‰æå‡ã€‚&lt;br /&gt;
çœ‹ä¸Šå»ï¼Œè®¾è®¡çš„æˆæœæ˜¯ä¸€ç¯‡æ–‡æ¡£ï¼Œä½†ä¸ºäº†å†™ä½œè¿™ç¯‡æ–‡æ¡£ï¼Œä½ åœ¨è„‘æµ·ä¸­è¿›è¡Œçš„ä¸€ç³»åˆ—æ€ç»´æ´»åŠ¨ï¼Œæ‰æ˜¯ä½ æœ€å¤§çš„æ”¶è·ã€‚&lt;/p&gt;

&lt;h4 id=&#34;2-2-æ²Ÿé€š:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;2.2 æ²Ÿé€š&lt;/h4&gt;

&lt;p&gt;æœ‰æ²¡æœ‰å›å¿†èµ·ï¼Œç”¨æˆ·ï¼å¼€å‘äººå‘˜ï¼æµ‹è¯•äººå‘˜ä¸€æ¬¡æ¬¡çš„è·Ÿä½ ç¡®è®¤åŠŸèƒ½è®¾è®¡çš„æƒ…æ™¯ï¼Ÿä»–ä»¬ä¸œä¸€å¥è¥¿ä¸€å¥åœ°è·‘è¿‡æ¥é—®ä½ å„ç§æ„šè ¢çš„é—®é¢˜ï¼Œä½ çš„å·¥ä½œæ—¶é—´è¢«æ¶ˆç£¨æ®†å°½ã€‚&lt;br /&gt;
é€šè¿‡åŠŸèƒ½è®¾è®¡ä¹¦ï¼Œä½ åªéœ€è¦è·Ÿåˆ«äººæ²Ÿé€šä¸€æ¬¡ï¼›å…¶ä»–äººå‘˜åªè¦å»é˜…è¯»åŠŸèƒ½è®¾è®¡ä¹¦ï¼Œå°±èƒ½çŸ¥é“ä½ èƒ½ç»™ä»–ä»¬çš„æ‰€æœ‰ä¿¡æ¯ã€‚&lt;br /&gt;
å¦‚æœæ²¡æœ‰åŠŸèƒ½è®¾è®¡ä¹¦ï¼Œä½ åªèƒ½ä¸€éä¸€éåœ°è®²ç»™ä»–ä»¬å¬ã€‚&lt;br /&gt;
æ›´å¯æ€•çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰åŠŸèƒ½è®¾è®¡ä¹¦ï¼Œæµ‹è¯•äººå‘˜ä¼šæ ¹æ®ç¨‹åºçš„è¾“å…¥è¾“å‡ºæ¥æµ‹è¯•ç¨‹åºï¼Œæˆ–è€…æ ¹æ®å¼€å‘äººå‘˜çš„å®ç°ç»†èŠ‚æ¥æµ‹è¯•ç¨‹åºï¼Œè€Œä¸æ˜¯åŸºäºè®¾è®¡æ¥è®¾è®¡ç¨‹åºã€‚&lt;/p&gt;

&lt;h4 id=&#34;2-3-è®¡åˆ’:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;2.3 è®¡åˆ’&lt;/h4&gt;

&lt;p&gt;å¦‚æœæ²¡æœ‰åŠŸèƒ½è®¾è®¡ä¹¦æŠŠæ‰€æœ‰çš„åŠŸèƒ½ç‚¹ï¼é¡µé¢ç½—åˆ—å‡ºæ¥ï¼Œå¦‚ä½•å®‰æ’è®¡åˆ’å‘¢ã€‚&lt;/p&gt;

&lt;h2 id=&#34;2-è°æ¥è¯»åŠŸèƒ½è®¾è®¡ä¹¦:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;2.è°æ¥è¯»åŠŸèƒ½è®¾è®¡ä¹¦&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;å®¢æˆ·
  è¿™é‡Œçš„å®¢æˆ·ï¼Œæ˜¯é‚£äº›ä»˜é’±ç»™ä½ å¼€å‘ç¨‹åºçš„äººã€‚
  å‹æƒ…æé†’ä½ ä¸€ä¸‹ï¼Œè¦æŠŠä»–ä»¬æƒ³è±¡æˆä¸€æ¯›ä¸æ‹”çš„é“å…¬é¸¡ï¼Œå¦„å›¾åªèŠ±5å—é’±ä¹°ä¸€æ¶èˆªç©ºæ¯èˆ°ã€‚
  å†™ä½œåŠŸèƒ½è®¾è®¡ä¹¦çš„æ—¶å€™ï¼Œéœ€è¦ä¸€éåˆä¸€éçš„è·Ÿä»–ä»¬ç¡®è®¤ï¼Œè·Ÿä»–ä»¬çš„æƒ³è±¡å’Œéœ€æ±‚æ˜¯å¦ä¸€è‡´ã€‚è¿™é‡Œçš„åŠŸèƒ½è®¾è®¡ä¹¦ï¼Œå°±æ˜¯å¿…é¡»çš„â€œç«‹å­—æ®â€ã€‚åŸºæœ¬å®Œæˆä¹‹åï¼Œå†ä¿®æ”¹æ˜¯è¦åŠ é’±çš„å“¦ã€‚
ç”¨æˆ·
  è¿™é‡Œçš„ç”¨æˆ·ï¼Œæ˜¯é‚£äº›ä½¿ç”¨ç¨‹åºçš„äººã€‚
  å‹æƒ…æé†’ä½ ä¸€ä¸‹ï¼Œè¦æŠŠä»–ä»¬æƒ³è±¡æˆåˆç¬¨åˆæ‡’çš„äººï¼Œä»–ä»¬ä»€ä¹ˆéƒ½ä¸ä¼šï¼Œä»€ä¹ˆéƒ½ä¸æƒ³åšã€‚
  ä½†ä½ çš„åŠŸèƒ½è®¾è®¡ä¹¦ï¼Œå¿…é¡»è¦æŠŠä»–ä»¬æ•™ä¼šä½¿ç”¨è¿™ä¸ªç¨‹åºã€‚
æŠ€æœ¯è®¾è®¡ä¹¦çš„ä½œè€…
  æŠ€æœ¯è®¾è®¡ä¹¦çš„ä½œè€…ï¼Œéœ€è¦æ ¹æ®åŠŸèƒ½è®¾è®¡ä¹¦ï¼Œè€ƒè™‘å¦‚ä½•å®ç°ç¨‹åºã€‚
å¼€å‘äººå‘˜
  å¼€å‘äººå‘˜ï¼Œä¸»è¦æŒ‰ç…§æŠ€æœ¯è®¾è®¡ä¹¦æ¥å®ç°ç¨‹åºï¼Œä½†æ˜¯ä¹Ÿä¼šå‚è€ƒåŠŸèƒ½è®¾è®¡ä¹¦ï¼Œç¡®è®¤åŠŸèƒ½æ˜¯å¦éƒ½å®ç°äº†ï¼Œé¡µé¢æµç¨‹æ˜¯å¦ä¸€è‡´ã€‚
æµ‹è¯•äººå‘˜
  æµ‹è¯•äººå‘˜ï¼Œéœ€è¦æŒ‰ç…§åŠŸèƒ½è®¾è®¡ä¹¦æ¥å†™æµ‹è¯•æ¡ˆä¾‹ï¼Œå¹¶æœ€ç»ˆå®æ–½æµ‹è¯•ä»»åŠ¡ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;3-è°æ¥å†™åŠŸèƒ½è®¾è®¡ä¹¦:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;3.è°æ¥å†™åŠŸèƒ½è®¾è®¡ä¹¦&lt;/h2&gt;

&lt;p&gt;ä¸åŒçš„å…¬å¸ï¼Œä¼šæœ‰ä¸åŒçš„èŒä½å’Œç§°å‘¼ï¼Œè€Œä¸”å†™ä½œåŠŸèƒ½è®¾è®¡ä¹¦çš„äººï¼Œåˆä¸æ˜¯ä¸“èŒå†™ä½œåŠŸèƒ½è®¾è®¡ä¹¦çš„ã€‚&lt;br /&gt;
æ‰€ä»¥è¿™é‡Œï¼Œæˆ‘å¹¶ä¸ä¼šå°†ä»€ä¹ˆäººæ¥å†™ï¼Œè€Œæ˜¯ç®€å•è¯´ä¸‹ï¼Œå†™ä½œåŠŸèƒ½è®¾è®¡ä¹¦çš„äººï¼Œéœ€è¦å“ªäº›ç´ è´¨ã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-1-æŠ€æœ¯èƒ½åŠ›:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;3.1 æŠ€æœ¯èƒ½åŠ›&lt;/h4&gt;

&lt;p&gt;è™½ç„¶åŠŸèƒ½è®¾è®¡ä¹¦æœ¬èº«å¹¶ä¸æ¶‰åŠå…·ä½“çš„å®ç°æ–¹å¼ï¼Œä½†æ˜¯ï¼Œä½œè€…å¿…é¡»æ˜ç™½ï¼ŒåŠŸèƒ½ç‚¹éƒ½æ˜¯åœ¨æˆæœ¬èŒƒå›´å†…èƒ½å¤Ÿå®ç°ã€‚è¿™å°±è¦æ±‚ä½œè€…å¿…é¡»è¦æœ‰æŠ€æœ¯åŠŸåº•ã€‚&lt;br /&gt;
è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Œæœ¬æ–‡çš„æ ‡é¢˜æ˜¯â€œä¸ºä»€ä¹ˆç¨‹åºå‘˜è¦å†™åŠŸèƒ½è®¾è®¡ä¹¦â€ï¼Œæœ‰è¿‡å¼€å‘èƒŒæ™¯çš„äººï¼Œæ‰ä¼šå…·å¤‡æŠ€æœ¯åŠŸåº•ã€‚å…¶ä»–äººå‘˜ï¼Œå¾ˆå¯æƒœï¼Œæˆ‘è§‰å¾—ä¸å…·å¤‡å†™ä½œåŠŸèƒ½è®¾è®¡ä¹¦çš„èƒ½åŠ›ã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-2-æ€ç»´èƒ½åŠ›:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;3.2 æ€ç»´èƒ½åŠ›&lt;/h4&gt;

&lt;p&gt;å°†è„‘æµ·ä¸­çš„è®¾è®¡ï¼Œé€šè¿‡ç¡®åˆ‡çš„å›¾ç‰‡å’Œç®€è¦çš„è¯­è¨€ï¼Œå±•ç°åœ¨æ–‡æ¡£ä¸­ã€‚æˆ‘è®¤ä¸ºè¿™ä¸æ˜¯å†™ä½œèƒ½åŠ›ï¼Œè€Œæ˜¯æ€ç»´èƒ½åŠ›ã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-3-æ²Ÿé€šèƒ½åŠ›:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;3.3 æ²Ÿé€šèƒ½åŠ›&lt;/h4&gt;

&lt;p&gt;åŠŸèƒ½è®¾è®¡ä¹¦ä¸æ˜¯ç‹¬è‡ªå†™å®Œå°±å¯ä»¥çš„ã€‚è€Œæ˜¯è¦è·Ÿå…¶ä»–æ‰€æœ‰è¯»è€…æ²Ÿé€šè¾¾æˆä¸€è‡´åï¼Œæ‰èƒ½æœ€ç»ˆå®šç¨¿ã€‚&lt;/p&gt;

&lt;h2 id=&#34;4-å¦‚ä½•å†™åŠŸèƒ½è®¾è®¡ä¹¦:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;4.å¦‚ä½•å†™åŠŸèƒ½è®¾è®¡ä¹¦&lt;/h2&gt;

&lt;h4 id=&#34;4-1-åº”å½“åŒ…å«å“ªäº›è¦ç´ :eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;4.1 åº”å½“åŒ…å«å“ªäº›è¦ç´ &lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;æ¦‚è¿°
  è¯¥ç¨‹åºçš„ä¸»è¦åŠŸèƒ½ã€‚
ä½¿ç”¨åœºæ™¯
  åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨è¯¥ç¨‹åºã€‚
æµç¨‹å›¾
  ç¨‹åºå„ä¸ªé¡µé¢çš„å…³ç³»ï¼Œä¹Ÿæ˜¯æ•´ä¸ªæœåŠ¡çš„å…¨è²Œã€‚
æ¯ä¸ªé¡µé¢çš„åŠŸèƒ½è¯´æ˜
  æ‰€æœ‰é¡µé¢çš„è¯¦ç»†åŠŸèƒ½ã€‚
ç»†èŠ‚ï¼ç»†èŠ‚ï¼ç»†èŠ‚ï¼
  é‡è¦çš„äº‹æƒ…è¯´ä¸‰éã€‚é¡µé¢ä¸Šæ‰€æœ‰å¯èƒ½å‡ºç°çš„ç»†èŠ‚éƒ½è¦è€ƒè™‘åˆ°ï¼Œæ‰€æœ‰å¯èƒ½å½±å“é¡µé¢çš„å› ç´ éƒ½è¦è€ƒè™‘åˆ°ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œç¨‹åºå¦‚ä½•ååº”ï¼Œå†™ä¸‹æ¥ã€‚
å¾…è§£å†³çš„é—®é¢˜
  æ–‡æ¡£ä¸å¯èƒ½åœ¨ç¬¬ä¸€ç‰ˆå°±è¾¾åˆ°å®Œå–„çš„çŠ¶æ€ï¼Œè¿™æ˜¯ä½ è¦æŠŠè¿˜ä¸æ¸…æ¥šçš„åœ°æ–¹å†™ä¸‹æ¥ã€‚
å¤šè§’åº¦çš„æ³¨è§£
  ä¸»è¦æ˜¯ä»å¼€å‘äººå‘˜æˆ–è€…æµ‹è¯•äººå‘˜çš„è§’åº¦ï¼Œéœ€è¦æ³¨æ„çš„ç»†èŠ‚ã€‚
ä¿®æ”¹å±¥å†
  æ‰€æœ‰çš„è¯»è€…ï¼Œéƒ½ä¼šæ ¹æ®ä¿®æ”¹å±¥å†ï¼Œå¤§æ¦‚äº†è§£æ¯æ¬¡ä¿®æ”¹çš„åŠŸèƒ½ç‚¹å’Œä½ç½®ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-2-å†™ä½œåŸåˆ™:eb7bfe2a6b06616e5d53e8ee4553cb80&#34;&gt;4.2 å†™ä½œåŸåˆ™&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;ç®€å•
  èƒ½ç”¨å›¾ç‰‡çš„ï¼Œå°½é‡ç”¨å›¾ç‰‡è€Œä¸æ˜¯è¯­è¨€ã€‚èƒ½å°‘è¯´çš„ï¼Œå°±ä¸å¤šè¯´ã€‚
ç”¨æˆ·è§’åº¦
  ä»ç”¨æˆ·çš„è§’åº¦æ€è€ƒé—®é¢˜ï¼Œæƒ³æƒ³ç”¨æˆ·éœ€è¦çŸ¥é“ä»€ä¹ˆä¿¡æ¯ã€‚
è¯„å®¡
  è‡ªå·±é˜…è¯»ï¼Œç”šè‡³å¤§å£°æœ—è¯»å‡ éã€‚æ‹¿ç»™æ‰€æœ‰å¿…éœ€çš„è¯»è€…çœ‹ã€‚å†ä¿®æ”¹ã€‚
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>è½¯ä»¶éšæƒ³å½•</title>
      <link>http://youngspring1.github.io/post/2016/2016-03-27-joe-on-soft/</link>
      <pubDate>Sun, 27 Mar 2016 21:53:14 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-03-27-joe-on-soft/</guid>
      <description>

&lt;p&gt;è¿™å‘¨çœ‹äº†ä¸€æœ¬å¾ˆæœ‰æ„æ€çš„ä¹¦ï¼Œã€Šè½¯ä»¶éšæƒ³å½•ã€‹ï¼Œå…¶å®æœ‰ä¸¤å·ï¼Œæ˜¯StackOverflowçš„åˆ›å§‹äººå’ŒCEOå‘è¡¨çš„blogæ–‡é›†ã€‚&lt;br /&gt;
ä¸ç®¡æ˜¯ç¨‹åºå‘˜ï¼Œè¿˜æ˜¯è·Ÿç¨‹åºå‘˜æ‰“äº¤é“çš„äººï¼Œéƒ½å¯ä»¥è¯»ä¸€è¯»ï¼Œä¸€å®šä¼šå¾ˆæœ‰æ”¶è·ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å°±ä¸æŠ„ä¹¦äº†ï¼Œè°ˆè°ˆæˆ‘è‡ªå·±åœ¨å·¥ä½œä¸­çš„ä¸€äº›æ„Ÿæƒ³å§ã€‚&lt;/p&gt;

&lt;h4 id=&#34;1-é¢è¯•é¢˜:24c5794b69f59acc2f6fcd7edde119c4&#34;&gt;1.é¢è¯•é¢˜&lt;/h4&gt;

&lt;p&gt;ç»™å°æœ‹å‹é¢è¯•çš„æ—¶å€™ï¼Œå…¬å¸ä¼šç»™ä¸€äº›é¢˜åº“ï¼Œé‡Œé¢æœ‰å¥½å¤šç»å…¸çš„é¢è¯•é¢˜ï¼Œæˆ‘ä¸¥é‡æ€€ç–‘é¢è¯•çš„å­¦ç”Ÿå·²ç»èƒŒå¾—æ»šç“œçƒ‚ç†Ÿäº†ï¼Œåæ­£åŸºæœ¬ä¸Šéƒ½èƒ½å¾ˆå¿«çš„ç­”ä¸Šæ¥ã€‚ä½†æ˜¯è¦æ˜¯å‡ºä¸ªç¬”è¯•é¢˜ï¼Œè®©ä»–ä»¬æ‰‹å†™å‡ è¡Œï¼ˆæˆ‘ä»¥ä¸ºï¼‰ç®€å•çš„ä»£ç ï¼Œä¸€å¤©ä¸‹æ¥åå‡ ä¸ªäººç«Ÿç„¶æ²¡æœ‰ä¸€ä¸ªèƒ½å®Œå…¨åšå¯¹çš„ã€‚&lt;br /&gt;
æˆ‘å¸¸å¸¸æƒ³ï¼Œè¿™äº›é¢è¯•é¢˜æœ‰ä»€ä¹ˆç”¨ï¼Ÿå·¥ä½œä¸­åŸºæœ¬ä¸ä¼šç”¨åˆ°ï¼Œå®åœ¨æœ‰ä¸€äº›ç»†èŠ‚çš„çŸ¥è¯†ç‚¹ï¼Œç”¨çš„æ—¶å€™å†æŸ¥èµ„æ–™å°±å¯ä»¥äº†ã€‚&lt;br /&gt;
å¬ä¸Šå»æ²¡ä»€ä¹ˆä¸å¯¹çš„ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯é©¬è·¯ä¸Šå¥½å¤šITåŸ¹è®­å¹¿å‘Šçš„åŸå› ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯å…¬å¸æ‹›è¿‘å¥½å¤šä¸åˆæ ¼çš„â€œé‡ç”Ÿç¨‹åºå‘˜â€çš„åŸå› ã€‚&lt;br /&gt;
ä»Šå¤©çœ‹äº†ä¹¦æ‰çŸ¥é“ï¼Œä¸Šå­¦æ—¶å€™å­¦ä¹ çš„é‚£äº›åŸºç¡€è¯¾ï¼Œä¸æ˜¯è®©æˆ‘ä»¬åœ¨æ—¥åçš„å·¥ä½œä¸­ä½¿ç”¨çš„ï¼Œè€Œæ˜¯æå‰åšä¸€æ¬¡ç­›é€‰ï¼Œæé†’é‚£äº›ä¸é€‚åˆåšç¨‹åºå‘˜çš„äººçŸ¥éš¾è€Œé€€ï¼›ç„¶åç£¨ç‚¼ç•™ä¸‹çš„äººï¼Œå°†ä»–ä»¬æé«˜åˆ°ä¸€ä¸ªé«˜åº¦ï¼Œè¿™æ ·ä»¥åå†åšå·¥ä½œä¸Šçš„äº‹ï¼Œå°±æ¸¸åˆƒæœ‰ä½™äº†ã€‚&lt;/p&gt;

&lt;p&gt;è¡¥å……ä¸€ä¸ªå­¦ä¹ ç†å¿µï¼š&lt;br /&gt;
å½“ä½ å°å­¦ä¸‰å¹´çº§çš„æ—¶å€™ï¼Œä¼šè§‰å¾—é¢˜ç›®å¾ˆéš¾ï¼›ä½†æ˜¯å½“ä½ é«˜ä¸­çš„æ—¶å€™ï¼Œä¼šè§‰å¾—å°å­¦çš„é¢˜ç›®éƒ½å¾ˆç®€å•ã€‚é‚£ä¹ˆï¼Œå…ˆå°†è‡ªå·±æå‡åˆ°é«˜ä¸­çš„æ°´å¹³ï¼Œå’Œé‚£äº›å°å­¦ç”Ÿä¸€èµ·ï¼Œåšå°å­¦ç”Ÿçš„é¢˜ç›®ã€‚å—¯ï¼Œä½ ä¸€å®šèƒ½å¤Ÿç¢¾å‹ä½ çš„ç«äº‰å¯¹æ‰‹ã€‚&lt;/p&gt;

&lt;h4 id=&#34;2-æˆé•¿:24c5794b69f59acc2f6fcd7edde119c4&#34;&gt;2.æˆé•¿&lt;/h4&gt;

&lt;p&gt;åˆšåˆšè¿›å…¬å¸çš„æ—¶å€™ï¼Œæœ‰â€œæ€»ç»“ï¼åˆ†äº«ï¼æˆé•¿â€è¿™æ ·çš„æ°›å›´ã€‚æ¯”å¦‚ï¼Œåšé¡¹ç›®åˆ°ä¸€å®šçš„é˜¶æ®µï¼Œå¤§å®¶ä¼šå„è‡ªæ€»ç»“åœ¨è¿™è¿‡ç¨‹ä¸­ï¼Œåšå¾—å¥½çš„ä¸å¥½çš„åœ°æ–¹ï¼Œåˆ†æåŸå› ã€æå‡ºå¯¹ç­–ï¼Œç„¶ååœ¨ä¸‹ä¸€æ¬¡ç±»ä¼¼çš„æœºä¼šä¸­å®è·µï¼›ä¸€ä¸ªäººå­¦ä¹ äº†æ–°çš„çŸ¥è¯†ç‚¹ï¼Œä¸€å®šä¼šå½¢æˆæ–‡æ¡£ï¼Œä¸‹æ¬¡åˆ«äººé‡åˆ°äº†é—®é¢˜ï¼Œç›´æ¥å»é—®ä»–æˆ–è€…çœ‹æ–‡æ¡£ï¼Œæœ‰æ—¶è¿˜ä¼šç»„ç»‡åˆ†äº«ä¼šæ¥è®²è§£ï¼›å¦‚æ­¤è¿™èˆ¬ï¼Œå¾ˆå®¹æ˜“æ„Ÿå—åˆ°è‡ªèº«çš„æˆé•¿ã€‚&lt;br /&gt;
è€Œç°åœ¨ï¼Œå¤§å®¶éƒ½åˆ†æ•£ç€åšå„è‡ªçš„é¡¹ç›®ï¼Œå‡ ä¹æ²¡æœ‰æ—¶é—´å’Œæ¸ é“äº¤æµã€‚ç¦»èŒç‡ä¹Ÿå¾ˆé«˜ï¼Œå„è‡ªå­¦ä¹ è‡ªå·±æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚è¿™ä¹Ÿå¯¼è‡´å®Œå…¨æ— å¿ƒæ¥åŸ¹å…»ä¸€ä¸ªæ–°æ‰‹ï¼Œåæ­£åŸ¹å…»å‡ºæ¥äº†ä¹Ÿæ˜¯è¦èµ°çš„ã€‚å“¼å“¼ã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-æ˜¯geekè¿˜æ˜¯å†œæ°‘å·¥:24c5794b69f59acc2f6fcd7edde119c4&#34;&gt;3.æ˜¯geekè¿˜æ˜¯å†œæ°‘å·¥&lt;/h4&gt;

&lt;p&gt;å’Œç¨‹åºå‘˜ä»¥å¤–çš„äººäº¤æµï¼Œå™¢ï¼Œç®€ç›´æ²¡æ³•äº¤æµå•Šã€‚å°±è¿æœ¬æ¥åº”è¯¥æ‡‚ä¸€ç‚¹æŠ€æœ¯çš„äº§å“ç»ç†ï¼Œä¹Ÿæ˜¯æ‹¿å„ç§ä¸ç›¸å…³çš„è¯æ±‡ç”Ÿæ¬ç¡¬å¥—ï¼Œå¹¶ä¸”å¦„å›¾åšæŠ€æœ¯ä¸Šçš„å†³ç­–ã€‚ä¸šåŠ¡éƒ¨çš„äººï¼Œç®€ç›´æŠŠç¨‹åºå‘˜å½“æˆå®ç°ä»–ä»¬éœ€æ±‚çš„å·¥å…·ï¼Œè€Œä¸”å¸¸å¸¸ä¼šæƒ³ç”¨1å—é’±çš„æˆæœ¬åš10å—é’±çš„äº‹ï¼Œè¿˜è§‰å¾—åªå€¼5æ¯›é’±ã€‚å“¼å“¼ã€‚&lt;br /&gt;
æ‰€ä»¥ç†æƒ³çš„æƒ…å†µï¼Œè¿˜æ˜¯å¾…åœ¨geekæ–‡åŒ–æ¯”è¾ƒå¼ºçƒˆçš„å…¬å¸å§ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;äºšé©¬é€Šé“¾æ¥ï¼š&lt;br /&gt;
&lt;a href=&#34;http://www.amazon.cn/å›¾ä¹¦/dp/B00WDTQU8M?ie=UTF8&amp;amp;psc=1&amp;amp;ref_=oh_aui_detailpage_o00_s00&#34;&gt;è½¯ä»¶éšæƒ³å½• I&lt;/a&gt;&lt;br /&gt;
&lt;a href=&#34;http://www.amazon.cn/å›¾ä¹¦/dp/B00WFT32FY?ie=UTF8&amp;amp;psc=1&amp;amp;ref_=oh_aui_detailpage_o00_s00&#34;&gt;è½¯ä»¶éšæƒ³å½• II&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>è½¬ï¼šå¦‚ä½•ä¸åšå¤šä»»åŠ¡å·¥ä½œ â€” æ›´ç®€å•ç†æ™ºåœ°å»å·¥ä½œ</title>
      <link>http://youngspring1.github.io/post/2016/2016-03-26-work-simpler/</link>
      <pubDate>Sat, 26 Mar 2016 08:44:24 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-03-26-work-simpler/</guid>
      <description>&lt;p&gt;è½¬å¸–è¯„è®ºï¼š&lt;/p&gt;

&lt;p&gt;æ²¡æœ‰æ‰€è°“çš„å¤šä»»åŠ¡å¤„ç†ã€‚&lt;br /&gt;
CPUä¹Ÿæ˜¯ä¸€ä¸ªä¸ªä»»åŠ¡åˆ†æ—¶é—´æ®µå•ç‹¬æ‰§è¡Œï¼Œæˆ–è€…åœ¨ç‹¬ç«‹çš„æ ¸å¿ƒä¸Šé¢åˆ†å¸ƒå¤„ç†çš„å‘¢ã€‚&lt;br /&gt;
äººç±»åœ¨å¤šä»»åŠ¡å¤„ç†æ–¹é¢æ›´åŠ æ— èƒ½ï¼Œå°±å¥½æ¯”æ— æ³•ä¸€è¾¹å†™ä»£ç ï¼Œä¸€è¾¹åšé¥­ã€‚ç‰¹åˆ«çš„ï¼Œä¸¤ä¸ªä¸åŒçš„ä»»åŠ¡ä¹‹é—´åˆ‡æ¢çš„æ—¶å€™ï¼Œäººç±»éœ€è¦æ›´å¤šçš„åˆ‡æ¢æ—¶é—´ï¼Œæƒ³æƒ³ä½ åˆšåˆšç©äº†ä¸€å±€ç²¾å½©çš„æ¸¸æˆï¼Œè‡³å°‘è¦å›å‘³10åˆ†é’ŸğŸ˜„ï¼Œæ‰èƒ½æŠ•å…¥åˆ°å·¥ä½œå§ã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤å‡å°‘ä»»åŠ¡çš„åˆ‡æ¢ï¼Œæ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚&lt;br /&gt;
ä¹Ÿå°±æ˜¯è¯´ï¼Œç•™å‡ºå¤§æ®µä¸å—æ‰“æ‰°çš„æ—¶é—´ã€‚
å†™ä»£ç æ˜¯ä¸€ç§éœ€è¦ç²¾åŠ›é«˜åº¦é›†ä¸­çš„å·¥ä½œï¼Œæœ‰æ—¶çœ‹ä¸Šå»æˆ‘çš„æ‰‹æŒ‡éƒ½æ²¡æœ‰åŠ¨ï¼Œä¸€è¡Œä»£ç éƒ½æ²¡æœ‰å†™ï¼Œäº‹å®ä¸Šï¼Œæˆ‘åœ¨è„‘æµ·ä¸­æ­å»ºå·´åˆ«å¡”å‘¢ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœæ¥ä¸€ä¸ªäººé—®æˆ‘ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆï¼Œä¸ç®¡æˆ‘çš„å·´åˆ«å¡”ç›–äº†100å±‚è¿˜æ˜¯50å±‚ï¼Œä¸€ä¼šå„¿æˆ‘éƒ½è¦é‡æ–°ä»åœ°é¢å¼€å§‹æ­å»º555ã€‚æ‰€ä»¥å¦‚æœä½ ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œå·¥ä½œçš„æ—¶å€™å¸¸å¸¸ä¸å—æ‰“æ‰°ï¼Œçæƒœè¿™ä»½å·¥ä½œå§ã€‚&lt;br /&gt;
è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Œæˆ‘å·¥ä½œçš„æ—¶å€™å¸¸å¸¸æˆ´ç€è€³å¡ï¼Œå› ä¸ºè¿™æ ·å°±æŠŠå…¨ä¸–ç•Œå…³æ‰äº†å‘€ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;pre&gt;&lt;code&gt;å‡ºå¤„ï¼šå¾®ä¿¡å…¬ä¼—å·â€œèªæ˜äººçš„ä¸ªäººå‘å±•â€ï¼Œè¯‘è€…â€œæ™“é£â€
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;ä½ åŒæ—¶å¿™ç€ä¸¤ä¸ªé¡¹ç›®ï¼Œè€Œè€æ¿åˆåœ¨æ¡Œä¸Šæ”¾äº†ä¸¤ä¸ªæ–°å·¥ä½œéœ€æ±‚ã€‚ä½ æ­£æ‰“ç€ç”µè¯ï¼Œæ­¤æ—¶åˆæ¥äº†ä¸‰å°ç”µé‚®ã€‚ä½ æ­£è¯•å›¾æŒ‰æ—¶ä¸‹ç­ï¼Œä»¥ä¾¿åœ¨å›å®¶è·¯ä¸Šä¸ºæ™šé¤ä¹°äº›é£Ÿæã€‚ä½ çš„é»‘è“æ‰‹æœºæ²¡ç”µäº†ï¼Œè€Œå¦ä¸€ä¸ªæ‰‹æœºä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä½ çš„åŒäº‹è¿‡æ¥ç´¢è¦æŸä»½ä¿¡æ¯æ•°æ®ï¼Œè€Œä½ çš„åšå®¢è®¢é˜…å™¨é‡Œè¿˜æœ‰100å¤šæ¡æœªè¯»ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;ä½ å¦‚åŒé©¬æˆå›¢é‡Œçš„æ‚è€äººä¸€æ ·ï¼Œå¤„ç†ç€å¤šé¡¹ä»»åŠ¡ã€‚ç¥è´ºä½ å¦‚æ­¤èƒ½å¹²ï¼Œå¤šä»»åŠ¡å¤„ç†è€…ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä¸ªå³æ—¶ç§‘æŠ€æ—¶ä»£ï¼Œæˆ‘ä»¬éƒ½è¢«è¿‡é‡ä¿¡æ¯å’Œå ç”¨ä¸ªäººæ—¶é—´çš„å„ç§éœ€æ±‚æ‰€è½°ç‚¸ã€‚è¿™ä¹Ÿæ˜¯GTDç®¡ç†ç³»ç»Ÿä¸ºä½•åœ¨ä¿¡æ¯ä¸–ç•Œå¦‚æ­¤æµè¡Œçš„éƒ¨åˆ†åŸå›  â€” è¿™ä¸ªç³»ç»Ÿçš„è®¾è®¡ç›®çš„å°±æ˜¯ä¸ºäº†åšå‡ºå¿«é€Ÿå†³å®šï¼Œå¹¶è®©ä¸ªäººçš„æ‰€æœ‰ç”Ÿæ´»éœ€æ±‚ä¿æŒç§©åºäº•ç„¶ã€‚ä½†å³ä¾¿åœ¨ä½¿ç”¨GTDç®¡ç†ç³»ç»Ÿï¼Œæˆ‘ä»¬æœ‰æ—¶ä»ä¼šè¢«å„ç§äº‹æƒ…å¼„å¾—ä¸å ªé‡è´Ÿï¼Œè‡ªå·±çš„ç®¡ç†ç³»ç»Ÿä¹Ÿå¼€å§‹åˆ†å´©ç¦»æã€‚&lt;/p&gt;

&lt;p&gt;Life Hackç½‘ç«™æœ€è¿‘å‘å¸ƒäº†ä¸€ç¯‡ã€Šå¦‚ä½•å¤„ç†å¤šä»»åŠ¡ã€‹çš„æ–‡ç« ï¼Œå®ƒæ˜¯ç¯‡é’ˆå¯¹å¤šä»»åŠ¡å·¥ä½œçš„æœ¬è´¨ï¼Œä»¥åŠå¦‚ä½•åœ¨å¤šä»»åŠ¡å·¥ä½œçš„åŒæ—¶ï¼Œä»èƒ½ä¸€æ¬¡ä¸“æ³¨äºä¸€é¡¹ä»»åŠ¡çš„å¥½æ–‡ç« ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æˆ‘è¿™ç¯‡æ–‡ç« æ˜¯ã€Šå¦‚ä½•ä¸åšå¤šä»»åŠ¡å·¥ä½œã€‹â€” æŒ‡å¯¼ä½ ä¸ºäº†èº«å¿ƒå¥åº·ï¼Œæ€æ ·å°½å¯èƒ½ç®€å•åœ°å»å·¥ä½œã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œä»¥ä¸‹æ˜¯ä¸åšå¤šä»»åŠ¡å·¥ä½œçš„ç®€çŸ­ç†ç”±ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç”±äºäººä»¬éœ€è¦ä¸ºå¤„ç†æ¯é¡¹æ–°ä»»åŠ¡è½¬æ¢å·¥ä½œçŠ¶æ€ï¼Œç„¶ååˆè¦åˆ‡æ¢å›å…ˆå‰ä»»åŠ¡çš„å·¥ä½œçŠ¶æ€ï¼Œå¤šä»»åŠ¡å·¥ä½œå¹¶ä¸é«˜æ•ˆã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¤šä»»åŠ¡å·¥ä½œæ›´åŠ å¤æ‚ï¼Œå› æ­¤æ›´å®¹æ˜“åˆ¶é€ å‹åŠ›å’ŒçŠ¯é”™ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¤šä»»åŠ¡å·¥ä½œç¹å¿™ç–¯ç‹‚ï¼Œè€Œä¸”åœ¨è¿™ä¸ªå·²ç»æ˜¾å¾—æ··ä¹±çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬éœ€è¦æŒæ§å†…å¿ƒææƒ§ï¼Œæ‰¾å¯»ä¸€ç‚¹ç†æ™ºå’Œæ²‰é™å¿ƒæ€çš„ç»¿æ´²ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ä¸‹é¢å°±æ˜¯å¦‚ä½•ä¸åšå¤šä»»åŠ¡å·¥ä½œçš„ä¸€äº›å»ºè®®ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;é¦–å…ˆï¼Œè¯·æ ¹æ®ä½ çš„å®é™…æƒ…å½¢ï¼Œä¸ºä¸åŒçš„å·¥ä½œå†…å®¹ï¼ˆå³ç”µè¯ã€ç”µè„‘ã€æ‚äº‹ã€å®¶äº‹ã€ç­‰å€™äº‹é¡¹ç­‰ï¼‰è®¾å®šå¾…åšäº‹é¡¹åˆ—è¡¨ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä¸ºå³æ—¶è®°å½•éœ€è¦å®Œæˆçš„äº‹é¡¹ï¼Œå‡†å¤‡ä¸€ç§è®°å½•å·¥å…·ï¼ˆæ¯”å¦‚ä¸€æœ¬ç¬”è®°æœ¬ï¼‰ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å‡†å¤‡ä¸€ä¸ªå®ç‰©æ”¶ä»¶ç®±å’Œç”µé‚®æ”¶ä»¶ç®±ï¼ˆæ”¶ä»¶ç®±æ•°é‡è¦å°½å¯èƒ½å°‘ï¼‰ï¼Œä»¥ä½¿ä½ æ”¶åˆ°çš„æ‰€æœ‰ä¸œè¥¿éƒ½èƒ½æ±‡é›†åˆ°ä¸€ä¸ªåœ°æ–¹ï¼ˆå®ç‰©æ”¶ä»¶ç®±ç”¨äºæ”¶çº³çº¸å¼ ç‰©å“ï¼Œç”µé‚®æ”¶ä»¶ç®±ç”¨äºå­˜æ”¾æ•°å­—ä¿¡æ¯ï¼‰ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä»¥æ—¶é—´å—çš„æ–¹å¼è®¡åˆ’å½“å¤©ç”Ÿæ´»ï¼Œå¹¶åœ¨ä¸­é—´ä¸ºç´§æ€¥äº‹é¡¹é¢„ç•™ç©ºç™½æ—¶æ®µã€‚å–å†³äºå“ªç§åšæ³•å¯¹è‡ªå·±æœ€é€‚ç”¨ï¼Œä½ å¯ä»¥å°è¯•ä¸€å°æ—¶é•¿åº¦çš„æ—¶é—´å—ï¼Œæˆ–åŠå°æ—¶é•¿åº¦çš„æ—¶é—´å—ã€‚æˆ–è¯•è¯•è¿™ç§ï¼š40åˆ†é’Ÿé•¿åº¦çš„æ—¶é—´å—ï¼Œä¸­é—´ç•™å‡º20åˆ†é’Ÿå¤„ç†å„ç§æ‚äº‹ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ—©æ™¨ç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯å¤„ç†ä¸ªäººæœ€é‡è¦ä»»åŠ¡ï¼ˆè“è‰²å­—ä½“å¯ç‚¹å‡»ï¼‰ã€‚åœ¨æœ€é‡è¦ä»»åŠ¡å®Œæˆå‰ï¼Œåˆ«å¹²å…¶ä»–ä»»ä½•äº‹æƒ…ã€‚åšå®Œé¦–ä¸ªä»»åŠ¡åä¼‘æ¯ä¸€ä¼šå„¿ï¼Œå†å¼€å§‹å®Œæˆä¸‹ä¸€ä¸ªæœ€é‡è¦ä»»åŠ¡ã€‚å¦‚æœä½ èƒ½åœ¨ä¸Šåˆåšå®Œ2-3ä¸ªæœ€é‡è¦ä»»åŠ¡ï¼Œå½“å¤©å‰©ä½™æ—¶é—´ä¾¿æ— æ¯”è½»æ¾è‡ªåœ¨ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åœ¨ä¸€ä¸ªæ—¶é—´å—å†…å¤„ç†æŸé¡¹ä»»åŠ¡æ—¶ï¼Œè¯·å…³é—­å…¶ä»–æ‰€æœ‰åˆ†å¿ƒäº‹ç‰©ã€‚å…³æ‰é‚®ç®±ï¼Œå¦‚æœå¯ä»¥å°±æ–­æ‰äº’è”ç½‘ã€‚å…³é—­æ‰‹æœºã€‚å‡å¦‚å¯èƒ½å°±åŠªåŠ›åˆ«æ¥ç”µè¯ã€‚ä¸“æ³¨äºé‚£é¡¹ä»»åŠ¡ï¼Œåœ¨ä¸å»æ‹…å¿ƒå…¶ä»–ä»»ä½•äº‹æƒ…çš„æƒ…å†µä¸‹ï¼ŒåŠªåŠ›å°†å®ƒå®Œæˆã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è‹¥ä½ æ„Ÿåˆ°æœ‰æŸ¥çœ‹ç”µé‚®æˆ–è½¬æ¢åˆ°å…¶ä»–ä»»åŠ¡ä¸Šçš„å†²åŠ¨ï¼Œè¯·é˜»æ­¢è‡ªå·±ã€‚åšåšæ·±å‘¼å¸ã€‚é‡æ–°ä¸“æ³¨äºè‡ªæˆ‘ã€‚å›åˆ°ä½ æ‰‹å¤´çš„é‚£é¡¹ä»»åŠ¡ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¦‚æœåœ¨å·¥ä½œæ—¶æ”¶åˆ°å…¶ä»–ä¸œè¥¿ï¼Œè¯·æŠŠå®ƒä»¬æ”¾è¿›æ”¶ä»¶ç®±ï¼Œæˆ–åœ¨è®°å½•ç³»ç»Ÿé‡Œåšå¥½ç¬”è®°ã€‚éšåå›å½’ä½ çš„æ‰‹å¤´ä»»åŠ¡ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å½“å®Œæˆæ‰‹å¤´ä»»åŠ¡åï¼Œè¯·ä¸æ—¶å¤„ç†ä¸€ä¸‹ä½ çš„ç¬”è®°å’Œæ”¶ä»¶ç®±ï¼Œå°†æ–°ä»»åŠ¡æ·»åŠ åˆ°å¾…åšäº‹é¡¹åˆ—è¡¨ï¼Œå¹¶åœ¨éœ€è¦æ—¶é‡æ–°åˆ¶å®šæ—¥ç¨‹å®‰æ’ã€‚æŒ‰ç…§å®šæœŸå’Œé¢„å…ˆè®¾å®šçš„æ—¶é—´é—´éš”å¤„ç†ä¸ªäººé‚®ä»¶å’Œå…¶ä»–æ”¶ä»¶ç®±ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æœ‰æ—¶å¹²æ‰°äº‹é¡¹ä¼šéå¸¸ç´§æ€¥ï¼Œä»¥è‡´äºä½ æ— æ³•å°†å®ƒæ¨è¿Ÿåˆ°å®Œæˆæ‰‹å¤´ä»»åŠ¡åå†åšå¤„ç†ã€‚åœ¨æ­¤æƒ…å½¢ä¸‹ï¼Œè¯·åŠªåŠ›è®°ä¸‹å½“å‰çš„å·¥ä½œè¿›åº¦ï¼ˆè‹¥æœ‰æ—¶é—´è¯·å†™ä¸‹è¿›åº¦ç¬”è®°ï¼‰ï¼ŒæŠŠè·Ÿé‚£é¡¹ä»»åŠ¡ç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶æˆ–ç¬”è®°å†…å®¹æ”¾åœ¨ä¸€èµ·ï¼ˆä¹Ÿè®¸å¯ä»¥æ”¾è¿›â€œè¡ŒåŠ¨â€æ–‡ä»¶å¤¹æˆ–é¡¹ç›®æ–‡ä»¶å¤¹ï¼‰ã€‚ç„¶åï¼Œå½“ä½ å›å½’é‚£é¡¹ä»»åŠ¡æ—¶ï¼Œä¾¿å¯æ‹¿å‡ºå¯¹åº”æ–‡ä»¶å¤¹ï¼ŒæŸ¥çœ‹å…ˆå‰ç¬”è®°æ¥ç¡®å®šè‡ªå·±æš‚åœå·¥ä½œçš„åœ°æ–¹ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è¯·åšåšæ·±å‘¼å¸ï¼Œä¼¸ä¼¸å››è‚¢ï¼Œæ—¶ä¸æ—¶ä¼‘æ¯ä¸€ä¸‹ã€‚å¥½å¥½äº«å—ç”Ÿæ´»ã€‚å‡ºé—¨èµ°èµ°ï¼Œæ¬£èµè‡ªç„¶ç¾æ™¯ã€‚è®©è‡ªå·±ä¿æŒç†æ™ºçŠ¶æ€ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Leo Babautaï¼ˆé‡Œå¥¥Â·å·´ä¼¯å¡”ï¼‰&lt;br /&gt;
2007.02.19&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æ„Ÿè°¢Leoå…¬å¼€æ”¾å¼ƒè‡ªå·±åšå®¢å†…å®¹ï¼ˆzenhabits.netï¼‰çš„ç‰ˆæƒ&lt;br /&gt;
&lt;a href=&#34;http://zenhabits.net/how-not-to-multitask-work-simpler-and/#rd?sukey=a76cdd086edb4fce38bde6191fdb1ccc2a5900824eda91c2970e203265a37440c95c66d0f3c39f4c65e24b9867312dc3&#34;&gt;é˜…è¯»åŸæ–‡&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Shiny Server ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †</title>
      <link>http://youngspring1.github.io/post/2016/2016-03-26-shinyserver-jp/</link>
      <pubDate>Sat, 26 Mar 2016 08:08:31 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-03-26-shinyserver-jp/</guid>
      <description>

&lt;p&gt;Rã¯ã€çµ±è¨ˆã«å¯¾ã—ã¦ã€ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ã«å‘ã‘ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã¯ãã‚“ãªã«è‰¯ããªã„ã¨æ€ã„ã¾ã™ã€‚&lt;br /&gt;
Shiny Serverã¯ã€Webã‚µãƒ¼ãƒ“ã‚¹ã®ã‚ˆã†ã«ã€ãƒ¦ãƒ¼ã‚¶ã®å…¥åŠ›ã‹ã‚‰ã€Rã§è¨ˆç®—ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§çµæœã‚’è¡¨ç¤ºã™ã‚‹ã‚µãƒ¼ãƒã§ã™ã€‚&lt;br /&gt;
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã¯ã€ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚&lt;br /&gt;
ç’°å¢ƒã¯ã€ã‚¤ãƒ³ãƒˆãƒãƒƒãƒˆã«æ¥ç¶šã§ããªã„CentOS 6.5 x64ã§ã™ã€‚&lt;/p&gt;

&lt;h4 id=&#34;1-ã‚½ãƒ¼ã‚¹ã‹ã‚‰rã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;1.ã‚½ãƒ¼ã‚¹ã‹ã‚‰Rã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;./configure --prefix=/opt/r --enable-R-shlib 
make 
make install 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„1ï¼šPATHã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã€Œ/etc/profileã€ã§è¨­å®šã—ã¦ãã ã•ã„ã€‚&lt;br /&gt;
æ³¨æ„2ï¼šRã¯ã€ä»–ã®ã‚³ãƒ³ãƒã«ä¾é ¼ã—ã¾ã™ã€‚ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå¿…è¦ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã‚ˆã‚Šç¢ºèªã—ã¦ãã ã•ã„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install gcc-gfortran 
yum install readline-devel 
yum install libXt-devel 
yum install gcc-c++ glibc-headers
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-xvfbã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;2.Xvfbã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;yum install Xvfb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;èª¬æ˜ï¼šçµµã®ä½œã‚‹ã®ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒ X11ã§ã™ãŒã€ã„ã‚ã„ã‚ãªå•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚æœ€å¾Œã€Xvfbã«ãªã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-shinyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;3.Shinyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h4&gt;

&lt;h5 id=&#34;3-1-shiny-libã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;3.1 Shiny libã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h5&gt;

&lt;p&gt;Rã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã€Shiny libã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;install.packages(&#39;shiny&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä»–ã®libã«ä¾é ¼ã—ã¾ã™ãŒã€ã‚‚ã—ã‚µãƒ¼ãƒã¯ã€ã„ã‚“ã¨ã­ã£ã¨ã«æ¥ç¶šã§ããªã„ãªã‚‰ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ã‚µãƒ¼ãƒã«ç½®ã„ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚&lt;br /&gt;
Rã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã€quit()ã—ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;R CMD INSTALL XXXXX.tar.gz 
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;3-2-shiny-serverã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;3.2 Shiny Serverã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;yum install --nogpgcheck shiny-server-1.4.2.786-rh5-x86_64.rpm 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ä¸‹è¨˜ã®ãƒ‘ã‚¹ã§ã™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/etc/shiny-server/shiny-server.conf 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¢ºèªã®ãŸã‚ã«ã€Shiny libã®10å€‹ã®ä¾‹ã‚’ã€shiny-serverã®ã‚µãƒ¼ãƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cp -R /opt/r/lib64/R/library/shiny/examples/* /srv/shiny-server/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šè¨˜ã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®APPã¯ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€Œ/srv/shiny-server/ã€ã«ç½®ãã¾ã™ã€‚ãã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:3838/ç›®å½•å
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãã‚Œä»¥å¤–ã€èµ·å‹•ãƒ»åœæ­¢ã‚³ãƒãƒ³ãƒ‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;start shiny-server 
stop shiny-server 
restart shiny-server 
status shiny-server 
reload shiny-server #ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä¸­æ­¢ã—ãªã„ã‚ˆã†ã«ã€æ›´æ–°å†…å®¹ã‚’ãƒ­ãƒ¼ãƒ‰
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãƒ›ãƒ¼ãƒ³ãƒšãƒ¼ã‚¸ã‚’ç¢ºèªã—ã¾ã™ã‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:3838/index.html
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”»é¢ã‚’è¡¨ç¤ºã§ãã¾ã™ãŒã€çµµã¯èª¤ã‚ŠãŒã‚ã‚Šãã†ã§ã™ã€‚&lt;/p&gt;

&lt;h4 id=&#34;4-çµµã®ä½œã‚Š:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;4.çµµã®ä½œã‚Š&lt;/h4&gt;

&lt;h5 id=&#34;4-1-xvfbã®èµ·å‹•:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;4.1 Xvfbã®èµ·å‹•&lt;/h5&gt;

&lt;p&gt;X11ã‚’ä½¿ã£ãŸã‚‰ã€ã‚¨ãƒ©ãƒ¼ã€Œcan&amp;rsquo;t start PNG deviceã€ã«ãªã‚Šã¾ã™ã€‚&lt;br /&gt;
ãã®ãŸã‚ã«ã€X11ã®ä»£ã‚ã‚Šã«ï¼ŒXvfbã‚’ä½¿ã„ã¾ã™ã€‚&lt;br /&gt;
Xvfbã‚’èµ·å‹•ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Xvfb :3 -screen 1 1280x1024x24
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;4-1-è¨­å®š:16be4caf9550ae37fbcf4bfe15c6e5b2&#34;&gt;4.1 è¨­å®š&lt;/h5&gt;

&lt;p&gt;ui.Rã«ã¯ã€ä¸‹è¨˜ã®å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Sys.setenv(DISPLAY = &amp;quot;:3.1&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¾‹ã‚’ç¢ºèªã—ã¾ã›ã‚“ã‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:3838/index.html 
http://localhost:3838/01_hello/ 
http://localhost:3838/02_text/
http://localhost:3838/03_reactivity/
http://localhost:3838/04_mpg/
http://localhost:3838/05_sliders/
http://localhost:3838/06_tabsets/
http://localhost:3838/07_widgets/
http://localhost:3838/08_html/
http://localhost:3838/09_upload/
http://localhost:3838/10_download/
http://localhost:3838/11_timer/
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;å‚ç…§ï¼š&lt;a href=&#34;https://www.rstudio.com/products/shiny/shiny-server2/&#34;&gt;https://www.rstudio.com/products/shiny/shiny-server2/&lt;/a&gt;&lt;br /&gt;
ä¸­å›½èªç‰ˆï¼š&lt;a href=&#34;http://youngspring1.github.io/post/2016-03-25-shinyserver/&#34;&gt;http://youngspring1.github.io/post/2016-03-25-shinyserver/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Shiny Server å®‰è£…æ­¥éª¤</title>
      <link>http://youngspring1.github.io/post/2016/2016-03-25-shinyserver/</link>
      <pubDate>Fri, 25 Mar 2016 20:00:38 +0800</pubDate>
      
      <guid>http://youngspring1.github.io/post/2016/2016-03-25-shinyserver/</guid>
      <description>

&lt;p&gt;Rè¯­è¨€éå¸¸é€‚åˆç”¨äºç»Ÿè®¡ç›¸å…³çš„è¿ç®—ã€‚ä½†æ˜¯åœ¨ç”¨æˆ·äº¤äº’æ–¹é¢ä¸å¤Ÿå‹å¥½ã€‚&lt;br /&gt;
Shiny Serveræ˜¯RStudioæ¨å‡ºçš„ï¼Œä¸€ä¸ªWebæœåŠ¡ã€‚å®ƒå¯ä»¥æ¥å—ç”¨æˆ·çš„è¾“å…¥ï¼Œä½¿ç”¨Rè¯­è¨€è¿›è¡Œè®¡ç®—ï¼Œæœ€ç»ˆå±•ç¤ºè®¡ç®—ç»“æœã€‚è¿™ä¸€åˆ‡éƒ½åœ¨æµè§ˆå™¨ä¸Šå®Œæˆã€‚&lt;br /&gt;
æ€»ä¹‹éå¸¸å®ç”¨ï¼Œç°åœ¨æ•´ç†ä¸‹æˆ‘è‡ªå·±çš„å®‰è£…æ‰‹å†Œã€‚&lt;/p&gt;

&lt;h4 id=&#34;1-ä»ä»£ç å®‰è£…r:c33352843d2370512fb8e3c681b7c165&#34;&gt;1.ä»ä»£ç å®‰è£…R&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;./configure --prefix=/opt/r --enable-R-shlib 
make 
make install 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„1ï¼šPATHè¦è®¾ç½®è¿™ä¸ªæ–‡ä»¶ï¼Œå¦åˆ™å¯èƒ½ä¼šæ‰¾ä¸åˆ°R ï¼š/etc/profile&lt;br /&gt;
æ³¨æ„2ï¼šå¯èƒ½ä¾èµ–å…¶ä»–åŒ…æ¯”å¦‚fortranï¼Œä½ å¯èƒ½è¿˜éœ€è¦æ‰§è¡Œä¸‹é¢è¿™äº›å‘½ä»¤ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install gcc-gfortran 
yum install readline-devel 
yum install libXt-devel 
yum install gcc-c++ glibc-headers
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-å®‰è£…xvfb:c33352843d2370512fb8e3c681b7c165&#34;&gt;2.å®‰è£…Xvfb&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;yum install Xvfb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯´æ˜ï¼šç»˜åˆ¶å›¾å½¢å¥½åƒé»˜è®¤ä½¿ç”¨ X11ï¼Œä½†æ˜¯å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°äº†å„ç§éº»çƒ¦ï¼Œæœ€åå°è¯•äº†è¿™ä¸ªï¼Œèƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-å®‰è£…shiny:c33352843d2370512fb8e3c681b7c165&#34;&gt;3.å®‰è£…Shiny&lt;/h4&gt;

&lt;h5 id=&#34;3-1-å®‰è£…shiny:c33352843d2370512fb8e3c681b7c165&#34;&gt;3.1 å®‰è£…Shiny&lt;/h5&gt;

&lt;p&gt;Rå‘½ä»¤è¡Œä¸‹é¢å®‰è£…Shinyçš„åŒ…ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;install.packages(&#39;shiny&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šå®‰è£…å…¶ä»–ä¾èµ–çš„åŒ…ã€‚&lt;br /&gt;
å¦‚æœä½ è·Ÿæˆ‘ä¸€æ ·ï¼ŒæœåŠ¡å™¨ä¸èƒ½è¿ç½‘ç»œï¼Œé‚£å°±å¿…é¡»ä¸‹è½½å¥½å‹ç¼©åŒ…ï¼Œå†ä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œä»æœ¬åœ°å®‰è£…ã€‚&lt;br /&gt;
ä½†æ˜¯ä¸åœ¨Rå‘½ä»¤è¡Œä¸‹ï¼Œè€Œæ˜¯è¿˜è¦quit()é€€å‡ºæ¥ã€‚&lt;br /&gt;
å®‰è£…çš„å‘½ä»¤é•¿è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;R CMD INSTALL XXXXX.tar.gz 
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;3-2-å®‰è£…shiny-server:c33352843d2370512fb8e3c681b7c165&#34;&gt;3.2 å®‰è£…Shiny Server&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;yum install --nogpgcheck shiny-server-1.4.2.786-rh5-x86_64.rpm 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é…ç½®æ–‡ä»¶è·¯å¾„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/etc/shiny-server/shiny-server.conf 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½ å¯ä»¥æŠŠshinyåŒ…é‡Œé¢è‡ªå¸¦çš„10ä¸ªä¾‹å­ï¼Œéƒ½æ‹·è´åˆ°shiny-serverçš„ç›®å½•ä¸‹å»ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cp -R /opt/r/lib64/R/library/shiny/examples/* /srv/shiny-server/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ˜¯çš„ï¼Œä½ ä»¥åæ‰€æœ‰çš„APPéƒ½è¦åœ¨/srv/shiny-server/ç›®å½•ä¸‹ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­é€šè¿‡è¿™æ ·çš„æ–¹å¼æ¥è®¿é—®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:3838/ç›®å½•å
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦å¤–ï¼Œå¯åŠ¨ï¼åœæ­¢ç­‰å‘½ä»¤ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;start shiny-server 
stop shiny-server 
restart shiny-server 
status shiny-server 
reload shiny-server #ä¸ä¸­æ–­æœåŠ¡çš„å‰æä¸‹ æ›´æ–°åŠ è½½é…ç½®é¡¹
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ—¶å¯ä»¥çœ‹ä¸‹é¦–é¡µï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:3838/index.html
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é¡µé¢èƒ½å¤Ÿæ˜¾ç¤ºï¼Œä½†æ˜¯ç»˜å›¾çš„éƒ¨åˆ†å¥½åƒæŠ¥é”™äº†ã€‚&lt;/p&gt;

&lt;h4 id=&#34;4-ç»˜å›¾å¼•æ“:c33352843d2370512fb8e3c681b7c165&#34;&gt;4.ç»˜å›¾å¼•æ“&lt;/h4&gt;

&lt;h5 id=&#34;4-1-å¯åŠ¨xvfb:c33352843d2370512fb8e3c681b7c165&#34;&gt;4.1 å¯åŠ¨Xvfb&lt;/h5&gt;

&lt;p&gt;å„ç§æ³ªæµæ»¡é¢å•Šï¼Œä¹ç‰›äºŒè™å•Šã€‚ä¹‹å‰å®‰è£…ä¸€å †ä¸œè¥¿ï¼Œä¼å›¾ä½¿ç”¨X11ï¼Œä¼šæŠ¥é”™ï¼šcan&amp;rsquo;t start PNG deviceã€‚&lt;br /&gt;
åæ¥æ”¾å¼ƒX11ï¼Œä½¿ç”¨Xvfbã€‚éœ€è¦å¯åŠ¨Xvfbã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Xvfb :3 -screen 1 1280x1024x24
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;4-1-è®¾ç½®:c33352843d2370512fb8e3c681b7c165&#34;&gt;4.1 è®¾ç½®&lt;/h5&gt;

&lt;p&gt;ui.Réœ€è¦åŠ å…¥ä¸‹é¢è¿™ä¸€è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Sys.setenv(DISPLAY = &amp;quot;:3.1&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è®¿é—®ç¤ºä¾‹è¯•è¯•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:3838/index.html 
http://localhost:3838/01_hello/ 
http://localhost:3838/02_text/
http://localhost:3838/03_reactivity/
http://localhost:3838/04_mpg/
http://localhost:3838/05_sliders/
http://localhost:3838/06_tabsets/
http://localhost:3838/07_widgets/
http://localhost:3838/08_html/
http://localhost:3838/09_upload/
http://localhost:3838/10_download/
http://localhost:3838/11_timer/
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;å‚ç…§ï¼š&lt;a href=&#34;https://www.rstudio.com/products/shiny/shiny-server2/&#34;&gt;https://www.rstudio.com/products/shiny/shiny-server2/&lt;/a&gt;&lt;br /&gt;
æ—¥æ–‡ç‰ˆï¼š&lt;a href=&#34;http://youngspring1.github.io/post/2016-03-26-shinyserver-jp/&#34;&gt;http://youngspring1.github.io/post/2016-03-26-shinyserver-jp/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>